
# Instala√ß√£o

Este guia mostra como instalar e configurar o Archbase React em seu projeto.

## Requisitos

<Card icon="‚öôÔ∏è" title="Requisitos do Sistema" color="blue">
  Antes de instalar, certifique-se de que seu ambiente atende aos seguintes requisitos:
  <ul>
    <li><strong>Node.js</strong> 20.0 ou superior</li>
    <li><strong>React</strong> 18.3+ ou 19.0+</li>
    <li><strong>TypeScript</strong> 5.0+ (recomendado)</li>
  </ul>
</Card>

## Instala√ß√£o dos Pacotes

<CodeGroup>
  <CodeTab label="pnpm">pnpm add @archbase/core @archbase/data @archbase/components</CodeTab>
  <CodeTab label="npm">npm install @archbase/core @archbase/data @archbase/components</CodeTab>
  <CodeTab label="yarn">yarn add @archbase/core @archbase/data @archbase/components</CodeTab>
</CodeGroup>

## Pacotes Adicionais

<Details summary="Pacotes adicionais dispon√≠veis">
Conforme sua necessidade, voc√™ pode instalar outros pacotes do ecossistema Archbase:

<CodeGroup>
  <CodeTab label="pnpm">
pnpm add @archbase/template @archbase/layout @archbase/admin
pnpm add @archbase/security @archbase/security-ui
pnpm add @archbase/advanced @archbase/ssr
  </CodeTab>
  <CodeTab label="npm">
npm install @archbase/template @archbase/layout @archbase/admin
npm install @archbase/security @archbase/security-ui
npm install @archbase/advanced @archbase/ssr
  </CodeTab>
  <CodeTab label="yarn">
yarn add @archbase/template @archbase/layout @archbase/admin
yarn add @archbase/security @archbase/security-ui
yarn add @archbase/advanced @archbase/ssr
  </CodeTab>
</CodeGroup>
</Details>

## Depend√™ncias Peer

O Archbase React requer algumas depend√™ncias que voc√™ precisa instalar manualmente:

<Card icon="üì¶" title="Depend√™ncias Necess√°rias" color="orange">
  <CodeGroup>
    <CodeTab label="pnpm">pnpm add react react-dom @mantine/core @mantine/hooks @tanstack/react-query</CodeTab>
    <CodeTab label="npm">npm install react react-dom @mantine/core @mantine/hooks @tanstack/react-query</CodeTab>
    <CodeTab label="yarn">yarn add react react-dom @mantine/core @mantine/hooks @tanstack/react-query</CodeTab>
  </CodeGroup>
</Card>

### Lista completa de peer dependencies:

| Pacote | Vers√£o M√≠nima |
|--------|---------------|
| `react` | ^18.3.0 ou ^19.0.0 |
| `react-dom` | ^18.3.0 ou ^19.0.0 |
| `@mantine/core` | ^8.0.0 |
| `@mantine/hooks` | ^8.0.0 |
| `@tanstack/react-query` | ^5.0.0 |
| `i18next` | ^23.0.0 |
| `react-i18next` | ^14.0.0 |

## Configura√ß√£o B√°sica

### 1. Configure o Provider Principal

No arquivo raiz da sua aplica√ß√£o (geralmente `App.tsx` ou `main.tsx`):

```tsx title="src/App.tsx"
import { ArchbaseGlobalProvider } from '@archbase/core';
import { MantineProvider } from '@mantine/core';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';

// Importar estilos do Mantine
import '@mantine/core/styles.css';

const queryClient = new QueryClient();

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <MantineProvider>
        <ArchbaseGlobalProvider>
          {/* Sua aplica√ß√£o aqui */}
        </ArchbaseGlobalProvider>
      </MantineProvider>
    </QueryClientProvider>
  );
}

export default App;
```

### 2. Configure o i18n (Opcional)

<Details summary="Configura√ß√£o de internacionaliza√ß√£o">
Se precisar de internacionaliza√ß√£o:

```tsx title="src/i18n.ts"
import { initArchbaseI18nEarly } from '@archbase/core';

// Chamar ANTES de renderizar a aplica√ß√£o
initArchbaseI18nEarly({
  lng: 'pt-BR',
  fallbackLng: 'en',
  ns: ['archbase', 'common'],
  defaultNS: 'common',
});
```

```tsx title="src/main.tsx"
import './i18n'; // Importar primeiro!
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```
</Details>

## Configura√ß√£o com Vite

```ts title="vite.config.ts"
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  optimizeDeps: {
    include: [
      '@archbase/core',
      '@archbase/data',
      '@archbase/components',
    ],
  },
});
```

## Configura√ß√£o com Next.js

<Details summary="Ver configura√ß√£o Next.js">
```tsx title="app/providers.tsx"
'use client';

import { ArchbaseGlobalProvider } from '@archbase/core';
import { MantineProvider } from '@mantine/core';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { useState } from 'react';

export function Providers({ children }: { children: React.ReactNode }) {
  const [queryClient] = useState(() => new QueryClient());

  return (
    <QueryClientProvider client={queryClient}>
      <MantineProvider>
        <ArchbaseGlobalProvider>
          {children}
        </ArchbaseGlobalProvider>
      </MantineProvider>
    </QueryClientProvider>
  );
}
```

```tsx title="app/layout.tsx"
import { Providers } from './providers';
import '@mantine/core/styles.css';

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="pt-BR">
      <body>
        <Providers>{children}</Providers>
      </body>
    </html>
  );
}
```
</Details>

## Verificando a Instala√ß√£o

Crie um componente simples para verificar se tudo est√° funcionando:

```tsx title="src/TestComponent.tsx"
import { ArchbaseEdit } from '@archbase/components';
import { useArchbaseDataSourceV2 } from '@archbase/data';

interface Pessoa {
  id: number;
  nome: string;
}

export function TestComponent() {
  const { dataSource, edit, save, cancel, isEditing } = useArchbaseDataSourceV2<Pessoa>({
    initialData: [{ id: 1, nome: 'Teste' }],
    name: 'test-datasource',
  });

  return (
    <div style={{ padding: 20 }}>
      <h2>Teste de Instala√ß√£o</h2>
      <ArchbaseEdit
        dataSource={dataSource}
        dataField="nome"
        label="Nome"
        disabled={!isEditing}
      />
      <div style={{ marginTop: 10 }}>
        {isEditing ? (
          <>
            <button onClick={save}>Salvar</button>
            <button onClick={cancel}>Cancelar</button>
          </>
        ) : (
          <button onClick={edit}>Editar</button>
        )}
      </div>
    </div>
  );
}
```

<Card icon="‚úÖ" title="Sucesso!" color="green">
  Se o componente renderizar corretamente e voc√™ conseguir editar/salvar, a instala√ß√£o est√° completa!
</Card>

## Pr√≥ximos Passos

- [Quick Start](/getting-started/quick-start) - Crie seu primeiro formul√°rio completo
- [Estrutura de Pacotes](/getting-started/project-structure) - Entenda a organiza√ß√£o dos pacotes
- [DataSource V2](/core-concepts/datasource-v2) - Aprenda sobre gerenciamento de dados
