# ArchbaseVideoPlayer

Player de vídeo completo e customizável para aplicações React. Inclui controles customizados, suporte a múltiplas qualidades, legendas, Picture-in-Picture e fullscreen.

## Uso Básico

```tsx
import { ArchbaseVideoPlayer } from '@archbase/components';

function App() {
  return (
    <ArchbaseVideoPlayer
      src="/path/to/video.mp4"
      width="100%"
      height={500}
    />
  );
}
```

## Múltiplas Qualidades

```tsx
import { ArchbaseVideoPlayer } from '@archbase/components';

function App() {
  const qualities = [
    { label: '360p', src: '/video-360p.mp4' },
    { label: '720p', src: '/video-720p.mp4' },
    { label: '1080p', src: '/video-1080p.mp4' }
  ];

  return (
    <ArchbaseVideoPlayer
      src={qualities}
      defaultQuality="720p"
      width="100%"
      height={500}
    />
  );
}
```

## Legendas

```tsx
import { ArchbaseVideoPlayer } from '@archbase/components';

function App() {
  const subtitles = [
    {
      kind: 'subtitles' as const,
      src: '/subtitles-pt.vtt',
      srclang: 'pt',
      label: 'Português',
      default: true
    },
    {
      kind: 'subtitles' as const,
      src: '/subtitles-en.vtt',
      srclang: 'en',
      label: 'English'
    }
  ];

  return (
    <ArchbaseVideoPlayer
      src="/video.mp4"
      subtitles={subtitles}
      width="100%"
      height={500}
    />
  );
}
```

## Poster e Capa

```tsx
import { ArchbaseVideoPlayer } from '@archbase/components';

function App() {
  return (
    <ArchbaseVideoPlayer
      src="/video.mp4"
      poster="/video-poster.jpg"
      width="100%"
      height={500}
    />
  );
}
```

## Autoplay e Mute

```tsx
import { ArchbaseVideoPlayer } from '@archbase/components';

function App() {
  return (
    <ArchbaseVideoPlayer
      src="/video.mp4"
      autoplay
      muted
      autoplayBehavior="any"
      width="100%"
      height={500}
    />
  );
}
```

## Controles Customizados

```tsx
import { ArchbaseVideoPlayer } from '@archbase/components';

function App() {
  return (
    <ArchbaseVideoPlayer
      src="/video.mp4"
      controls
      alwaysShowControls={false}
      hideControlsOnIdle={true}
      controlsIdleTimeout={3000}
      toolbarActions={{
        playPause: true,
        volume: true,
        fullscreen: true,
        pictureInPicture: true,
        subtitles: true,
        playbackRate: true
      }}
      width="100%"
      height={500}
    />
  );
}
```

## Cores Customizadas

```tsx
import { ArchbaseVideoPlayer } from '@archbase/components';

function App() {
  return (
    <ArchbaseVideoPlayer
      src="/video.mp4"
      accentColor="#ff6b6b"
      width="100%"
      height={500}
    />
  );
}
```

## Eventos

```tsx
import { ArchbaseVideoPlayer } from '@archbase/components';

function App() {
  return (
    <ArchbaseVideoPlayer
      src="/video.mp4"
      onPlay={() => console.log('Playing')}
      onPause={() => console.log('Paused')}
      onEnded={() => console.log('Ended')}
      onTimeUpdate={(time) => console.log('Time:', time)}
      onProgress={(buffered) => console.log('Buffered:', buffered)}
      onVolumeChange={(volume) => console.log('Volume:', volume)}
      onFullscreenChange={(isFullscreen) => console.log('Fullscreen:', isFullscreen)}
      onError={(error) => console.error('Error:', error)}
    />
  );
}
```

## Taxa de Reprodução

```tsx
import { ArchbaseVideoPlayer } from '@archbase/components';

function App() {
  return (
    <ArchbaseVideoPlayer
      src="/video.mp4"
      playbackRate={1.5}
      allowedPlaybackRates={[0.5, 0.75, 1, 1.25, 1.5, 2]}
      width="100%"
      height={500}
    />
  );
}
```

## Props

| Prop | Tipo | Padrão | Descrição |
|------|------|--------|-----------|
| `src` | `VideoSource \| VideoQuality[]` | - | Fonte do vídeo |
| `width` | `string \| number` | `'100%'` | Largura do player |
| `height` | `string \| number` | `'auto'` | Altura do player |
| `poster` | `string` | - | Imagem de capa |
| `subtitles` | `TextTrack[]` | - | Legendas disponíveis |
| `autoplay` | `boolean` | `false` | Reproduzir automaticamente |
| `muted` | `boolean` | `false` | Iniciar mudo |
| `loop` | `boolean` | `false` | Repetir vídeo |
| `playsinline` | `boolean` | `true` | Reproduzir inline (mobile) |
| `controls` | `boolean` | `true` | Mostrar controles |
| `defaultQuality` | `string` | - | Qualidade padrão |
| `playbackRate` | `number` | `1` | Taxa de reprodução |
| `allowedPlaybackRates` | `number[]` | `[0.5, 1, 1.5, 2]` | Taxas disponíveis |
| `accentColor` | `string` | - | Cor de destaque |
| `alwaysShowControls` | `boolean` | `false` | Sempre mostrar controles |
| `hideControlsOnIdle` | `boolean` | `true` | Esconder controles quando inativo |
| `controlsIdleTimeout` | `number` | `3000` | Tempo para esconder controles (ms) |
| `toolbarActions` | `VideoToolbarActions` | - | Ações da toolbar |
| `disabled` | `boolean` | `false` | Desabilitar player |
| `noData` | `ReactNode` | - | Conteúdo quando não há fonte |
| `className` | `string` | - | Classe CSS customizada |
| `containerClassName` | `string` | - | Classe do container |
| `onPlay` | `function` | - | Callback ao reproduzir |
| `onPause` | `function` | - | Callback ao pausar |
| `onEnded` | `function` | - | Callback ao finalizar |
| `onTimeUpdate` | `function` | - | Callback ao atualizar tempo |
| `onProgress` | `function` | - | Callback ao atualizar buffer |
| `onVolumeChange` | `function` | - | Callback ao mudar volume |
| `onFullscreenChange` | `function` | - | Callback ao mudar fullscreen |
| `onPiPChange` | `function` | - | Callback ao mudar PiP |
| `onError` | `function` | - | Callback ao ocorrer erro |

### VideoSource

```typescript
type VideoSource =
  | string              // URL do vídeo
  | { src: string; type?: string }
  | { url: string }
  | { base64: string }
  | File
  | Blob;
```

### VideoQuality

```typescript
interface VideoQuality {
  label: string;
  src: string;
  type?: string;
  res?: { width: number; height: number };
  bitrate?: number;
}
```

### TextTrack

```typescript
interface TextTrack {
  kind: 'subtitles' | 'captions' | 'descriptions' | 'chapters' | 'metadata';
  src: string;
  srclang: string;
  label: string;
  default?: boolean;
}
```

### VideoToolbarActions

```typescript
interface VideoToolbarActions {
  playPause?: boolean;
  volume?: boolean;
  fullscreen?: boolean;
  pictureInPicture?: boolean;
  subtitles?: boolean;
  playbackRate?: boolean;
}
```

## Acessibilidade

- Navegação completa por teclado
- Labels ARIA apropriados
- Suporte a screen readers
- Legendas para acessibilidade

## Formatos Suportados

- MP4 (H.264)
- WebM (VP8/VP9)
- OGG (Theora)
- MOV (contingente)
- Formatos dependem do navegador

## Referências

- [Video element - MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video)
