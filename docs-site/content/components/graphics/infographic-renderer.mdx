import * as demos from '../../../demos/components/graphics';

## InfographicRenderer

O `InfographicRenderer` é um componente React que permite renderizar infográficos utilizando a biblioteca [@antv/infographic](https://github.com/antvis/Infographic). Ele suporta uma sintaxe DSL declarativa para criar mais de 200 tipos de infográficos diferentes.

## Uso Básico

Use o componente `InfographicRenderer` passando uma especificação DSL:

<Demo data={demos.usage} />

## Templates DSL

O componente suporta diversos templates para diferentes tipos de visualização:

<Demo data={demos.dslTemplates} />

### Templates Disponíveis

O pacote inclui acesso a 200+ templates do @antv/infographic. Alguns dos mais utilizados:

| Template | Descrição |
|----------|-----------|
| `list-row-simple-horizontal-arrow` | Lista horizontal com setas |
| `list-row-simple-horizontal-line` | Lista horizontal com linhas |
| `list-row-simple-vertical-arrow` | Lista vertical com setas |
| `timeline-simple-vertical` | Timeline vertical |
| `card-simple` | Cartão simples |
| `mindmap-simple` | Mapa mental |
| `flowchart-simple` | Fluxograma |

## Hook useInfographic

Para maior controle, você pode usar o hook `useInfographic`:

<Demo data={demos.hookUsage} />

## Funções Utilitárias

O pacote inclui funções auxiliares para criar infográficos comuns:

<Demo data={demos.utilities} />

### createProcessInfographic

Cria um infográfico de processo com etapas sequenciais:

```tsx
const spec = createProcessInfographic([
  { label: 'Discovery', desc: 'Levantamento de requisitos' },
  { label: 'Design', desc: 'Criação de protótipos' },
  { label: 'Development', desc: 'Implementação' },
  { label: 'Testing', desc: 'QA e validação' },
  { label: 'Launch', desc: 'Deploy em produção' },
]);
```

### createTimelineInfographic

Cria uma timeline com eventos:

```tsx
const spec = createTimelineInfographic([
  { label: '2024 Q1', desc: 'Início do projeto', date: 'Jan-Mar' },
  { label: '2024 Q2', desc: 'MVP lançado', date: 'Abr-Jun' },
  { label: '2024 Q3', desc: 'Expansão de features', date: 'Jul-Set' },
  { label: '2024 Q4', desc: 'Versão estável', date: 'Out-Dez' },
]);
```

### createMetricCard

Cria um cartão de métrica:

```tsx
const spec = createMetricCard(
  'Receita Total',
  'R$ 1.250.000',
  'Crescimento de 25%'
);
```

## Props Principais

| Prop | Tipo | Default | Descrição |
|------|------|---------|-----------|
| `width` | `string \| number` | `'100%'` | Largura do container |
| `height` | `string \| number` | `'100%'` | Altura do container |
| `specification` | `string` | - | Especificação DSL do infográfico |
| `editable` | `boolean` | `false` | Habilita modo de edição |
| `theme` | `string` | - | Tema a aplicar |
| `className` | `string` | - | Classe CSS adicional |
| `onReady` | `(instance) => void` | - | Callback quando o infográfico estiver pronto |
| `onRenderComplete` | `() => void` | - | Callback após renderização |
| `onError` | `(error) => void` | - | Callback em caso de erro |

## Sintaxe DSL

A sintaxe DSL do @antv/infographic consiste de:

1. **Tipo do infográfico**: Define o template
2. **Seção de dados**: Contém os itens a serem renderizados

```yaml
infographic list-row-simple-horizontal-arrow
data
  items:
    - label: Etapa 1
      desc: Descrição da etapa
    - label: Etapa 2
      desc: Outra descrição
```

## Edição

Habilitando a prop `editable`, o infográfico se torna editável:

```tsx
<InfographicRenderer
  width="100%"
  height="500px"
  editable={true}
  specification={specification}
/>
```

## Integração com DataSource

Você pode integrar o infográfico com DataSource para visualizar dados dinâmicos:

```tsx
import { useArchbaseDataSourceV2 } from '@archbase/data';
import { InfographicRenderer, createProcessInfographic } from '@archbase/graphics';

function ProjectInfographic() {
  const { dataSource, current } = useArchbaseDataSourceV2({
    initialData: [
      { id: '1', etapa: 'Planejamento', status: 'Concluído' },
      { id: '2', etapa: 'Desenvolvimento', status: 'Em andamento' },
      { id: '3', etapa: 'Testes', status: 'Pendente' },
    ],
    name: 'dsProject',
  });

  const items = current?.map(item => ({
    label: item.etapa,
    desc: item.status,
  })) || [];

  const spec = createProcessInfographic(items);

  return <InfographicRenderer specification={spec} />;
}
```

## Acessibilidade

O componente segue boas práticas de acessibilidade:

- Suporte a leitores de tela através do SVG gerado
- Navegação por teclado quando em modo editável
- Contraste adequado conforme o tema selecionado

## Galeria de Exemplos

Para ver mais exemplos de infográficos para diferentes casos de uso, visite a [Galeria de Exemplos](/components/graphics/gallery), onde você encontrará:

- Templates de listas e processos
- Métricas de negócios (KPIs, funil de vendas)
- Gerenciamento de projetos (SDLC, agile, roadmaps)
- Stacks tecnológicas
- Exemplos de saúde e educação

## Referências

- [Documentação oficial do @antv/infographic](https://github.com/antvis/Infographic)
- [Galeria de templates](https://infographic.antv.antgroup.com/)
