import catalog from '../../component-catalog.json';

# Forms

Conecte `ArchbaseEdit`, `ArchbaseMaskEdit`, `ArchbaseDatePickerEdit` e `ArchbaseActionButtons` em um formulário data-aware.

## Checklist

- ✅ `dataSource` ou `value`: defina claramente a fonte dos dados. Ex.: `ArchbaseEdit` usa `dataSource`/`dataField`.
- ✅ `onChangeValue(value)` em vez de `onChange(event)`, documentado no catálogo (`component-catalog.json` extrai o JSDoc).
- ✅ `error`/`description`: use o ValidationErrorsContext e atualize `ArchbaseEdit`/`MaskEdit`.
- ✅ Loading e status: use `ArchbaseActionButtons` com estados `isSaving`/`isCanceling`.
- ✅ Accessibility: associe `<label>` com `id`, use `tooltip` explicativo e exponha `aria-live` nos erros.

## Exemplos

```tsx
<ArchbaseEdit
  dataSource={ds}
  dataField="name"
  label="Nome"
  description="Informação obrigatória"
  required
  onChangeValue={(v) => console.log('novo valor', v)}
/>;
```

O recipe completo está em `docs/stories/FormRecipes.stories.mdx` e mostra o fluxo com `ArchbaseMaskEdit`, `ArchbaseDatePickerEdit`, `ArchbaseActionButtons` e loaders.

## Links canônicos

- `ArchbaseEdit`: <a href={catalog.components.find((c) => c.name === 'ArchbaseEdit')?.canonicalUrl}>link</a>
- `ArchbaseMaskEdit`: <a href={catalog.components.find((c) => c.name === 'ArchbaseMaskEdit')?.canonicalUrl}>link</a>
- `ArchbaseActionButtons`: <a href={catalog.components.find((c) => c.name === 'ArchbaseActionButtons')?.canonicalUrl}>link</a>

Use esses links em `llms.txt` e na seção “Recipes” do portal para direcionar o time ao Storybook oficial.

## Validação & DataSource

1. Inicialize `ArchbaseDataSource` (v1 ou v2) antes do render, passe para `ArchbaseFormTemplate`/`ArchbaseEdit`.
2. Utilize `ArchbaseValidator` + `ValidationErrorsContext` para sincronizar erros. Os comentários em `ArchbaseEdit.tsx` (veja `component-catalog.json`) descrevem `validationContext`.
3. Combine `required`, `minLength`, `maxLength` e `onChangeValue` para fornecer feedback contínuo e manter o estado do `DataSource`.
