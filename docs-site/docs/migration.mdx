import { Meta } from '@storybook/addon-docs';

<Meta title="Migração" />

# Migração

Documente as mudanças de versão no portal, destacando:

## Migração v2 → v3

1. **Imports**: migre para `@archbase/components` (os novos exports estão em `component-catalog.json` com `status`/`canonicalUrl`).
2. **DataSource v2**: continue usando `<ArchbaseEdit dataSource={ArchbaseDataSourceV2}>` — a compatibilidade é mantida (veja `docs/datasource-v2-*` e o story `docs/stories/FormRecipes.stories.mdx`).
3. **Segurança**: revise `ArchbaseSecurityProvider` e os modais `UserModal`/`GroupModal`; o catálogo expõe os APIs em `security-ui`.

```
cat component-catalog.json | jq '.components | map(select(.name=="ArchbaseEdit")) | .[0]'
```

## Atualizações contínuas

- Sempre que mudar um componente, atualize o `@status` no JSDoc para sinalizar `stable`, `experimental` ou `legacy`.
- Gere `component-catalog.json` e publique o `llms.txt`/docs para que IA e devs vejam o status atualizado. Isso evita regressões durante migrações.
