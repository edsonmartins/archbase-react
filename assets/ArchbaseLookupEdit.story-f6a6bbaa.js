import{j as e,a as t}from"./jsx-runtime-2ca98591.js";import"./index-c7b2439e.js";import"./ArchbaseJsonPathPicker-53ebc30a.js";import"./ArchbaseDebugInspector-f24b3ce4.js";import{A as L}from"./ArchbaseObjectInspector-990588d9.js";import"./index-402471b7.js";import"./ArchbaseAdvancedTabs-2e888216.js";import{o as u,u as P,D as S,m as y,p as C}from"./ArchbaseGlobalFilter-42984565.js";import{F as D,S as B}from"./ArchbaseRemoteApiService-1c9bc946.js";import{u as F}from"./useArchbaseDataSource-f028c0b5.js";import{u as j}from"./useArchbaseDataSourceListener-d2a23bbf.js";import{u as v}from"./useArchbaseRemoteServiceApi-57e72670.js";import"./useArchbasePassiveLayoutEffect-8e758e5c.js";import{A as G,a as _}from"./DemoContainerIOC-7bde7866.js";import{A as p}from"./ArchbaseNotifications-0d31dbcc.js";import{G as n,C as i}from"./Grid-10ef5cfd.js";import{G as d}from"./Group-d6868f5c.js";import{T as m}from"./Text-6036efe5.js";import{B as I}from"./Box-603b1b1a.js";import"./createReactComponent-b82b540a.js";import"./MantineProvider-c53063b6.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-20a9f65a.js";import"./_commonjsHelpers-de833af9.js";import"./Button-86c3033b.js";import"./index-29301433.js";import"./use-isomorphic-effect-d441b347.js";import"./index-9d475cdf.js";import"./ArchbaseFloatingWindow-5a72a221.js";import"./Paper-165ce658.js";import"./use-window-event-f88e3fb7.js";import"./extends-98964cd2.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./___vite-browser-external_commonjs-proxy-19bb288c.js";const N=_,O=()=>{const f=P(),E=v(G.Pessoa),{dataSource:r}=F({initialData:N,name:"dsPedidos"});r!=null&&r.isBrowsing()&&!(r!=null&&r.isEmpty())&&r.edit(),j({dataSource:r,listener:o=>{switch(o.type){case S.fieldChanged:{f();break}}}});const A=o=>new Promise(async(b,k)=>{try{const s=await E.findOne(parseInt(o));b(s)}catch(s){k(C(s))}}),g=o=>{p.showError(o,"Atenção")},w=o=>{},x=()=>{p.showError("Clicou ação localizar.","Atenção")};return t(n,{children:[e(n.Col,{offset:1,span:6,children:t(i,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[e(i.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:e(d,{position:"apart",children:e(m,{weight:500,children:"Lookup Edit Component"})})}),e(I,{sx:o=>({height:100}),children:t(D,{justify:"flex-start",align:"center",direction:"row",wrap:"nowrap",gap:"xs",children:[e(u,{label:"Código",dataSource:r,dataField:"cliente",lookupField:"cliente.id",lookupValueDelegator:A,onLookupError:g,onLookupResult:w,onActionSearchExecute:x,validateOnExit:!0,required:!0,validateMessage:"Pessoa {0} não encontrada.",width:150}),e(y,{label:"Nome",dataSource:r,dataField:"cliente.nome",disabled:!0,width:500})]})})]})}),e(n.Col,{span:4,children:t(i,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[e(i.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:e(d,{position:"apart",children:e(m,{weight:500,children:"DataSource dsPedidos"})})}),e(B,{sx:o=>({height:500}),children:e(L,{data:r})})]})})]})},Ae={title:"Editores/Lookup Edit",component:u},a={name:"Exemplo simples",render:()=>e(O,{})};var c,l,h;a.parameters={...a.parameters,docs:{...(c=a.parameters)==null?void 0:c.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbaseLookupEditExample />
}`,...(h=(l=a.parameters)==null?void 0:l.docs)==null?void 0:h.source}}};export{a as Primary,Ae as default};
//# sourceMappingURL=ArchbaseLookupEdit.story-f6a6bbaa.js.map
