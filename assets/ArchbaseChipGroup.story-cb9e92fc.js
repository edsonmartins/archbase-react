import{j as r,a as s}from"./jsx-runtime-2ca98591.js";import"./index-c7b2439e.js";import"./ArchbaseJsonPathPicker-53ebc30a.js";import"./ArchbaseDebugInspector-f24b3ce4.js";import{A as b}from"./ArchbaseObjectInspector-990588d9.js";import{a as F,P as B}from"./DemoContainerIOC-7bde7866.js";import{p as V}from"./produtosData-5e5104e3.js";import{u as x}from"./useArchbaseDataSource-f028c0b5.js";import{u as P}from"./useArchbaseDataSourceListener-d2a23bbf.js";import{w as c,u as A,D as G}from"./ArchbaseGlobalFilter-42984565.js";import{S as v}from"./ArchbaseRemoteApiService-1c9bc946.js";import"./index-402471b7.js";import"./ArchbaseAdvancedTabs-2e888216.js";import"./useArchbasePassiveLayoutEffect-8e758e5c.js";import{G as a,C as o}from"./Grid-10ef5cfd.js";import{G as l}from"./Group-d6868f5c.js";import{T as m}from"./Text-6036efe5.js";import"./createReactComponent-b82b540a.js";import"./MantineProvider-c53063b6.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-20a9f65a.js";import"./_commonjsHelpers-de833af9.js";import"./Box-603b1b1a.js";import"./Button-86c3033b.js";import"./index-29301433.js";import"./use-isomorphic-effect-d441b347.js";import"./index-9d475cdf.js";import"./ArchbaseFloatingWindow-5a72a221.js";import"./Paper-165ce658.js";import"./use-window-event-f88e3fb7.js";import"./extends-98964cd2.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./___vite-browser-external_commonjs-proxy-19bb288c.js";const y=[F[0]],E=V,S=t=>t===null?[]:E.filter(e=>t.includes(e.id.toString())).map(e=>({produto:e,quantidade:1,total:e.preco})),O=t=>t.produto.id,T=t=>t.id,j=t=>t.descricao,L=(t,e)=>{const i=e.reduce((n,D)=>n+D.total,0);t==null||t.setFieldValue("vlTotal",i)},U=()=>{const t=A(),{dataSource:e}=x({initialData:y,name:"dsPedidos"});return e!=null&&e.isBrowsing()&&!(e!=null&&e.isEmpty())&&e.edit(),P({dataSource:e,listener:i=>{switch(i.type){case G.fieldChanged:{t();break}}}}),s(a,{children:[r(a.Col,{offset:1,span:4,children:s(o,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[r(o.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:r(l,{position:"apart",children:r(m,{weight:500,children:"Chip Group Edit"})})}),r(c,{initialOptions:E,dataSource:e,dataField:"itens",convertFromValue:S,getOptionLabel:j,getOptionValue:T,convertToValue:O,onSelectValue:()=>L(e,e==null?void 0:e.getFieldValue("itens")),multiple:!0})]})}),r(a.Col,{span:4,children:s(o,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[r(o.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:r(l,{position:"apart",children:r(m,{weight:500,children:"DataSource dsPessoas"})})}),r(v,{sx:i=>({height:500}),children:r(b,{data:e})})]})})]})},k=(t,e=!1)=>{const i=Object.keys(t).map(n=>({label:t[n],value:n}));return e?i.slice(i.length/2):i.slice(0,i.length/2)},I=k(B),N=()=>{const t=A(),{dataSource:e}=x({initialData:y,name:"dsPedidos"});return e!=null&&e.isBrowsing()&&!(e!=null&&e.isEmpty())&&e.edit(),P({dataSource:e,listener:i=>{switch(i.type){case G.fieldChanged:{t();break}}}}),s(a,{children:[r(a.Col,{offset:1,span:4,children:s(o,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[r(o.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:r(l,{position:"apart",children:r(m,{weight:500,children:"Chip Group Edit (multiple = false)"})})}),r(c,{initialOptions:I,dataSource:e,dataField:"status",convertFromValue:i=>Number(i),multiple:!1})]})}),r(a.Col,{span:4,children:s(o,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[r(o.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:r(l,{position:"apart",children:r(m,{weight:500,children:"DataSource dsPessoas"})})}),r(b,{data:e})]})})]})},Ce={title:"Editores/Chip Group",component:c},p={name:"Exemplo simples",render:()=>r(U,{})},d={name:"Com um único valor selecionado",render:()=>r(N,{})};var u,h,g;p.parameters={...p.parameters,docs:{...(u=p.parameters)==null?void 0:u.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbaseChipGroupExample />
}`,...(g=(h=p.parameters)==null?void 0:h.docs)==null?void 0:g.source}}};var f,w,C;d.parameters={...d.parameters,docs:{...(f=d.parameters)==null?void 0:f.docs,source:{originalSource:`{
  name: 'Com um único valor selecionado',
  render: () => <ArchbaseChipGroupSingleExample />
}`,...(C=(w=d.parameters)==null?void 0:w.docs)==null?void 0:C.source}}};export{d as GroupSingle,p as Primary,Ce as default};
//# sourceMappingURL=ArchbaseChipGroup.story-cb9e92fc.js.map
