import{j as a,a as W}from"./jsx-runtime-c9381026.js";import{b as ve,c as Ce,d as ge,u as be,a as we}from"./useArchbaseDataSource-c5d317be.js";import{D as n,u as Ee}from"./useArchbaseDataSourceListener-92dd263c.js";import"./index-9e992aa6.js";import{r as o}from"./index-8b3efc3f.js";import{f as Ve,u as qe,h as Ie,e as Pe,t as De,i as xe,q as te,b as Ae}from"./polymorphic-factory-8fbd487e.js";import{u as Se}from"./use-force-update-11fe72c1.js";import{u as _e}from"./use-resolved-styles-api-24bd5fc4.js";import{A as Le}from"./ActionIcon-3fa09022.js";import{I as re}from"./Input-77c95749.js";import{I as Re}from"./InputBase-6a6c9da1.js";import{u as Fe}from"./use-id-3df0f1f4.js";import{u as Me}from"./use-uncontrolled-f56237fb.js";import{G as B}from"./Grid-7c641e6e.js";import{C as S}from"./Card-2d38024c.js";import{G as ae}from"./Group-085e5d86.js";import{T as se}from"./Text-abd6ac62.js";import{A as Oe}from"./ArchbaseObjectInspector-cc5955d4.js";import{p as Ne}from"./pessoasData-6b8000da.js";import"./i18next-a4b2730f.js";import"./lodash-4d0be66a.js";import"./_commonjsHelpers-de833af9.js";import"./index-1905cc86.js";import"./index-d0400ba7.js";import"./Mantine.context-1df84d45.js";import"./Loader-279e7115.js";import"./Transition-1b2bc7c1.js";import"./index-a38d0dca.js";import"./use-reduced-motion-98306cff.js";import"./use-media-query-78751440.js";import"./use-did-update-bccd292e.js";import"./UnstyledButton-a7b3e9d9.js";import"./create-optional-context-86e78b6c.js";import"./use-input-props-0d35260a.js";import"./use-isomorphic-effect-aa890e3d.js";import"./create-safe-context-941c9e18.js";import"./get-sorted-breakpoints-91e0685a.js";import"./px-90b8b31c.js";import"./Paper-c978ba1b.js";import"./use-mantine-color-scheme-bbd48c20.js";import"./types-5decf4ed.js";const Te=({reveal:r})=>a("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:a("path",{d:r?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var G={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const ze={visibilityToggleIcon:Te},Ue=xe((r,{size:e})=>({root:{"--psi-icon-size":te(e,"psi-icon-size"),"--psi-button-size":te(e,"psi-button-size")}})),H=Ve((r,e)=>{const i=qe("PasswordInput",ze,r),{classNames:c,className:R,style:F,styles:g,unstyled:l,vars:d,required:b,error:m,leftSection:w,disabled:f,id:M,variant:E,inputContainer:O,description:V,label:q,size:h,errorProps:J,descriptionProps:y,labelProps:I,withAsterisk:N,inputWrapperOrder:P,wrapperProps:v,radius:D,rightSection:u,rightSectionWidth:x,rightSectionPointerEvents:A,leftSectionWidth:T,visible:z,defaultVisible:U,onVisibilityChange:Q,visibilityToggleIcon:t,visibilityToggleButtonProps:s,rightSectionProps:X,leftSectionProps:le,leftSectionPointerEvents:de,withErrorStyles:ue,mod:pe,...ce}=i,j=Fe(M),[K,me]=Me({value:z,defaultValue:U,finalValue:!1,onChange:Q}),Y=()=>me(!K),Z=Ie({name:"PasswordInput",classes:G,props:i,className:R,style:F,classNames:c,styles:g,unstyled:l,vars:d,varsResolver:Ue}),{resolvedClassNames:k,resolvedStyles:$}=_e({classNames:c,styles:g,props:i}),{styleProps:fe,rest:ee}=Pe(ce),he=t,ye=a(Le,{...Z("visibilityToggle"),disabled:f,radius:D,"aria-hidden":!s,tabIndex:-1,...s,variant:"subtle",color:"gray",unstyled:l,onMouseDown:p=>{var C;p.preventDefault(),(C=s==null?void 0:s.onMouseDown)==null||C.call(s,p),Y()},onKeyDown:p=>{var C;(C=s==null?void 0:s.onKeyDown)==null||C.call(s,p),p.key===" "&&(p.preventDefault(),Y())},children:a(he,{reveal:K})});return a(re.Wrapper,{required:b,id:j,label:q,error:m,description:V,size:h,classNames:k,styles:$,__staticSelector:"PasswordInput",errorProps:J,descriptionProps:y,unstyled:l,withAsterisk:N,inputWrapperOrder:P,inputContainer:O,variant:E,labelProps:{...I,htmlFor:j},mod:pe,...Z("root"),...fe,...v,children:a(re,{component:"div",error:m,leftSection:w,size:h,classNames:{...k,input:De(G.input,k.input)},styles:$,radius:D,disabled:f,__staticSelector:"PasswordInput",rightSectionWidth:x,rightSection:u??ye,variant:E,unstyled:l,leftSectionWidth:T,rightSectionPointerEvents:A||"all",rightSectionProps:X,leftSectionProps:le,leftSectionPointerEvents:de,withAria:!1,withErrorStyles:ue,children:a("input",{required:b,"data-invalid":!!m||void 0,"data-with-left-section":!!w||void 0,...Z("innerInput"),disabled:f,id:j,ref:e,...ee,autoComplete:ee.autoComplete||"off",type:K?"text":"password"})})})});H.classes={...Re.classes,...G};H.displayName="@mantine/core/PasswordInput";function L({dataSource:r,dataField:e,disabled:i=!1,readOnly:c=!1,style:R,placeholder:F,label:g,description:l,error:d,required:b,size:m,width:w,innerRef:f,value:M,onKeyDown:E,onKeyUp:O,onFocusExit:V=()=>{},onFocusEnter:q=()=>{},onChangeValue:h=()=>{},variant:J}){const[y,I]=o.useState(M||""),N=o.useRef();Ae();const[P,v]=o.useState(d),D=Se();o.useEffect(()=>{v(void 0)},[y]),o.useEffect(()=>{d!==P&&v(d)},[d]);const u=()=>{let t=y;r&&e&&(t=r.getFieldValue(e),t||(t="")),I(t)},x=o.useCallback(()=>{u()},[]),A=o.useCallback(t=>{r&&e&&((t.type===n.dataChanged||t.type===n.recordChanged||t.type===n.afterScroll||t.type===n.afterCancel||t.type===n.afterEdit)&&(u(),D()),t.type===n.onFieldError&&t.fieldName===e&&v(t.error))},[]);ve(()=>{u(),r&&e&&(r.addListener(A),r.addFieldChangeListener(e,x))}),Ce(()=>{u()},[]);const T=t=>{t.preventDefault();const s=t.target.value;t.persist(),I(X=>s),r&&!r.isBrowsing()&&e&&r.getFieldValue(e)!==s&&r.setFieldValue(e,s),h&&h(t,s)};ge(()=>{r&&e&&(r.removeListener(A),r.removeFieldChangeListener(e,x))});const z=t=>{V&&V(t)},U=t=>{q&&q(t)};return a(H,{disabled:i,readOnly:(()=>{let t=c;return r&&!c&&(t=r.isBrowsing()),t})(),size:m,style:{width:w,...R},value:y,ref:f||N,required:b,onChange:T,onBlur:z,onFocus:U,placeholder:F,description:l,onKeyDown:E,onKeyUp:O,label:g,error:P})}try{L.displayName="ArchbasePasswordEdit",L.__docgenInfo={description:"",displayName:"ArchbasePasswordEdit",props:{dataSource:{defaultValue:null,description:"Fonte de dados onde será atribuido o valor do edit",name:"dataSource",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},dataField:{defaultValue:null,description:"Campo onde deverá ser atribuido o valor do edit na fonte de dados",name:"dataField",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Indicador se o edit está desabilitado",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"Indicador se o edit é somente leitura. Obs: usado em conjunto com o status da fonte de dados",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"Indicador se o preenchimento do edit é obrigatório",name:"required",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"Valor inicial",name:"value",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Estilo do edit",name:"style",required:!1,type:{name:"CSSProperties"}},size:{defaultValue:null,description:"Tamanho do edit",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},width:{defaultValue:null,description:"Largura do edit",name:"width",required:!1,type:{name:"string | number"}},placeholder:{defaultValue:null,description:"Texto sugestão do edit",name:"placeholder",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Título do edit",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Descrição do edit",name:"description",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Último erro ocorrido no edit",name:"error",required:!1,type:{name:"string"}},onFocusExit:{defaultValue:{value:"() => {}"},description:"Evento quando o foco sai do edit",name:"onFocusExit",required:!1,type:{name:"FocusEventHandler<T>"}},onFocusEnter:{defaultValue:{value:"() => {}"},description:"Evento quando o edit recebe o foco",name:"onFocusEnter",required:!1,type:{name:"FocusEventHandler<T>"}},onChangeValue:{defaultValue:{value:"() => {}"},description:"Evento quando o valor do edit é alterado",name:"onChangeValue",required:!1,type:{name:"(value: any, event: any) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: any) => void"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"(event: any) => void"}},innerRef:{defaultValue:null,description:"Referência para o componente interno",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"filled"'},{value:'"unstyled"'},{value:'"default"'}]}}}}}catch{}const je=()=>{const r=be(),{dataSource:e}=we({initialData:Ke,name:"dsPessoas"});return e!=null&&e.isBrowsing()&&!(e!=null&&e.isEmpty())&&e.edit(),Ee({dataSource:e,listener:i=>{switch(i.type){case n.fieldChanged:{r();break}}}}),W(B,{children:[a(B.Col,{offset:1,span:4,children:W(S,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[a(S.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:a(ae,{justify:"space-between",children:a(se,{fw:500,children:"PasswordEdit Component"})})}),a(L,{label:"Senha",dataSource:e,dataField:"senha"})]})}),a(B.Col,{span:4,children:W(S,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[a(S.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:a(ae,{justify:"space-between",children:a(se,{fw:500,children:"DataSource dsPessoas"})})}),a(Oe,{data:e})]})})]})},Ke=[Ne[0]],St={title:"Editores/Password Edit",component:L},_={name:"Exemplo simples",render:()=>a(je,{})};var ie,oe,ne;_.parameters={..._.parameters,docs:{...(ie=_.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbasePasswordEditExample />
}`,...(ne=(oe=_.parameters)==null?void 0:oe.docs)==null?void 0:ne.source}}};export{_ as Primary,St as default};
