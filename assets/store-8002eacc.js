import{r as s}from"./index-76fb7be0.js";function o(e){let r=e,n=!1;const i=new Set;return{getState(){return r},updateState(t){r=typeof t=="function"?t(r):t},setState(t){this.updateState(t),i.forEach(a=>a(r))},initialize(t){n||(r=t,n=!0)},subscribe(t){return i.add(t),()=>i.delete(t)}}}function S(e){return s.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}export{o as c,S as u};
