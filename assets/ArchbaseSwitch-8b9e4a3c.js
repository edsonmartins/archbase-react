import{j as U}from"./jsx-runtime-c9381026.js";import{r as n}from"./index-8b3efc3f.js";import{b as B,d as H,c as z}from"./useArchbaseDataSource-c5d317be.js";import"./index-9e992aa6.js";import{u as P}from"./use-force-update-11fe72c1.js";import{D as t}from"./useArchbaseDataSourceListener-92dd263c.js";import{S as W}from"./Switch-a4a803e4.js";function q({dataSource:a,dataField:r,disabled:V=!1,readOnly:d=!1,required:v=!1,style:g,trueValue:s=!0,falseValue:c=!1,isChecked:w=!1,width:C,label:R,description:D,error:F,offLabel:L,onLabel:A,size:I,radius:k,thumbIcon:O,onFocusExit:f=()=>{},onFocusEnter:m=()=>{},onChangeValue:p=()=>{},innerRef:x}){const[l,h]=n.useState(w),_=n.useRef(),[N,y]=n.useState(F),T=P();n.useEffect(()=>{y(void 0)},[l]);const i=()=>{let e=l;if(a&&r){const o=a.getFieldValue(r);o!=null&&(e=o===s)}h(e)},b=n.useCallback(()=>{i()},[]),E=n.useCallback(e=>{a&&r&&((e.type===t.dataChanged||e.type===t.recordChanged||e.type===t.afterScroll||e.type===t.afterCancel||e.type===t.afterEdit)&&(i(),T()),e.type===t.onFieldError&&e.fieldName===r&&y(e.error))},[]);B(()=>{i(),a&&r&&(a.addListener(E),a.addFieldChangeListener(r,b))}),H(()=>{a&&r&&(a.removeListener(E),a.removeFieldChangeListener(r,b))}),z(()=>{i()},[]);const j=e=>{const o=e.target.checked,u=o?s:c;h(o),a&&!a.isBrowsing()&&r&&a.getFieldValue(r)!==u&&a.setFieldValue(r,u),p&&p(u,e)},M=e=>{f&&f(e)},S=e=>{m&&m(e)};return U(W,{disabled:V,readOnly:(()=>{let e=d;return a&&!d&&(e=a.isBrowsing()),e})(),required:v,style:{...g,width:C},checked:l,ref:x||_,value:l?s:c,onChange:j,onBlur:M,onFocus:S,offLabel:L,onLabel:A,description:D,label:R,labelPosition:"right",size:I,radius:k,thumbIcon:O,error:N})}try{q.displayName="ArchbaseSwitch",q.__docgenInfo={description:"",displayName:"ArchbaseSwitch",props:{dataSource:{defaultValue:null,description:"Fonte de dados onde será atribuido o valor do switch",name:"dataSource",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},dataField:{defaultValue:null,description:"Campo onde deverá ser atribuido o valor do switch na fonte de dados",name:"dataField",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Indicador se o switch está desabilitado",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"Indicador se o switch é somente leitura. Obs: usado em conjunto com o status da fonte de dados",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"Indicador se o preenchimento do switch é obrigatório",name:"required",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"Estilo do switch",name:"style",required:!1,type:{name:"CSSProperties"}},trueValue:{defaultValue:{value:"true"},description:"Valor quando o switch estiver true",name:"trueValue",required:!1,type:{name:"any"}},falseValue:{defaultValue:{value:"false"},description:"Valor quando o switch estiver false",name:"falseValue",required:!1,type:{name:"any"}},offLabel:{defaultValue:null,description:"Rótulo interno quando o switch está no estado desmarcado",name:"offLabel",required:!1,type:{name:"ReactNode"}},onLabel:{defaultValue:null,description:"Rótulo interno quando o switch está no estado checado",name:"onLabel",required:!1,type:{name:"ReactNode"}},color:{defaultValue:null,description:"Mude a cor do estado marcado de theme.colors, padrão para theme.primaryColor",name:"color",required:!1,type:{name:"DefaultMantineColor"}},size:{defaultValue:null,description:"Valor de tamanho predefinido",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},radius:{defaultValue:null,description:'Chave de theme.radius ou qualquer valor CSS válido para definir border-radius, "xl" por padrão',name:"radius",required:!1,type:{name:"string | number"}},thumbIcon:{defaultValue:null,description:"Ícone dentro do polegar do interruptor",name:"thumbIcon",required:!1,type:{name:"ReactNode"}},isChecked:{defaultValue:{value:"false"},description:"Indicador se o switch está marcado",name:"isChecked",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Título do switch",name:"label",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Largura do switch",name:"width",required:!1,type:{name:"string | number"}},description:{defaultValue:null,description:"Descrição do switch",name:"description",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Último erro ocorrido no switch",name:"error",required:!1,type:{name:"string"}},onFocusExit:{defaultValue:{value:"() => {}"},description:"Evento quando o foco sai do switch",name:"onFocusExit",required:!1,type:{name:"FocusEventHandler<T>"}},onFocusEnter:{defaultValue:{value:"() => {}"},description:"Evento quando o switch recebe o foco",name:"onFocusEnter",required:!1,type:{name:"FocusEventHandler<T>"}},onChangeValue:{defaultValue:{value:"() => {}"},description:"Evento quando o valor do switch é alterado",name:"onChangeValue",required:!1,type:{name:"(value: any, event: any) => void"}},innerRef:{defaultValue:null,description:"Referência para o componente interno",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}}}}}catch{}export{q as A};
