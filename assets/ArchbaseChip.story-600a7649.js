import{j as i,a as f}from"./jsx-runtime-c9381026.js";import{b as H,d as z,c as W,u as J,a as K}from"./useArchbaseDataSource-c5d317be.js";import{D as t,u as Q}from"./useArchbaseDataSourceListener-92dd263c.js";import"./index-9e992aa6.js";import{r as n}from"./index-8b3efc3f.js";import{u as X}from"./use-force-update-11fe72c1.js";import{C as Y}from"./Chip-3b9bd93a.js";import{G as h}from"./Grid-c81d71e5.js";import{C as l}from"./Card-5d46824b.js";import{G as x}from"./Group-87cc037e.js";import{T as A}from"./Text-f1f576f6.js";import{B as Z}from"./polymorphic-factory-81006d10.js";import{S as $}from"./ScrollArea-7420ab6a.js";import{A as ee}from"./ArchbaseObjectInspector-4ab874a7.js";import{p as re}from"./pessoasData-6b8000da.js";import"./i18next-a4b2730f.js";import"./lodash-4d0be66a.js";import"./_commonjsHelpers-de833af9.js";import"./index-1905cc86.js";import"./index-d0400ba7.js";import"./CheckIcon-22d61f2b.js";import"./create-optional-context-86e78b6c.js";import"./use-uncontrolled-f56237fb.js";import"./use-id-3df0f1f4.js";import"./use-isomorphic-effect-aa890e3d.js";import"./create-safe-context-941c9e18.js";import"./get-sorted-breakpoints-e9679440.js";import"./px-90b8b31c.js";import"./Paper-cac71544.js";import"./Mantine.context-e727d900.js";import"./use-merged-ref-add91123.js";import"./DirectionProvider-1e219af7.js";import"./use-mantine-color-scheme-a3f41383.js";import"./use-media-query-78751440.js";import"./types-5decf4ed.js";function u({dataSource:a,dataField:e,disabled:p=!1,readOnly:y=!1,required:B=!1,style:O,trueValue:c=!0,falseValue:b=!1,isChecked:R,width:I,label:j,size:L,radius:_,error:k,onFocusExit:E=()=>{},onFocusEnter:C=()=>{},onChangeValue:g=()=>{},innerRef:T}){const[m,V]=n.useState(!!R),P=T||n.useRef(),[oe,U]=n.useState(k),G=X(),s=()=>{let r=m;if(a&&e){const o=a.getFieldValue(e);o!=null&&(r=o===c)}V(r)},v=n.useCallback(()=>{s()},[]),q=n.useCallback(r=>{a&&e&&((r.type===t.dataChanged||r.type===t.recordChanged||r.type===t.afterScroll||r.type===t.afterCancel||r.type===t.afterEdit)&&(s(),G()),r.type===t.onFieldError&&r.fieldName===e&&U(r.error))},[]);H(()=>{s(),a&&e&&(a.addListener(q),a.addFieldChangeListener(e,v))}),z(()=>{a&&e&&(a.removeListener(q),a.removeFieldChangeListener(e,v))}),W(()=>{s()},[]);const M=r=>{const o=r?c:b;V(r),a&&!a.isBrowsing()&&e&&a.getFieldValue(e)!==o&&a.setFieldValue(e,o),g&&g(o)},N=r=>{E&&E(r)},S=r=>{C&&C(r)};return i(Y,{disabled:p,readOnly:(()=>{let r=y;return a&&!y&&(r=a.isBrowsing()),r})(),required:B,style:{...O,width:I},checked:m,ref:P,value:m?c:b,onChange:M,onBlur:N,onFocus:S,size:L,radius:_,children:j})}try{u.displayName="ArchbaseChip",u.__docgenInfo={description:"",displayName:"ArchbaseChip",props:{dataSource:{defaultValue:null,description:"Fonte de dados onde será atribuido o valor do chip",name:"dataSource",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},dataField:{defaultValue:null,description:"Campo onde deverá ser atribuido o valor do chip na fonte de dados",name:"dataField",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Indicador se o chip está desabilitado",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"Indicador se o chip é somente leitura. Obs: usado em conjunto com o status da fonte de dados",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"Indicador se o preenchimento do chip é obrigatório",name:"required",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"Estilo do chip",name:"style",required:!1,type:{name:"CSSProperties"}},radius:{defaultValue:null,description:"Chave de theme.radius ou qualquer valor CSS válido para definir border-radius, theme.defaultRadius por padrão",name:"radius",required:!1,type:{name:"string | number"}},trueValue:{defaultValue:{value:"true"},description:"Valor quando o chip estiver true",name:"trueValue",required:!1,type:{name:"any"}},falseValue:{defaultValue:{value:"false"},description:"Valor quando o chip estiver false",name:"falseValue",required:!1,type:{name:"any"}},isChecked:{defaultValue:null,description:"Indicador se o chip está marcado",name:"isChecked",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Título do chip",name:"label",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Largura do chip",name:"width",required:!1,type:{name:"string | number"}},size:{defaultValue:null,description:"Valor de tamanho predefinido",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},onFocusExit:{defaultValue:{value:"() => {}"},description:"Evento quando o foco sai do chip",name:"onFocusExit",required:!1,type:{name:"FocusEventHandler<T>"}},onFocusEnter:{defaultValue:{value:"() => {}"},description:"Evento quando o chip recebe o foco",name:"onFocusEnter",required:!1,type:{name:"FocusEventHandler<T>"}},onChangeValue:{defaultValue:{value:"() => {}"},description:"Evento quando o valor do chip é alterado",name:"onChangeValue",required:!1,type:{name:"(value: any) => void"}},innerRef:{defaultValue:null,description:"Referência para o componente interno",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},error:{defaultValue:null,description:"Último erro ocorrido no chip",name:"error",required:!1,type:{name:"string"}}}}}catch{}const ae=()=>{const a=J(),{dataSource:e}=K({initialData:ie,name:"dsPessoas"});return e!=null&&e.isBrowsing()&&!(e!=null&&e.isEmpty())&&e.edit(),Q({dataSource:e,listener:p=>{switch(p.type){case t.fieldChanged:{a();break}}}}),f(h,{children:[i(h.Col,{offset:1,span:4,children:f(l,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[i(l.Section,{withBorder:!0,inheritPadding:!0,py:"xs",mb:"1rem",children:i(x,{justify:"space-between",children:i(A,{fw:500,children:"Chip Component"})})}),i(Z,{style:{height:100},children:i(u,{label:"Masculino",dataSource:e,dataField:"sexo",trueValue:"Masculino",falseValue:"Feminino"})})]})}),i(h.Col,{span:4,children:f(l,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[i(l.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:i(x,{justify:"space-between",children:i(A,{fw:500,children:"DataSource dsPessoas"})})}),i($,{style:{height:500},children:i(ee,{data:e})})]})})]})},Me={title:"Editores/Chip",component:u},ie=[re[0]],d={name:"Exemplo básico",render:()=>i(ae,{})};var w,D,F;d.parameters={...d.parameters,docs:{...(w=d.parameters)==null?void 0:w.docs,source:{originalSource:`{
  name: 'Exemplo básico',
  render: () => <ArchbaseChipExample />
}`,...(F=(D=d.parameters)==null?void 0:D.docs)==null?void 0:F.source}}};export{d as Primary,Me as default};
