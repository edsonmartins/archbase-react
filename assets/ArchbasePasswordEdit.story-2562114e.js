import{j as s,a as B}from"./jsx-runtime-29545a09.js";import{b as ve,c as Ce,d as Ee,u as ge,a as be}from"./useArchbaseDataSource-0bdc03a6.js";import{D as n,u as we}from"./useArchbaseDataSourceListener-cbed610e.js";import"./index-1076ae77.js";import{R as l,r as o}from"./index-76fb7be0.js";import{f as Ve,u as qe,h as Ie,e as Pe,x as De,i as xe,q as ae,b as Ae}from"./polymorphic-factory-e212381f.js";import{u as Se}from"./use-force-update-df6d2b99.js";import{u as _e}from"./use-resolved-styles-api-777d9903.js";import{A as Re}from"./ActionIcon-23bc393d.js";import{I as re}from"./Input-abb5d566.js";import{I as Le}from"./InputBase-b1a2e9dc.js";import{u as Fe}from"./use-id-9525279e.js";import{u as Me}from"./use-uncontrolled-625105b4.js";import{G,C as _}from"./Grid-72b79d89.js";import{G as se}from"./Group-ec80c87c.js";import{T as ie}from"./Text-052cbebe.js";import{A as Oe}from"./ArchbaseObjectInspector-39e1a2c0.js";import{p as Ne}from"./pessoasData-6b8000da.js";import"./i18next-a4b2730f.js";import"./lodash-4d0be66a.js";import"./_commonjsHelpers-de833af9.js";import"./index-83127612.js";import"./Mantine.context-0732ca39.js";import"./Loader-2934e180.js";import"./Transition-7fd90e94.js";import"./index-d3ea75b5.js";import"./use-reduced-motion-94535b68.js";import"./use-media-query-404d9c84.js";import"./use-did-update-4c7f685e.js";import"./UnstyledButton-6bceb5b8.js";import"./create-optional-context-e52a7171.js";import"./use-input-props-0bcecfab.js";import"./use-isomorphic-effect-f46ba680.js";import"./Paper-9304c07a.js";import"./create-safe-context-978e3819.js";import"./get-sorted-breakpoints-91e0685a.js";import"./px-90b8b31c.js";import"./use-mantine-color-scheme-940af2ab.js";import"./types-5decf4ed.js";const Te=({reveal:a})=>l.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"}},l.createElement("path",{d:a?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}));var H={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const ze={visibilityToggleIcon:Te},Ue=xe((a,{size:e})=>({root:{"--psi-icon-size":ae(e,"psi-icon-size"),"--psi-button-size":ae(e,"psi-button-size")}})),J=Ve((a,e)=>{const i=qe("PasswordInput",ze,a),{classNames:m,className:F,style:M,styles:g,unstyled:d,vars:u,required:b,error:f,leftSection:w,disabled:h,id:O,variant:V,inputContainer:N,description:q,label:I,size:y,errorProps:Q,descriptionProps:v,labelProps:P,withAsterisk:T,inputWrapperOrder:D,wrapperProps:C,radius:x,rightSection:p,rightSectionWidth:A,rightSectionPointerEvents:S,leftSectionWidth:z,visible:U,defaultVisible:j,onVisibilityChange:X,visibilityToggleIcon:t,visibilityToggleButtonProps:r,rightSectionProps:Y,leftSectionProps:de,leftSectionPointerEvents:ue,mod:pe,...ce}=i,K=Fe(O),[Z,me]=Me({value:U,defaultValue:j,finalValue:!1,onChange:X}),$=()=>me(!Z),k=Ie({name:"PasswordInput",classes:H,props:i,className:F,style:M,classNames:m,styles:g,unstyled:d,vars:u,varsResolver:Ue}),{resolvedClassNames:W,resolvedStyles:ee}=_e({classNames:m,styles:g,props:i}),{styleProps:fe,rest:te}=Pe(ce),he=t,ye=l.createElement(Re,{...k("visibilityToggle"),disabled:h,radius:x,"aria-hidden":!r,tabIndex:-1,...r,variant:"subtle",color:"gray",unstyled:d,onMouseDown:c=>{var E;c.preventDefault(),(E=r==null?void 0:r.onMouseDown)==null||E.call(r,c),$()},onKeyDown:c=>{var E;(E=r==null?void 0:r.onKeyDown)==null||E.call(r,c),c.key===" "&&(c.preventDefault(),$())}},l.createElement(he,{reveal:Z}));return l.createElement(re.Wrapper,{required:b,id:K,label:I,error:f,description:q,size:y,classNames:W,styles:ee,__staticSelector:"PasswordInput",errorProps:Q,descriptionProps:v,unstyled:d,withAsterisk:T,inputWrapperOrder:D,inputContainer:N,variant:V,labelProps:{...P,htmlFor:K},mod:pe,...k("root"),...fe,...C},l.createElement(re,{component:"div",error:f,leftSection:w,size:y,classNames:{...W,input:De(H.input,W.input)},styles:ee,radius:x,disabled:h,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:p??ye,variant:V,unstyled:d,leftSectionWidth:z,rightSectionPointerEvents:S||"all",rightSectionProps:Y,leftSectionProps:de,leftSectionPointerEvents:ue,withAria:!1},l.createElement("input",{required:b,"data-invalid":!!f||void 0,"data-with-left-section":!!w||void 0,...k("innerInput"),disabled:h,id:K,ref:e,...te,autoComplete:te.autoComplete||"off",type:Z?"text":"password"})))});J.classes={...Le.classes,...H};J.displayName="@mantine/core/PasswordInput";function L({dataSource:a,dataField:e,disabled:i=!1,readOnly:m=!1,style:F,placeholder:M,label:g,description:d,error:u,required:b,size:f,width:w,innerRef:h,value:O,onKeyDown:V,onKeyUp:N,onFocusExit:q=()=>{},onFocusEnter:I=()=>{},onChangeValue:y=()=>{},variant:Q}){const[v,P]=o.useState(O||""),T=o.useRef();Ae();const[D,C]=o.useState(u),x=Se();o.useEffect(()=>{C(void 0)},[v]),o.useEffect(()=>{u!==D&&C(u)},[u]);const p=()=>{let t=v;a&&e&&(t=a.getFieldValue(e),t||(t="")),P(t)},A=o.useCallback(()=>{p()},[]),S=o.useCallback(t=>{a&&e&&((t.type===n.dataChanged||t.type===n.recordChanged||t.type===n.afterScroll||t.type===n.afterCancel||t.type===n.afterEdit)&&(p(),x()),t.type===n.onFieldError&&t.fieldName===e&&C(t.error))},[]);ve(()=>{p(),a&&e&&(a.addListener(S),a.addFieldChangeListener(e,A))}),Ce(()=>{p()},[]);const z=t=>{t.preventDefault();const r=t.target.value;t.persist(),P(Y=>r),a&&!a.isBrowsing()&&e&&a.getFieldValue(e)!==r&&a.setFieldValue(e,r),y&&y(t,r)};Ee(()=>{a&&e&&(a.removeListener(S),a.removeFieldChangeListener(e,A))});const U=t=>{q&&q(t)},j=t=>{I&&I(t)};return s(J,{disabled:i,readOnly:(()=>{let t=m;return a&&!m&&(t=a.isBrowsing()),t})(),size:f,style:{width:w,...F},value:v,ref:h||T,required:b,onChange:z,onBlur:U,onFocus:j,placeholder:M,description:d,onKeyDown:V,onKeyUp:N,label:g,error:D})}try{L.displayName="ArchbasePasswordEdit",L.__docgenInfo={description:"",displayName:"ArchbasePasswordEdit",props:{dataSource:{defaultValue:null,description:"Fonte de dados onde será atribuido o valor do edit",name:"dataSource",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},dataField:{defaultValue:null,description:"Campo onde deverá ser atribuido o valor do edit na fonte de dados",name:"dataField",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Indicador se o edit está desabilitado",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"Indicador se o edit é somente leitura. Obs: usado em conjunto com o status da fonte de dados",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"Indicador se o preenchimento do edit é obrigatório",name:"required",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"Valor inicial",name:"value",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Estilo do edit",name:"style",required:!1,type:{name:"CSSProperties"}},size:{defaultValue:null,description:"Tamanho do edit",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},width:{defaultValue:null,description:"Largura do edit",name:"width",required:!1,type:{name:"string | number"}},placeholder:{defaultValue:null,description:"Texto sugestão do edit",name:"placeholder",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Título do edit",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Descrição do edit",name:"description",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Último erro ocorrido no edit",name:"error",required:!1,type:{name:"string"}},onFocusExit:{defaultValue:{value:"() => {}"},description:"Evento quando o foco sai do edit",name:"onFocusExit",required:!1,type:{name:"FocusEventHandler<T>"}},onFocusEnter:{defaultValue:{value:"() => {}"},description:"Evento quando o edit recebe o foco",name:"onFocusEnter",required:!1,type:{name:"FocusEventHandler<T>"}},onChangeValue:{defaultValue:{value:"() => {}"},description:"Evento quando o valor do edit é alterado",name:"onChangeValue",required:!1,type:{name:"(value: any, event: any) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: any) => void"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"(event: any) => void"}},innerRef:{defaultValue:null,description:"Referência para o componente interno",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"filled"'},{value:'"unstyled"'},{value:'"default"'}]}}}}}catch{}const je=()=>{const a=ge(),{dataSource:e}=be({initialData:Ke,name:"dsPessoas"});return e!=null&&e.isBrowsing()&&!(e!=null&&e.isEmpty())&&e.edit(),we({dataSource:e,listener:i=>{switch(i.type){case n.fieldChanged:{a();break}}}}),B(G,{children:[s(G.Col,{offset:1,span:4,children:B(_,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[s(_.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:s(se,{justify:"space-between",children:s(ie,{fw:500,children:"PasswordEdit Component"})})}),s(L,{label:"Senha",dataSource:e,dataField:"senha"})]})}),s(G.Col,{span:4,children:B(_,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[s(_.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:s(se,{justify:"space-between",children:s(ie,{fw:500,children:"DataSource dsPessoas"})})}),s(Oe,{data:e})]})})]})},Ke=[Ne[0]],xt={title:"Editores/Password Edit",component:L},R={name:"Exemplo simples",render:()=>s(je,{})};var oe,ne,le;R.parameters={...R.parameters,docs:{...(oe=R.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbasePasswordEditExample />
}`,...(le=(ne=R.parameters)==null?void 0:ne.docs)==null?void 0:le.source}}};export{R as Primary,xt as default};
