import{j as d,a as j,F as us}from"./jsx-runtime-c9381026.js";import{r as ge}from"./index-8b3efc3f.js";import{u as hs}from"./use-resolved-styles-api-f52582d3.js";import{f as $,u as R,h as H,B as te,i as ye,q as T,n as fs,e as ms}from"./polymorphic-factory-36f51e7a.js";import{i as gs,g as ys,a as vs,O as Ps}from"./OptionsDropdown-65e004f7.js";import{C as N,u as bs}from"./Combobox-dcb3b012.js";import{I as ve}from"./InputBase-c248c15b.js";import{C as Ss,u as _s}from"./Input-d93c779c.js";import{c as Pe}from"./create-optional-context-86e78b6c.js";import{u as ws}from"./use-merged-ref-a374cf59.js";import{u as Cs}from"./use-id-f896cdc5.js";import{u as me}from"./use-uncontrolled-f56237fb.js";const[Is,le]=Pe(),[Ds,Os]=Pe();var W={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Ns={},zs=ye((c,{gap:o},{size:s})=>({group:{"--pg-gap":o!==void 0?T(o):T(s,"pg-gap")}})),oe=$((c,o)=>{const s=R("PillGroup",Ns,c),{classNames:y,className:a,style:i,styles:p,unstyled:l,vars:C,size:f,disabled:P,...b}=s,r=le(),e=(r==null?void 0:r.size)||f||void 0,u=H({name:"PillGroup",classes:W,props:s,className:a,style:i,classNames:y,styles:p,unstyled:l,vars:C,varsResolver:zs,stylesCtx:{size:e},rootSelector:"group"});return d(Ds,{value:{size:e,disabled:P},children:d(te,{ref:o,size:e,...u("group"),...b})})});oe.classes=W;oe.displayName="@mantine/core/PillGroup";const Vs={variant:"default"},ks=ye((c,{radius:o},{size:s})=>({root:{"--pill-fz":T(s,"pill-fz"),"--pill-height":T(s,"pill-height"),"--pill-radius":o===void 0?void 0:fs(o)}})),G=$((c,o)=>{const s=R("Pill",Vs,c),{classNames:y,className:a,style:i,styles:p,unstyled:l,vars:C,variant:f,children:P,withRemoveButton:b,onRemove:r,removeButtonProps:e,radius:u,size:h,disabled:v,mod:x,...z}=s,m=Os(),I=le(),V=h||(m==null?void 0:m.size)||void 0,A=(I==null?void 0:I.variant)==="filled"?"contrast":f||"default",F=H({name:"Pill",classes:W,props:s,className:a,style:i,classNames:y,styles:p,unstyled:l,vars:C,varsResolver:ks,stylesCtx:{size:V}});return j(te,{component:"span",ref:o,variant:A,size:V,...F("root",{variant:A}),mod:[{"with-remove":b&&!v,disabled:v||(m==null?void 0:m.disabled)},x],...z,children:[d("span",{...F("label"),children:P}),b&&d(Ss,{variant:"transparent",radius:u,tabIndex:-1,"aria-hidden":!0,unstyled:l,...e,...F("remove",{className:e==null?void 0:e.className,style:e==null?void 0:e.style}),onMouseDown:w=>{var D;w.preventDefault(),w.stopPropagation(),(D=e==null?void 0:e.onMouseDown)==null||D.call(e,w)},onClick:w=>{var D;w.stopPropagation(),r==null||r(),(D=e==null?void 0:e.onClick)==null||D.call(e,w)}})]})});G.classes=W;G.displayName="@mantine/core/Pill";G.Group=oe;var be={field:"m_45c4369d"};const xs={type:"visible"},ae=$((c,o)=>{const s=R("PillsInputField",xs,c),{classNames:y,className:a,style:i,styles:p,unstyled:l,vars:C,type:f,disabled:P,id:b,pointer:r,mod:e,...u}=s,h=le(),v=_s(),x=H({name:"PillsInputField",classes:be,props:s,className:a,style:i,classNames:y,styles:p,unstyled:l,rootSelector:"field"}),z=P||(h==null?void 0:h.disabled);return d(te,{component:"input",ref:ws(o,h==null?void 0:h.fieldRef),"data-type":f,disabled:z,mod:[{disabled:z,pointer:r},e],...x("field"),...u,id:(v==null?void 0:v.inputId)||b,"aria-invalid":h==null?void 0:h.hasError,"aria-describedby":v==null?void 0:v.describedBy,type:"text",onMouseDown:m=>!r&&m.stopPropagation()})});ae.classes=be;ae.displayName="@mantine/core/PillsInputField";const Fs={},q=$((c,o)=>{const s=R("PillsInput",Fs,c),{children:y,onMouseDown:a,onClick:i,size:p,disabled:l,__staticSelector:C,error:f,variant:P,...b}=s,r=ge.useRef(null);return d(Is,{value:{fieldRef:r,size:p,disabled:l,hasError:!!f,variant:P},children:d(ve,{size:p,error:f,variant:P,component:"div",ref:o,onMouseDown:e=>{var u;e.preventDefault(),a==null||a(e),(u=r.current)==null||u.focus()},onClick:e=>{var u;e.preventDefault(),i==null||i(e),(u=r.current)==null||u.focus()},...b,multiline:!0,disabled:l,__staticSelector:C||"PillsInput",withAria:!1,children:y})})});q.displayName="@mantine/core/PillsInput";q.Field=ae;function Ms({data:c,value:o}){const s=o.map(a=>a.trim().toLowerCase());return c.reduce((a,i)=>(gs(i)?a.push({group:i.group,items:i.items.filter(p=>s.indexOf(p.value.toLowerCase().trim())===-1)}):s.indexOf(i.value.toLowerCase().trim())===-1&&a.push(i),a),[])}const Es={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},Se=$((c,o)=>{const s=R("MultiSelect",Es,c),{classNames:y,className:a,style:i,styles:p,unstyled:l,vars:C,size:f,value:P,defaultValue:b,onChange:r,onKeyDown:e,variant:u,data:h,dropdownOpened:v,defaultDropdownOpened:x,onDropdownOpen:z,onDropdownClose:m,selectFirstOptionOnChange:I,onOptionSubmit:V,comboboxProps:A,filter:F,limit:w,withScrollArea:D,maxDropdownHeight:_e,searchValue:we,defaultSearchValue:Ce,onSearchChange:Ie,readOnly:M,disabled:O,onFocus:K,onBlur:U,onPaste:Gs,radius:De,rightSection:Oe,rightSectionWidth:Ne,rightSectionPointerEvents:ie,rightSectionProps:ze,leftSection:Ve,leftSectionWidth:ke,leftSectionPointerEvents:xe,leftSectionProps:Fe,inputContainer:Me,inputWrapperOrder:Ee,withAsterisk:Ge,labelProps:$e,descriptionProps:Re,errorProps:Ae,wrapperProps:Le,description:je,label:B,error:re,maxValues:Te,searchable:S,nothingFoundMessage:ne,withCheckIcon:qe,checkIconPosition:He,hidePickedOptions:We,withErrorStyles:Ke,name:Ue,form:Be,id:Je,clearable:Qe,clearButtonProps:Xe,hiddenInputProps:Ye,placeholder:de,hiddenInputValuesDivider:Ze,required:es,mod:ss,renderOption:ts,onRemove:_,onClear:J,scrollAreaProps:ls,chevronColor:os,...ce}=s,Q=Cs(Je),X=ys(h),k=vs(X),g=bs({opened:v,defaultOpened:x,onDropdownOpen:z,onDropdownClose:()=>{m==null||m(),g.resetSelectedOption()}}),{styleProps:as,rest:{type:$s,autoComplete:is,...rs}}=ms(ce),[n,E]=me({value:P,defaultValue:b,finalValue:[],onChange:r}),[Y,L]=me({value:we,defaultValue:Ce,finalValue:"",onChange:Ie}),Z=H({name:"MultiSelect",classes:{},props:s,classNames:y,styles:p,unstyled:l}),{resolvedClassNames:pe,resolvedStyles:ue}=hs({props:s,styles:p,classNames:y}),ns=t=>{e==null||e(t),t.key===" "&&!S&&(t.preventDefault(),g.toggleDropdown()),t.key==="Backspace"&&Y.length===0&&n.length>0&&(_==null||_(n[n.length-1]),E(n.slice(0,n.length-1)))},ds=n.map((t,se)=>{var he,fe;return d(G,{withRemoveButton:!M&&!((he=k[t])!=null&&he.disabled),onRemove:()=>{E(n.filter(ps=>t!==ps)),_==null||_(t)},unstyled:l,disabled:O,...Z("pill"),children:((fe=k[t])==null?void 0:fe.label)||t},`${t}-${se}`)});ge.useEffect(()=>{I&&g.selectFirstOption()},[I,n]);const ee=d(N.ClearButton,{...Xe,onClear:()=>{J==null||J(),E([]),L("")}}),cs=Ms({data:X,value:n});return j(us,{children:[j(N,{store:g,classNames:pe,styles:ue,unstyled:l,size:f,readOnly:M,__staticSelector:"MultiSelect",onOptionSubmit:t=>{V==null||V(t),L(""),g.updateSelectedOptionIndex("selected"),n.includes(k[t].value)?(E(n.filter(se=>se!==k[t].value)),_==null||_(k[t].value)):n.length<Te&&E([...n,k[t].value])},...A,children:[d(N.DropdownTarget,{children:d(q,{...as,__staticSelector:"MultiSelect",classNames:pe,styles:ue,unstyled:l,size:f,className:a,style:i,variant:u,disabled:O,radius:De,__defaultRightSection:d(N.Chevron,{size:f,error:re,unstyled:l,color:os}),__clearSection:ee,__clearable:Qe&&n.length>0&&!O&&!M,rightSection:Oe,rightSectionPointerEvents:ie||(ee?"all":"none"),rightSectionWidth:Ne,rightSectionProps:ze,leftSection:Ve,leftSectionWidth:ke,leftSectionPointerEvents:xe,leftSectionProps:Fe,inputContainer:Me,inputWrapperOrder:Ee,withAsterisk:Ge,labelProps:$e,descriptionProps:Re,errorProps:Ae,wrapperProps:Le,description:je,label:B,error:re,multiline:!0,withErrorStyles:Ke,__stylesApiProps:{...s,rightSectionPointerEvents:ie||(ee?"all":"none"),multiline:!0},pointer:!S,onClick:()=>S?g.openDropdown():g.toggleDropdown(),"data-expanded":g.dropdownOpened||void 0,id:Q,required:es,mod:ss,children:j(G.Group,{disabled:O,unstyled:l,...Z("pillsList"),children:[ds,d(N.EventsTarget,{autoComplete:is,children:d(q.Field,{...rs,ref:o,id:Q,placeholder:de,type:!S&&!de?"hidden":"visible",...Z("inputField"),unstyled:l,onFocus:t=>{K==null||K(t),S&&g.openDropdown()},onBlur:t=>{U==null||U(t),g.closeDropdown(),L("")},onKeyDown:ns,value:Y,onChange:t=>{L(t.currentTarget.value),S&&g.openDropdown(),I&&g.selectFirstOption()},disabled:O,readOnly:M||!S,pointer:!S})})]})})}),d(Ps,{data:We?cs:X,hidden:M||O,filter:F,search:Y,limit:w,hiddenWhenEmpty:!ne,withScrollArea:D,maxDropdownHeight:_e,filterOptions:S,value:n,checkIconPosition:He,withCheckIcon:qe,nothingFoundMessage:ne,unstyled:l,labelId:B?`${Q}-label`:void 0,"aria-label":B?void 0:ce["aria-label"],renderOption:ts,scrollAreaProps:ls})]}),d(N.HiddenInput,{name:Ue,valuesDivider:Ze,value:n,form:Be,disabled:O,...Ye})]})});Se.classes={...ve.classes,...N.classes};Se.displayName="@mantine/core/MultiSelect";export{Se as M};
