import{j as I}from"./jsx-runtime-c9381026.js";import{_ as k}from"./extends-4c19d496.js";import{_ as P}from"./objectWithoutPropertiesLoose-68193569.js";import{r as d}from"./index-8b3efc3f.js";import{f as B,u as N}from"./polymorphic-factory-bf652503.js";import{I as F}from"./InputBase-46c7ce5b.js";function j(){return typeof process<"u"&&process.env?"production":"development"}var M=d.useLayoutEffect,$=function(e){var r=d.useRef(e);return M(function(){r.current=e}),r},w=function(e,r){if(typeof e=="function"){e(r);return}e.current=r},G=function(e,r){var t=d.useRef();return d.useCallback(function(i){e.current=i,t.current&&w(t.current,null),t.current=r,r&&w(r,i)},[r])},H={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},O=function(e){Object.keys(H).forEach(function(r){e.style.setProperty(r,H[r],"important")})},T=O,o=null,C=function(e,r){var t=e.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?t+r.borderSize:t-r.paddingSize};function Y(n,e,r,t){r===void 0&&(r=1),t===void 0&&(t=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),T(o)),o.parentNode===null&&document.body.appendChild(o);var i=n.paddingSize,s=n.borderSize,a=n.sizingStyle,l=a.boxSizing;Object.keys(a).forEach(function(f){var m=f;o.style[m]=a[m]}),T(o),o.value=e;var u=C(o,n);o.value=e,u=C(o,n),o.value="x";var h=o.scrollHeight-i,p=h*r;l==="border-box"&&(p=p+i+s),u=Math.max(p,u);var g=h*t;return l==="border-box"&&(g=g+i+s),u=Math.min(g,u),[u,h]}var E=function(){},q=function(e,r){return e.reduce(function(t,i){return t[i]=r[i],t},{})},U=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],X=!!document.documentElement.currentStyle,Z=function(e){var r=window.getComputedStyle(e);if(r===null)return null;var t=q(U,r),i=t.boxSizing;if(i==="")return null;X&&i==="border-box"&&(t.width=parseFloat(t.width)+parseFloat(t.borderRightWidth)+parseFloat(t.borderLeftWidth)+parseFloat(t.paddingRight)+parseFloat(t.paddingLeft)+"px");var s=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),a=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:s,borderSize:a}},D=Z;function y(n,e,r){var t=$(r);d.useLayoutEffect(function(){var i=function(a){return t.current(a)};if(n)return n.addEventListener(e,i),function(){return n.removeEventListener(e,i)}},[])}var J=function(e,r){y(document.body,"reset",function(t){e.current.form===t.target&&r(t)})},K=function(e){y(window,"resize",e)},Q=function(e){y(document.fonts,"loadingdone",e)},V=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ee=function(e,r){var t=e.cacheMeasurements,i=e.maxRows,s=e.minRows,a=e.onChange,l=a===void 0?E:a,u=e.onHeightChange,h=u===void 0?E:u,p=P(e,V),g=p.value!==void 0,f=d.useRef(null),m=G(f,r),R=d.useRef(0),b=d.useRef(),v=function(){var c=f.current,z=t&&b.current?b.current:D(c);if(z){b.current=z;var L=Y(z,c.value||c.placeholder||"x",s,i),x=L[0],A=L[1];R.current!==x&&(R.current=x,c.style.setProperty("height",x+"px","important"),h(x,{rowHeight:A}))}},_=function(c){g||v(),l(c)};return d.useLayoutEffect(v),J(f,function(){if(!g){var S=f.current.value;requestAnimationFrame(function(){var c=f.current;c&&S!==c.value&&v()})}}),K(v),Q(v),d.createElement("textarea",k({},p,{onChange:_,ref:m}))},te=d.forwardRef(ee);const re={},W=B((n,e)=>{const{autosize:r,maxRows:t,minRows:i,__staticSelector:s,resize:a,...l}=N("Textarea",re,n),u=r&&j()!=="test";return I(F,{component:u?te:"textarea",ref:e,...l,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":r&&t===void 0||void 0,__vars:{"--input-resize":a},...u?{maxRows:t,minRows:i}:{}})});W.classes=F.classes;W.displayName="@mantine/core/Textarea";export{W as T};
