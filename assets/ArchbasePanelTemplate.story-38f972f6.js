import{j as t,a as h}from"./jsx-runtime-c9381026.js";import{A as Z,u as $}from"./useArchbaseLocalFilterDataSource-d8968afd.js";import{u as ee}from"./useArchbaseRemoteServiceApi-a894bff1.js";import{u as te,Q as re,a as r,O as s,b as c,c as T}from"./useArchbaseRemoteDataSource-5844b268.js";import"./ArchbaseGlobalFilter-b35e5569.js";import{A as ie}from"./DemoIOCTypes-d657846a.js";import{u as ae,a as oe}from"./useArchbaseDataSource-c5d317be.js";import{u as D,D as le}from"./useArchbaseDataSourceListener-92dd263c.js";import{t as d}from"./i18next-a4b2730f.js";import{r as p}from"./index-8b3efc3f.js";import{A as ne}from"./ArchbaseActionButtons-039b229b.js";import{A as se}from"./ArchbaseSpaceTemplate-c864d2ee.js";import{I as pe}from"./IconPlus-ae63da25.js";import{I as me,a as ue,P as ce}from"./IconEye-cd265c03.js";import{I as de}from"./IconTrash-6b16e91d.js";import{u as fe}from"./ArchbaseAppContext-9f97b1d7.js";import{M as be}from"./ArchbaseMaskEdit-a7832614.js";import{A as he}from"./ArchbaseCheckbox-11d073cb.js";import{p as ge}from"./pessoasData-6b8000da.js";import{A as Ae}from"./ArchbaseNotifications-3bf0a446.js";import"./lodash-4d0be66a.js";import"./_commonjsHelpers-de833af9.js";import"./index-2e8af730.js";import"./index-9e992aa6.js";import"./useArchbaseTheme-7c3c2f27.js";import"./polymorphic-factory-8fbd487e.js";import"./Mantine.context-1df84d45.js";import"./use-mantine-color-scheme-bbd48c20.js";import"./use-media-query-78751440.js";import"./Grid-7c641e6e.js";import"./create-safe-context-941c9e18.js";import"./get-sorted-breakpoints-91e0685a.js";import"./px-90b8b31c.js";import"./Card-2d38024c.js";import"./Paper-c978ba1b.js";import"./Group-085e5d86.js";import"./Tooltip-d8f846be.js";import"./OptionalPortal-9514e460.js";import"./index-a38d0dca.js";import"./use-isomorphic-effect-aa890e3d.js";import"./use-merged-ref-add91123.js";import"./DirectionProvider-1e219af7.js";import"./use-floating-auto-update-3ec0cee2.js";import"./use-did-update-bccd292e.js";import"./Transition-1b2bc7c1.js";import"./use-reduced-motion-98306cff.js";import"./get-style-object-71cabcb5.js";import"./use-id-3df0f1f4.js";import"./ActionIcon-3fa09022.js";import"./Loader-279e7115.js";import"./UnstyledButton-a7b3e9d9.js";import"./createReactComponent-60e598cf.js";import"./index-9d475cdf.js";import"./Text-abd6ac62.js";import"./Space-103726a6.js";import"./ArchbaseList-c18dd45d.js";import"./Image-531829f3.js";import"./Checkbox-6efa47f7.js";import"./get-contrast-color-a195ce64.js";import"./get-auto-contrast-value-58024fc4.js";import"./InputsGroupFieldset-bbd524dc.js";import"./Input-77c95749.js";import"./create-optional-context-86e78b6c.js";import"./use-uncontrolled-f56237fb.js";import"./CheckIcon-faa2ad1e.js";import"./Switch-66cb06e0.js";import"./Button-b17c03b7.js";import"./DatePickerInput-a25a6509.js";import"./dayjs.min-5b59225a.js";import"./pick-calendar-levels-props-e45f0ffb.js";import"./DatesProvider-b737956c.js";import"./AccordionChevron-bf2392a8.js";import"./use-resolved-styles-api-24bd5fc4.js";import"./clamp-73f6bef2.js";import"./use-input-props-0d35260a.js";import"./CloseButton-55dafc48.js";import"./Modal-858d67c8.js";import"./FocusTrap-c39ce1bd.js";import"./use-window-event-860a85e7.js";import"./Popover-5ab04bc2.js";import"./ArchbaseDateTimePickerRange-d03b7ba8.js";import"./input-30511812.js";import"./Flex-fe68dc37.js";import"./IconCalendar-cbd6718a.js";import"./TimeInput-f6ad37be.js";import"./InputBase-6a6c9da1.js";import"./ArchbaseSwitch-65f98d84.js";import"./use-force-update-11fe72c1.js";import"./ArchbaseSelect-9f209dd4.js";import"./ArchbaseAsyncSelect.context-0429ae81.js";import"./Select-448551a2.js";import"./OptionsDropdown-8794fc40.js";import"./ScrollArea-5c50f26d.js";import"./Combobox-b11f7ddd.js";import"./ArchbaseSelectItem-d056b8eb.js";import"./IconSearch-4ec0977e.js";import"./string-utils-046f5c60.js";import"./index-1905cc86.js";import"./index-d0400ba7.js";import"./index-07970463.js";import"./index-bd3702cd.js";import"./ArchbaseEdit-8ccb0ae2.js";import"./TextInput-1c7cbb5e.js";import"./ArchbaseDialog-2c99c3fa.js";import"./IconBug-b91acd15.js";import"./Accordion-03ca2bcb.js";import"./create-scoped-keydown-handler-870d0701.js";import"./IconChevronDown-98fe7a40.js";import"./MultiSelect-3f02d5bc.js";import"./Menu-66fae8df.js";import"./IconDeviceFloppy-e64fda70.js";import"./IconRefresh-112158d7.js";import"./Radio-d6a98267.js";import"./Badge-e66d9f74.js";import"./v4-4a60fe23.js";import"./IconFilter-b6b2ffb4.js";import"./use-debounced-value-a36920eb.js";import"./ArchbaseIOCTypes-0b6d6545.js";import"./IsNotEmpty-d2b4946f.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./___vite-browser-external_commonjs-proxy-698e55bb.js";import"./index-f91c0534.js";import"./index-61513462.js";import"./use-hotkeys-5b90e803.js";import"./ArchbaseSpaceFixed-cb4e0690.js";import"./ArchbaseAlert-42065d5a.js";import"./Alert-eb479cda.js";import"./ArchbaseDebugInspector-f7a7d1a4.js";import"./ArchbaseObjectInspector-cc5955d4.js";import"./use-resize-observer-3e8578d2.js";import"./use-local-storage-ec4454b3.js";import"./types-5decf4ed.js";import"./notifications.store-79c361f9.js";import"./store-704b6bc9.js";const Fe={visible:!0,allowAdd:!0,allowEdit:!0,allowView:!0,allowRemove:!0,positionCustomUserActions:"after"};function A({title:f,dataSource:i,filterOptions:m,filterFields:F,innerRef:u,isError:y=!1,error:q="",clearError:E=()=>{},width:v="100%",height:S="100%",withBorder:a=!0,filterPersistenceDelegator:w,withPagination:o=!0,children:b,radius:R,userActions:V,debug:I=!1,variant:x,actionsButtonsOptions:N,spaceOptions:_,style:B,debugOptions:U}){const L=fe(),M=u||p.useRef(),j=p.useRef(),[n,P]=p.useState({activeFilterIndex:-1,expandedFilter:!1}),Q=p.useMemo(()=>{const e={...Fe,...V},l=[e.allowAdd?{id:"1",icon:t(pe,{}),color:"green",label:e.labelAdd?e.labelAdd:d("archbase:New"),executeAction:()=>e&&e.onAddExecute,enabled:!0,hint:"Clique para criar."}:void 0,e.allowEdit?{id:"2",icon:t(me,{}),color:"blue",label:e.labelEdit?e.labelEdit:d("archbase:Edit"),executeAction:()=>e&&e.onEditExecute,enabled:!i.isEmpty()&&i.isBrowsing(),hint:"Clique para editar."}:void 0,e.allowRemove?{id:"3",icon:t(de,{}),color:"red",label:e.labelRemove?e.labelRemove:d("archbase:Remove"),executeAction:()=>e&&e.onRemoveExecute,enabled:!i.isEmpty()&&i.isBrowsing(),hint:"Clique para remover."}:void 0,e.allowView?{id:"4",icon:t(ue,{}),color:"green",label:e.labelView?e.labelView:d("archbase:View"),executeAction:()=>e&&e.onView,enabled:!i.isEmpty()&&i.isBrowsing(),hint:"Clique para visualizar."}:void 0];return e.customUserActions&&e.positionCustomUserActions==="before"?[...e.customUserActions,...l]:e.customUserActions&&e.positionCustomUserActions==="after"?[...l,...e.customUserActions]:l},[V,i]),z=(e,l)=>{P({...n,currentFilter:e,activeFilterIndex:l})},G=e=>{P({...n,expandedFilter:e})},H=(e,l)=>{P({...n,currentFilter:e,activeFilterIndex:l})},K=()=>{},J={menuButtonColor:"blue.5",menuPosition:"left"},W={headerFlexGrow:"left",footerFlexGrow:"right"},Y={...J,...N},X={...W,..._};return t(se,{innerRef:M,width:v,height:S,radius:R,withBorder:a,isError:y,error:q,clearError:E,title:f,defaultDebug:I,debugOptions:U,style:B,options:X,headerLeft:t(ne,{actions:Q,options:Y}),headerRight:t(Z,{id:m.componentName,viewName:m.viewName,apiVersion:m.apiVersion,ref:j,variant:x||L.variant,expandedFilter:n.expandedFilter,persistenceDelegator:w,currentFilter:n.currentFilter,activeFilterIndex:n.activeFilterIndex,onSelectedFilter:H,onFilterChanged:z,onSearchByFilter:K,onToggleExpandedFilter:G,width:"660px",height:"170px",children:F}),footerRight:o&&t(ce,{total:10}),children:b})}try{A.displayName="ArchbasePanelTemplate",A.__docgenInfo={description:"",displayName:"ArchbasePanelTemplate",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"ArchbaseDataSource<T, ID>"}},dataSourceEdition:{defaultValue:null,description:"",name:"dataSourceEdition",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"string"}},filterOptions:{defaultValue:null,description:"",name:"filterOptions",required:!0,type:{name:"FilterOptions"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!1,type:{name:"number"}},filterFields:{defaultValue:null,description:"",name:"filterFields",required:!0,type:{name:"ReactNode"}},filterPersistenceDelegator:{defaultValue:null,description:"",name:"filterPersistenceDelegator",required:!0,type:{name:"ArchbaseQueryFilterDelegator"}},userActions:{defaultValue:null,description:"",name:"userActions",required:!1,type:{name:"UserActionsOptions"}},innerRef:{defaultValue:null,description:"Referência para o componente interno",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},isError:{defaultValue:{value:"false"},description:"",name:"isError",required:!1,type:{name:"boolean"}},error:{defaultValue:{value:""},description:"",name:"error",required:!1,type:{name:"string"}},clearError:{defaultValue:{value:"() => {}"},description:"",name:"clearError",required:!1,type:{name:"() => void"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"100%"},description:"",name:"height",required:!1,type:{name:"string | number"}},withBorder:{defaultValue:{value:"true"},description:"",name:"withBorder",required:!1,type:{name:"boolean"}},withPagination:{defaultValue:{value:"true"},description:"",name:"withPagination",required:!1,type:{name:"boolean"}},radius:{defaultValue:null,description:"",name:"radius",required:!1,type:{name:"string | number"}},debug:{defaultValue:{value:"false"},description:"",name:"debug",required:!1,type:{name:"boolean"}},actionsButtonsOptions:{defaultValue:null,description:"",name:"actionsButtonsOptions",required:!1,type:{name:"ArchbaseActionButtonsOptions"}},spaceOptions:{defaultValue:null,description:"",name:"spaceOptions",required:!1,type:{name:"ArchbaseSpaceTemplateOptions"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},debugOptions:{defaultValue:null,description:"",name:"debugOptions",required:!1,type:{name:"ArchbaseDebugOptions"}}}}}catch{}const ye=[],qe=()=>{const f=ae(),[i,m]=p.useState(!0),F=ee(ie.Pessoa),{dataSource:u,isLoading:y,error:q,isError:E,clearError:v}=te({name:"dsPessoas",service:F,pageSize:10,loadOnStart:!0,currentPage:0,onLoadComplete:o=>{},onDestroy:o=>{},onError:(o,b)=>{Ae.showError(d("WARNING"),o,b)}});D({dataSource:u,listener:o=>{}});const{dataSource:S}=$({initialData:ye,name:"dsFilters"}),{dataSource:a}=oe({initialData:Ee,name:"dsPessoas"});a!=null&&a.isBrowsing()&&!(a!=null&&a.isEmpty())&&a.edit(),D({dataSource:a,listener:o=>{switch(o.type){case le.fieldChanged:{f();break}}}});const w=p.useMemo(()=>h(re,{children:[t(r,{name:"id",label:"ID",dataType:"number",sortable:!0,quickFilter:!0,quickFilterSort:!0}),t(r,{name:"nome",label:"Nome da pessoa",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),h(r,{name:"sexo",label:"Sexo",dataType:"string",sortable:!0,quickFilter:!0,quickFilterSort:!0,children:[t(c,{label:"Masculino",value:"Masculino"}),t(c,{label:"Feminino",value:"Feminino"})]}),t(r,{name:"cpf",label:"CPF",dataType:"string",sortable:!0,quickFilter:!0,mask:be.CPF}),t(r,{name:"pai",label:"Nome do pai",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(r,{name:"mae",label:"Nome do mãe",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(r,{name:"cidade",label:"Cidade",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(r,{name:"Estado",label:"Estado",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(r,{name:"email",label:"E-mail",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(r,{name:"data_nasc",label:"Data nascimento",dataType:"date",sortable:!0,quickFilter:!0,operator:T}),t(r,{name:"peso",label:"Peso KG",dataType:"number",sortable:!0,quickFilter:!0,operator:T,quickFilterSort:!0}),h(r,{name:"status",label:"Status da pessoa",dataType:"string",sortable:!0,quickFilter:!0,quickFilterSort:!0,children:[t(c,{label:"APROVADO",value:"0"}),t(c,{label:"REJEITADO",value:"1"}),t(c,{label:"PENDENTE",value:"2"})]})]}),[]);return h("div",{style:{width:"100%",height:"calc(100vh - 50px)"},children:[t(he,{label:"Debug",isChecked:i,onChangeValue:(o,b)=>m(o===!0)}),t(A,{title:"Pessoas",dataSource:u,withPagination:!0,pageSize:10,isLoading:y,error:q,isError:E,clearError:v,width:"100%",height:"100%",debug:i,debugOptions:{debugLayoutHotKey:"ctrl+shift+S",debugObjectInspectorHotKey:"ctrl+shift+D",objectsToInspect:[{name:"Pessoa",object:u}]},filterOptions:{activeFilterIndex:0,enabledAdvancedFilter:!1,apiVersion:"1.01",componentName:"templatePanelExemplo",viewName:"templatePanelView"},userActions:{},filterFields:w,filterPersistenceDelegator:S})]})},Ee=[ge[0]],Wr={title:"Modelos/Panel template",component:A},g={name:"Exemplo simples",render:()=>t(qe,{})};var k,O,C;g.parameters={...g.parameters,docs:{...(k=g.parameters)==null?void 0:k.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbasePanelTemplateExample />
}`,...(C=(O=g.parameters)==null?void 0:O.docs)==null?void 0:C.source}}};export{g as Primary,Wr as default};
