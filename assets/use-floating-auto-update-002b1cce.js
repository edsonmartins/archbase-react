import{R as l,r as c}from"./index-8b3efc3f.js";import{j as y}from"./jsx-runtime-c9381026.js";import{u as R}from"./DirectionProvider-1e219af7.js";import{a as C}from"./floating-ui.react-e0c547c4.js";import{u as g}from"./use-did-update-bccd292e.js";function S(r){var o;const t=l.version;return typeof l.version!="string"||t.startsWith("18.")?r==null?void 0:r.ref:(o=r==null?void 0:r.props)==null?void 0:o.ref}function T(r,t){if(r==="rtl"&&(t.includes("right")||t.includes("left"))){const[o,n]=t.split("-"),e=o==="right"?"left":"right";return n===void 0?e:`${e}-${n}`}return t}function h(r,t,o,n){return r==="center"||n==="center"?{top:t}:r==="end"?{bottom:o}:r==="start"?{top:o}:{}}function b(r,t,o,n,e){return r==="center"||n==="center"?{left:t}:r==="end"?{[e==="ltr"?"right":"left"]:o}:r==="start"?{[e==="ltr"?"left":"right"]:o}:{}}const v={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function m({position:r,arrowSize:t,arrowOffset:o,arrowRadius:n,arrowPosition:e,arrowX:s,arrowY:u,dir:p}){const[i,a="center"]=r.split("-"),f={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[v[i]]:n},d=-t/2;return i==="left"?{...f,...h(a,u,o,e),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:i==="right"?{...f,...h(a,u,o,e),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:i==="top"?{...f,...b(a,s,o,e,p),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:i==="bottom"?{...f,...b(a,s,o,e,p),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const F=c.forwardRef(({position:r,arrowSize:t,arrowOffset:o,arrowRadius:n,arrowPosition:e,visible:s,arrowX:u,arrowY:p,style:i,...a},f)=>{const{dir:d}=R();return s?y("div",{...a,ref:f,style:{...i,...m({position:r,arrowSize:t,arrowOffset:o,arrowRadius:n,arrowPosition:e,dir:d,arrowX:u,arrowY:p})}}):null});F.displayName="@mantine/core/FloatingArrow";function x({opened:r,floating:t,position:o,positionDependencies:n}){const[e,s]=c.useState(0);c.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&r)return C(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,r,e,o]),g(()=>{t.update()},n),g(()=>{s(u=>u+1)},[r])}export{F,T as a,S as g,x as u};
