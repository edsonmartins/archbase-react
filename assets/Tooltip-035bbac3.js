import{a as X,F as J,j as b}from"./jsx-runtime-c9381026.js";import{r as d}from"./index-8b3efc3f.js";import{f as K,u as z,b as ge,h as Q,B as W,i as ee,n as oe,m as te,t as we}from"./polymorphic-factory-0b25d542.js";import{g as ne,i as re,O as se}from"./OptionalPortal-29ef8d11.js";import{u as Pe}from"./DirectionProvider-1e219af7.js";import{u as ae,s as ie,g as be,F as Te,a as xe,o as De,f as Re,b as Fe,i as Me,c as Ee,d as Oe,e as Ce,h as Ge,j as Ne,k as Se,l as Ie,m as ze,n as Le}from"./use-floating-auto-update-84dc8d55.js";import{T as ke}from"./Transition-6d10f101.js";import{g as je}from"./get-style-object-71cabcb5.js";import{u as le}from"./use-merged-ref-add91123.js";import{u as Ae}from"./use-id-3df0f1f4.js";import{u as Be}from"./use-did-update-bccd292e.js";const Ue={duration:100,transition:"fade"};function $e(e,t){return{...Ue,...t,...e}}function He({offset:e,position:t}){const[o,n]=d.useState(!1),l=d.useRef(),{x:g,y:p,elements:h,refs:a,update:f,placement:v}=ae({placement:t,middleware:[ie({crossAxis:!0,padding:5,rootBoundary:"document"})]}),T=v.includes("right")?e:t.includes("left")?e*-1:0,C=v.includes("bottom")?e:t.includes("top")?e*-1:0,s=d.useCallback(({clientX:r,clientY:i})=>{a.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:r,y:i,left:r+T,top:i+C,right:r,bottom:i}}})},[h.reference]);return d.useEffect(()=>{if(a.floating.current){const r=l.current;r.addEventListener("mousemove",s);const i=be(a.floating.current);return i.forEach(c=>{c.addEventListener("scroll",f)}),()=>{r.removeEventListener("mousemove",s),i.forEach(c=>{c.removeEventListener("scroll",f)})}}},[h.reference,a.floating.current,f,s,o]),{handleMouseMove:s,x:g,y:p,opened:o,setOpened:n,boundaryRef:l,floating:a.setFloating}}var L={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Ve={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:ne("popover")},Xe=ee((e,{radius:t,color:o})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:oe(t),"--tooltip-bg":o?te(o,e):void 0,"--tooltip-color":o?"var(--mantine-color-white)":void 0}})),Y=K((e,t)=>{const o=z("TooltipFloating",Ve,e),{children:n,refProp:l,withinPortal:g,style:p,className:h,classNames:a,styles:f,unstyled:v,radius:T,color:C,label:s,offset:r,position:i,multiline:c,zIndex:G,disabled:x,variant:D,vars:R,portalProps:F,...M}=o,E=ge(),y=Q({name:"TooltipFloating",props:o,classes:L,className:h,style:p,classNames:a,styles:f,unstyled:v,rootSelector:"tooltip",vars:R,varsResolver:Xe}),{handleMouseMove:m,x:N,y:S,opened:j,boundaryRef:A,floating:B,setOpened:I}=He({offset:r,position:i});if(!re(n))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const U=le(A,n.ref,t),$=O=>{var w,P;(P=(w=n.props).onMouseEnter)==null||P.call(w,O),m(O),I(!0)},H=O=>{var w,P;(P=(w=n.props).onMouseLeave)==null||P.call(w,O),I(!1)};return X(J,{children:[b(se,{...F,withinPortal:g,children:b(W,{...M,...y("tooltip",{style:{...je(p,E),zIndex:G,display:!x&&j?"block":"none",top:(S&&Math.round(S))??"",left:(N&&Math.round(N))??""}}),variant:D,ref:B,mod:{multiline:c},children:s})}),d.cloneElement(n,{...n.props,[l]:U,onMouseEnter:$,onMouseLeave:H})]})});Y.classes=L;Y.displayName="@mantine/core/TooltipFloating";const pe=d.createContext(!1),Ye=pe.Provider,Ze=()=>d.useContext(pe),_e={openDelay:0,closeDelay:0};function ce(e){const{openDelay:t,closeDelay:o,children:n}=z("TooltipGroup",_e,e);return b(Ye,{value:!0,children:b(Te,{delay:{open:t,close:o},children:n})})}ce.displayName="@mantine/core/TooltipGroup";function qe(e){var M,E,y;const[t,o]=d.useState(!1),l=typeof e.opened=="boolean"?e.opened:t,g=Ze(),p=Ae(),{delay:h,currentId:a,setCurrentId:f}=xe(),v=d.useCallback(m=>{o(m),m&&f(p)},[f,p]),{x:T,y:C,context:s,refs:r,update:i,placement:c,middlewareData:{arrow:{x:G,y:x}={}}}=ae({strategy:e.strategy,placement:e.position,open:l,onOpenChange:v,middleware:[De(e.offset),ie({padding:8}),Re(),Fe({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[Me()]:[]]}),{getReferenceProps:D,getFloatingProps:R}=Ee([Oe(s,{enabled:(M=e.events)==null?void 0:M.hover,delay:g?h:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((E=e.events)!=null&&E.touch)}),Ce(s,{enabled:(y=e.events)==null?void 0:y.focus,visibleOnly:!0}),Ge(s,{role:"tooltip"}),Ne(s,{enabled:typeof e.opened>"u"}),Se(s,{id:p})]);Ie({opened:l,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:r,update:i}}),Be(()=>{var m;(m=e.onPositionChange)==null||m.call(e,c)},[c]);const F=l&&a&&a!==p;return{x:T,y:C,arrowX:G,arrowY:x,reference:r.setReference,floating:r.setFloating,getFloatingProps:R,getReferenceProps:D,isGroupPhase:F,opened:l,placement:c}}const q={position:"top",refProp:"ref",withinPortal:!0,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:ne("popover"),positionDependencies:[]},Je=ee((e,{radius:t,color:o})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:oe(t),"--tooltip-bg":o?te(o,e):void 0,"--tooltip-color":o?"var(--mantine-color-white)":void 0}})),k=K((e,t)=>{const o=z("Tooltip",q,e),{children:n,position:l,refProp:g,label:p,openDelay:h,closeDelay:a,onPositionChange:f,opened:v,withinPortal:T,radius:C,color:s,classNames:r,styles:i,unstyled:c,style:G,className:x,withArrow:D,arrowSize:R,arrowOffset:F,arrowRadius:M,arrowPosition:E,offset:y,transitionProps:m,multiline:N,events:S,zIndex:j,disabled:A,positionDependencies:B,onClick:I,onMouseEnter:U,onMouseLeave:$,inline:H,variant:O,keepMounted:w,vars:P,portalProps:ue,mod:de,floatingStrategy:fe,...me}=z("Tooltip",q,o),{dir:he}=Pe(),Z=d.useRef(null),u=qe({position:ze(he,l),closeDelay:a,openDelay:h,onPositionChange:f,opened:v,events:S,arrowRef:Z,arrowOffset:F,offset:typeof y=="number"?y+(D?R/2:0):y,positionDependencies:[...B,n],inline:H,strategy:fe}),V=Q({name:"Tooltip",props:o,classes:L,className:x,style:G,classNames:r,styles:i,unstyled:c,rootSelector:"tooltip",vars:P,varsResolver:Je});if(!re(n))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ve=le(u.reference,n.ref,t),_=$e(m,{duration:100,transition:"fade"});return X(J,{children:[b(se,{...ue,withinPortal:T,children:b(ke,{..._,keepMounted:w,mounted:!A&&!!u.opened,duration:u.isGroupPhase?10:_.duration,children:ye=>X(W,{...me,variant:O,mod:[{multiline:N},de],...u.getFloatingProps({ref:u.floating,className:V("tooltip").className,style:{...V("tooltip").style,...ye,zIndex:j,top:u.y??0,left:u.x??0}}),children:[p,b(Le,{ref:Z,arrowX:u.arrowX,arrowY:u.arrowY,visible:D,position:u.placement,arrowSize:R,arrowOffset:F,arrowRadius:M,arrowPosition:E,...V("arrow")})]})})}),d.cloneElement(n,u.getReferenceProps({onClick:I,onMouseEnter:U,onMouseLeave:$,onMouseMove:o.onMouseMove,onPointerDown:o.onPointerDown,onPointerEnter:o.onPointerEnter,[g]:ve,className:we(x,n.props.className),...n.props}))]})});k.classes=L;k.displayName="@mantine/core/Tooltip";k.Floating=Y;k.Group=ce;export{k as T};
