import{j as s,a as G}from"./jsx-runtime-c9381026.js";import{b as Ce,c as ve,d as Ee,u as we,a as be}from"./useArchbaseDataSource-c5d317be.js";import{D as d,u as ge}from"./useArchbaseDataSourceListener-92dd263c.js";import"./index-9e992aa6.js";import{r as l}from"./index-8b3efc3f.js";import{f as Ve,u as qe,h as Ie,e as De,t as Pe,i as xe,q as ae,b as Ae}from"./polymorphic-factory-a4611e92.js";import{u as Se}from"./use-force-update-11fe72c1.js";import{u as _e}from"./use-resolved-styles-api-eaf70dd7.js";import{A as Le}from"./ActionIcon-c82922b0.js";import{I as re}from"./Input-4fafcb95.js";import{I as Re}from"./InputBase-8ff9b957.js";import{u as Fe}from"./use-id-3df0f1f4.js";import{u as Me}from"./use-uncontrolled-f56237fb.js";import{G as H}from"./Grid-8b653004.js";import{C as S}from"./Card-40454cf0.js";import{G as te}from"./Group-3f75be89.js";import{T as se}from"./Text-892c464b.js";import{A as Oe}from"./ArchbaseObjectInspector-972eeb7d.js";import{p as Ne}from"./pessoasData-6b8000da.js";import"./i18next-a4b2730f.js";import"./lodash-4d0be66a.js";import"./_commonjsHelpers-de833af9.js";import"./index-1905cc86.js";import"./index-d0400ba7.js";import"./Mantine.context-e727d900.js";import"./Loader-ca6f2ca5.js";import"./Transition-b4f11a45.js";import"./index-a38d0dca.js";import"./use-reduced-motion-aed616a5.js";import"./use-media-query-14e6f300.js";import"./use-did-update-bccd292e.js";import"./UnstyledButton-a8273c7a.js";import"./create-optional-context-86e78b6c.js";import"./use-input-props-33fafcda.js";import"./use-isomorphic-effect-aa890e3d.js";import"./create-safe-context-941c9e18.js";import"./get-sorted-breakpoints-e9679440.js";import"./px-90b8b31c.js";import"./Paper-3fe2af31.js";import"./use-mantine-color-scheme-44b9a55e.js";import"./types-5decf4ed.js";const ze=({reveal:r})=>s("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:s("path",{d:r?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var B={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const Ue={visibilityToggleIcon:ze},je=xe((r,{size:e})=>({root:{"--psi-icon-size":ae(e,"psi-icon-size"),"--psi-button-size":ae(e,"psi-button-size")}})),J=Ve((r,e)=>{const n=qe("PasswordInput",Ue,r),{classNames:m,className:R,style:F,styles:E,unstyled:u,vars:p,required:w,error:f,leftSection:b,disabled:h,id:M,variant:g,inputContainer:O,description:V,label:q,size:y,errorProps:Q,descriptionProps:C,labelProps:I,withAsterisk:N,inputWrapperOrder:D,wrapperProps:v,radius:P,rightSection:c,rightSectionWidth:x,rightSectionPointerEvents:A,leftSectionWidth:z,visible:U,defaultVisible:j,onVisibilityChange:X,visibilityToggleIcon:a,visibilityToggleButtonProps:t,rightSectionProps:Y,leftSectionProps:le,leftSectionPointerEvents:de,withErrorStyles:ue,mod:pe,...ce}=n,T=Fe(M),[K,me]=Me({value:U,defaultValue:j,finalValue:!1,onChange:X}),Z=()=>me(!K),k=Ie({name:"PasswordInput",classes:B,props:n,className:R,style:F,classNames:m,styles:E,unstyled:u,vars:p,varsResolver:je}),{resolvedClassNames:W,resolvedStyles:$}=_e({classNames:m,styles:E,props:n}),{styleProps:fe,rest:ee}=De(ce),he=a,ye=s(Le,{...k("visibilityToggle"),disabled:h,radius:P,"aria-hidden":!t,tabIndex:-1,...t,variant:"subtle",color:"gray",unstyled:u,onTouchEnd:i=>{var o;i.preventDefault(),(o=t==null?void 0:t.onTouchEnd)==null||o.call(t,i),Z()},onMouseDown:i=>{var o;i.preventDefault(),(o=t==null?void 0:t.onMouseDown)==null||o.call(t,i),Z()},onKeyDown:i=>{var o;(o=t==null?void 0:t.onKeyDown)==null||o.call(t,i),i.key===" "&&(i.preventDefault(),Z())},children:s(he,{reveal:K})});return s(re.Wrapper,{required:w,id:T,label:q,error:f,description:V,size:y,classNames:W,styles:$,__staticSelector:"PasswordInput",errorProps:Q,descriptionProps:C,unstyled:u,withAsterisk:N,inputWrapperOrder:D,inputContainer:O,variant:g,labelProps:{...I,htmlFor:T},mod:pe,...k("root"),...fe,...v,children:s(re,{component:"div",error:f,leftSection:b,size:y,classNames:{...W,input:Pe(B.input,W.input)},styles:$,radius:P,disabled:h,__staticSelector:"PasswordInput",rightSectionWidth:x,rightSection:c??ye,variant:g,unstyled:u,leftSectionWidth:z,rightSectionPointerEvents:A||"all",rightSectionProps:Y,leftSectionProps:le,leftSectionPointerEvents:de,withAria:!1,withErrorStyles:ue,children:s("input",{required:w,"data-invalid":!!f||void 0,"data-with-left-section":!!b||void 0,...k("innerInput"),disabled:h,id:T,ref:e,...ee,autoComplete:ee.autoComplete||"off",type:K?"text":"password"})})})});J.classes={...Re.classes,...B};J.displayName="@mantine/core/PasswordInput";function L({dataSource:r,dataField:e,disabled:n=!1,readOnly:m=!1,style:R,placeholder:F,label:E,description:u,error:p,required:w,size:f,width:b,innerRef:h,value:M,onKeyDown:g,onKeyUp:O,onFocusExit:V=()=>{},onFocusEnter:q=()=>{},onChangeValue:y=()=>{},variant:Q}){const[C,I]=l.useState(M||""),N=l.useRef();Ae();const[D,v]=l.useState(p),P=Se();l.useEffect(()=>{v(void 0)},[C]),l.useEffect(()=>{p!==D&&v(p)},[p]);const c=()=>{let a=C;r&&e&&(a=r.getFieldValue(e),a||(a="")),I(a)},x=l.useCallback(()=>{c()},[]),A=l.useCallback(a=>{r&&e&&((a.type===d.dataChanged||a.type===d.recordChanged||a.type===d.afterScroll||a.type===d.afterCancel||a.type===d.afterEdit)&&(c(),P()),a.type===d.onFieldError&&a.fieldName===e&&v(a.error))},[]);Ce(()=>{c(),r&&e&&(r.addListener(A),r.addFieldChangeListener(e,x))}),ve(()=>{c()},[]);const z=a=>{a.preventDefault();const t=a.target.value;a.persist(),I(Y=>t),r&&!r.isBrowsing()&&e&&r.getFieldValue(e)!==t&&r.setFieldValue(e,t),y&&y(a,t)};Ee(()=>{r&&e&&(r.removeListener(A),r.removeFieldChangeListener(e,x))});const U=a=>{V&&V(a)},j=a=>{q&&q(a)};return s(J,{disabled:n,readOnly:(()=>{let a=m;return r&&!m&&(a=r.isBrowsing()),a})(),size:f,style:{width:b,...R},value:C,ref:h||N,required:w,onChange:z,onBlur:U,onFocus:j,placeholder:F,description:u,onKeyDown:g,onKeyUp:O,label:E,error:D})}try{L.displayName="ArchbasePasswordEdit",L.__docgenInfo={description:"",displayName:"ArchbasePasswordEdit",props:{dataSource:{defaultValue:null,description:"Fonte de dados onde será atribuido o valor do edit",name:"dataSource",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},dataField:{defaultValue:null,description:"Campo onde deverá ser atribuido o valor do edit na fonte de dados",name:"dataField",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Indicador se o edit está desabilitado",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"Indicador se o edit é somente leitura. Obs: usado em conjunto com o status da fonte de dados",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"Indicador se o preenchimento do edit é obrigatório",name:"required",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"Valor inicial",name:"value",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Estilo do edit",name:"style",required:!1,type:{name:"CSSProperties"}},size:{defaultValue:null,description:"Tamanho do edit",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},width:{defaultValue:null,description:"Largura do edit",name:"width",required:!1,type:{name:"string | number"}},placeholder:{defaultValue:null,description:"Texto sugestão do edit",name:"placeholder",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Título do edit",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Descrição do edit",name:"description",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Último erro ocorrido no edit",name:"error",required:!1,type:{name:"string"}},onFocusExit:{defaultValue:{value:"() => {}"},description:"Evento quando o foco sai do edit",name:"onFocusExit",required:!1,type:{name:"FocusEventHandler<T>"}},onFocusEnter:{defaultValue:{value:"() => {}"},description:"Evento quando o edit recebe o foco",name:"onFocusEnter",required:!1,type:{name:"FocusEventHandler<T>"}},onChangeValue:{defaultValue:{value:"() => {}"},description:"Evento quando o valor do edit é alterado",name:"onChangeValue",required:!1,type:{name:"(value: any, event: any) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: any) => void"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"(event: any) => void"}},innerRef:{defaultValue:null,description:"Referência para o componente interno",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"filled"'},{value:'"unstyled"'},{value:'"default"'}]}}}}}catch{}const Te=()=>{const r=we(),{dataSource:e}=be({initialData:Ke,name:"dsPessoas"});return e!=null&&e.isBrowsing()&&!(e!=null&&e.isEmpty())&&e.edit(),ge({dataSource:e,listener:n=>{switch(n.type){case d.fieldChanged:{r();break}}}}),G(H,{children:[s(H.Col,{offset:1,span:4,children:G(S,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[s(S.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:s(te,{justify:"space-between",children:s(se,{fw:500,children:"PasswordEdit Component"})})}),s(L,{label:"Senha",dataSource:e,dataField:"senha"})]})}),s(H.Col,{span:4,children:G(S,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[s(S.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:s(te,{justify:"space-between",children:s(se,{fw:500,children:"DataSource dsPessoas"})})}),s(Oe,{data:e})]})})]})},Ke=[Ne[0]],Sa={title:"Editores/Password Edit",component:L},_={name:"Exemplo simples",render:()=>s(Te,{})};var ie,oe,ne;_.parameters={..._.parameters,docs:{...(ie=_.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbasePasswordEditExample />
}`,...(ne=(oe=_.parameters)==null?void 0:oe.docs)==null?void 0:ne.source}}};export{_ as Primary,Sa as default};
