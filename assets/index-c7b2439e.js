import{j as r,a as _}from"./jsx-runtime-2ca98591.js";import{r as b}from"./index-402471b7.js";function E(e){const[n,a]=b.useState(e());return[n,()=>a(l=>!l),a]}const J=e=>typeof e=="boolean"||e instanceof Boolean,j=e=>typeof e=="number"||e instanceof Number,q=e=>typeof e=="bigint"||e instanceof BigInt,w=e=>typeof e=="string"||e instanceof String,B=e=>Array.isArray(e),C=e=>e instanceof Object&&e!==null,R="▾",D="▸";function f(e,n){return`${e||""} ${n||""}`}function k({field:e,value:n,data:a,lastElement:s,openBracket:l,closeBracket:i,level:o,style:u,shouldInitiallyExpand:d}){const h=b.useRef(!1),[y,p,N]=E(()=>d(o,n,e));b.useEffect(()=>{h.current?N(d(o,n,e)):h.current=!0},[d]);const A=y?R:D,S=o+1,I=a.length-1,g=c=>{c.key===" "&&p()};return _("div",{className:u.basicChildStyle,role:"list",children:[r("span",{className:f(u.expander,u.pointer),role:"button",onClick:p,onKeyDown:g,tabIndex:0,children:A}),e&&_("span",{className:u.label,children:[e,":"]}),r("span",{className:u.punctuation,children:l}),y?r("div",{children:a.map((c,m)=>r(x,{field:c[0],value:c[1],style:u,lastElement:m===I,level:S,shouldInitiallyExpand:d},c[0]||m))}):r("span",{className:f(u.punctuation,u.pointer),role:"button",tabIndex:0,onClick:p,onKeyDown:g,children:"..."}),r("span",{className:u.punctuation,children:i}),!s&&r("span",{className:u.punctuation,children:","})]})}function O({field:e,value:n,style:a,lastElement:s,shouldInitiallyExpand:l,level:i}){return k({field:e,value:n,lastElement:s||!1,level:i,openBracket:"{",closeBracket:"}",style:a,shouldInitiallyExpand:l,data:Object.keys(n).map(o=>[o,n[o]])})}function $({field:e,value:n,style:a,lastElement:s,level:l,shouldInitiallyExpand:i}){return k({field:e,value:n,lastElement:s||!1,level:l,openBracket:"[",closeBracket:"]",style:a,shouldInitiallyExpand:i,data:n.map(o=>[void 0,o])})}function P({field:e,value:n,style:a,lastElement:s}){let l=n,i=a.otherValue;return n===null?(l="null",i=a.nullValue):n===void 0?(l="undefined",i=a.undefinedValue):w(n)?(l=`"${n}"`,i=a.stringValue):J(n)?(l=n?"true":"false",i=a.booleanValue):j(n)?(l=n.toString(),i=a.numberValue):q(n)?(l=`${n.toString()}n`,i=a.numberValue):l=n.toString(),_("div",{className:a.basicChildStyle,role:"listitem",children:[e&&_("span",{className:a.label,children:[e,":"]}),r("span",{className:i,children:l}),!s&&r("span",{className:a.punctuation,children:","})]})}function x(e){const n=e.value;return B(n)?r($,{...e}):C(n)?r(O,{...e}):r(P,{...e})}try{ArchbaseJsonViewDataRenderer.displayName="ArchbaseJsonViewDataRenderer",ArchbaseJsonViewDataRenderer.__docgenInfo={description:"",displayName:"ArchbaseJsonViewDataRenderer",props:{field:{defaultValue:null,description:"",name:"field",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},lastElement:{defaultValue:null,description:"",name:"lastElement",required:!0,type:{name:"boolean"}},level:{defaultValue:null,description:"",name:"level",required:!0,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"StyleProps"}},shouldInitiallyExpand:{defaultValue:null,description:"",name:"shouldInitiallyExpand",required:!0,type:{name:"(level: number, value: any, field?: string) => boolean"}}}}}catch{}const K="_pointer_9trty_23",t={"container-base":"_container-base_9trty_3","punctuation-base":"_punctuation-base_9trty_12","expander-base":"_expander-base_9trty_17",pointer:K,"container-light":"_container-light_9trty_27 _container-base_9trty_3","expander-light":"_expander-light_9trty_32 _expander-base_9trty_17","basic-element-style":"_basic-element-style_9trty_36","label-light":"_label-light_9trty_41","punctuation-light":"_punctuation-light_9trty_46 _punctuation-base_9trty_12","value-null-light":"_value-null-light_9trty_50","value-undefined-light":"_value-undefined-light_9trty_54","value-string-light":"_value-string-light_9trty_58","value-number-light":"_value-number-light_9trty_62","value-boolean-light":"_value-boolean-light_9trty_66","value-other-light":"_value-other-light_9trty_70","container-dark":"_container-dark_9trty_74 _container-base_9trty_3","expander-dark":"_expander-dark_9trty_79 _expander-base_9trty_17","label-dark":"_label-dark_9trty_85","punctuation-dark":"_punctuation-dark_9trty_91 _punctuation-base_9trty_12","value-null-dark":"_value-null-dark_9trty_96","value-undefined-dark":"_value-undefined-dark_9trty_100","value-string-dark":"_value-string-dark_9trty_104","value-number-dark":"_value-number-dark_9trty_108","value-boolean-dark":"_value-boolean-dark_9trty_112","value-other-dark":"_value-other-dark_9trty_116"},L={container:t["container-light"],basicChildStyle:t["basic-element-style"],label:t["label-light"],nullValue:t["value-null-light"],undefinedValue:t["value-undefined-light"],stringValue:t["value-string-light"],booleanValue:t["value-boolean-light"],numberValue:t["value-number-light"],otherValue:t["value-other-light"],expander:t["expander-light"],punctuation:t["punctuation-light"],pointer:t.pointer},H={container:t["container-dark"],basicChildStyle:t["basic-element-style"],label:t["label-dark"],nullValue:t["value-null-dark"],undefinedValue:t["value-undefined-dark"],stringValue:t["value-string-dark"],booleanValue:t["value-boolean-dark"],numberValue:t["value-number-dark"],otherValue:t["value-other-dark"],expander:t["expander-dark"],punctuation:t["punctuation-dark"],pointer:t.pointer},z=()=>!0,v=e=>e<1,V=({data:e,style:n=L,shouldInitiallyExpand:a=z})=>r("div",{className:n.container,children:r(x,{value:e,style:n,lastElement:!0,level:0,shouldInitiallyExpand:a})});try{v.displayName="collapseAllNested",v.__docgenInfo={description:"",displayName:"collapseAllNested",props:{}}}catch{}try{V.displayName="ArchbaseJsonView",V.__docgenInfo={description:"",displayName:"ArchbaseJsonView",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Object | any[]"}},style:{defaultValue:{value:`{
  container: styles['container-light'],
  basicChildStyle: styles['basic-element-style'],
  label: styles['label-light'],
  nullValue: styles['value-null-light'],
  undefinedValue: styles['value-undefined-light'],
  stringValue: styles['value-string-light'],
  booleanValue: styles['value-boolean-light'],
  numberValue: styles['value-number-light'],
  otherValue: styles['value-other-light'],
  expander: styles['expander-light'],
  punctuation: styles['punctuation-light'],
  pointer: styles.pointer
}`},description:"",name:"style",required:!1,type:{name:"StyleProps"}},shouldInitiallyExpand:{defaultValue:{value:"() => true"},description:"",name:"shouldInitiallyExpand",required:!1,type:{name:"(level: number, value: any, field?: string) => boolean"}}}}}catch{}export{V as A,z as a,H as b,v as c,L as d};
//# sourceMappingURL=index-c7b2439e.js.map
