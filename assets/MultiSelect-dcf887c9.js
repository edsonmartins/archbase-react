import{j as d,a as j,F as fs}from"./jsx-runtime-c9381026.js";import{r as ye}from"./index-8b3efc3f.js";import{u as ms}from"./use-resolved-styles-api-07b5b463.js";import{f as $,u as R,h as W,B as se,i as ve,q,n as gs,e as ys}from"./polymorphic-factory-bf652503.js";import{i as vs,g as bs,a as Ps,O as Ss}from"./OptionsDropdown-64d05981.js";import{C as N,u as _s}from"./Combobox-614068dc.js";import{I as be}from"./InputBase-46c7ce5b.js";import{C as ws,u as Cs}from"./Input-7a6e621e.js";import{c as Pe}from"./create-optional-context-86e78b6c.js";import{u as Is}from"./use-merged-ref-a374cf59.js";import{u as Os}from"./use-id-f896cdc5.js";import{u as ge}from"./use-uncontrolled-f56237fb.js";const[Ds,te]=Pe(),[Ns,zs]=Pe();var K={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Vs={},ks=ve((u,{gap:o},{size:t})=>({group:{"--pg-gap":o!==void 0?q(o):q(t,"pg-gap")}})),le=$((u,o)=>{const t=R("PillGroup",Vs,u),{classNames:y,className:a,style:r,styles:h,unstyled:l,vars:C,size:m,disabled:b,...P}=t,i=te(),e=(i==null?void 0:i.size)||m||void 0,p=W({name:"PillGroup",classes:K,props:t,className:a,style:r,classNames:y,styles:h,unstyled:l,vars:C,varsResolver:ks,stylesCtx:{size:e},rootSelector:"group"});return d(Ns,{value:{size:e,disabled:b},children:d(se,{ref:o,size:e,...p("group"),...P})})});le.classes=K;le.displayName="@mantine/core/PillGroup";const xs={variant:"default"},Fs=ve((u,{radius:o},{size:t})=>({root:{"--pill-fz":q(t,"pill-fz"),"--pill-height":q(t,"pill-height"),"--pill-radius":o===void 0?void 0:gs(o)}})),G=$((u,o)=>{const t=R("Pill",xs,u),{classNames:y,className:a,style:r,styles:h,unstyled:l,vars:C,variant:m,children:b,withRemoveButton:P,onRemove:i,removeButtonProps:e,radius:p,size:n,disabled:v,mod:x,...z}=t,g=zs(),I=te(),V=n||(g==null?void 0:g.size)||void 0,A=(I==null?void 0:I.variant)==="filled"?"contrast":m||"default",F=W({name:"Pill",classes:K,props:t,className:a,style:r,classNames:y,styles:h,unstyled:l,vars:C,varsResolver:Fs,stylesCtx:{size:V}});return j(se,{component:"span",ref:o,variant:A,size:V,...F("root",{variant:A}),mod:[{"with-remove":P&&!v,disabled:v||(g==null?void 0:g.disabled)},x],...z,children:[d("span",{...F("label"),children:b}),P&&d(ws,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:l,...e,...F("remove",{className:e==null?void 0:e.className,style:e==null?void 0:e.style}),onMouseDown:w=>{var O;w.preventDefault(),w.stopPropagation(),(O=e==null?void 0:e.onMouseDown)==null||O.call(e,w)},onClick:w=>{var O;w.stopPropagation(),i==null||i(),(O=e==null?void 0:e.onClick)==null||O.call(e,w)}})]})});G.classes=K;G.displayName="@mantine/core/Pill";G.Group=le;var Se={field:"m_45c4369d"};const Ms={type:"visible"},oe=$((u,o)=>{const t=R("PillsInputField",Ms,u),{classNames:y,className:a,style:r,styles:h,unstyled:l,vars:C,type:m,disabled:b,id:P,pointer:i,mod:e,...p}=t,n=te(),v=Cs(),x=W({name:"PillsInputField",classes:Se,props:t,className:a,style:r,classNames:y,styles:h,unstyled:l,rootSelector:"field"}),z=b||(n==null?void 0:n.disabled);return d(se,{component:"input",ref:Is(o,n==null?void 0:n.fieldRef),"data-type":m,disabled:z,mod:[{disabled:z,pointer:i},e],...x("field"),...p,id:(v==null?void 0:v.inputId)||P,"aria-invalid":n==null?void 0:n.hasError,"aria-describedby":v==null?void 0:v.describedBy,type:"text",onMouseDown:g=>!i&&g.stopPropagation()})});oe.classes=Se;oe.displayName="@mantine/core/PillsInputField";const Es={},H=$((u,o)=>{const t=R("PillsInput",Es,u),{children:y,onMouseDown:a,onClick:r,size:h,disabled:l,__staticSelector:C,error:m,variant:b,...P}=t,i=ye.useRef(null);return d(Ds,{value:{fieldRef:i,size:h,disabled:l,hasError:!!m,variant:b},children:d(be,{size:h,error:m,variant:b,component:"div",ref:o,onMouseDown:e=>{var p;e.preventDefault(),a==null||a(e),(p=i.current)==null||p.focus()},onClick:e=>{var n;e.preventDefault();const p=e.currentTarget.closest("fieldset");p!=null&&p.disabled||((n=i.current)==null||n.focus(),r==null||r(e))},...P,multiline:!0,disabled:l,__staticSelector:C||"PillsInput",withAria:!1,children:y})})});H.displayName="@mantine/core/PillsInput";H.Field=oe;function Gs({data:u,value:o}){const t=o.map(a=>a.trim().toLowerCase());return u.reduce((a,r)=>(vs(r)?a.push({group:r.group,items:r.items.filter(h=>t.indexOf(h.value.toLowerCase().trim())===-1)}):t.indexOf(r.value.toLowerCase().trim())===-1&&a.push(r),a),[])}const $s={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},_e=$((u,o)=>{const t=R("MultiSelect",$s,u),{classNames:y,className:a,style:r,styles:h,unstyled:l,vars:C,size:m,value:b,defaultValue:P,onChange:i,onKeyDown:e,variant:p,data:n,dropdownOpened:v,defaultDropdownOpened:x,onDropdownOpen:z,onDropdownClose:g,selectFirstOptionOnChange:I,onOptionSubmit:V,comboboxProps:A,filter:F,limit:w,withScrollArea:O,maxDropdownHeight:we,searchValue:Ce,defaultSearchValue:Ie,onSearchChange:Oe,readOnly:M,disabled:D,onFocus:U,onBlur:B,onPaste:Rs,radius:De,rightSection:Ne,rightSectionWidth:ze,rightSectionPointerEvents:ae,rightSectionProps:Ve,leftSection:ke,leftSectionWidth:xe,leftSectionPointerEvents:Fe,leftSectionProps:Me,inputContainer:Ee,inputWrapperOrder:Ge,withAsterisk:$e,labelProps:Re,descriptionProps:Ae,errorProps:Le,wrapperProps:Te,description:je,label:J,error:re,maxValues:qe,searchable:S,nothingFoundMessage:ie,withCheckIcon:He,checkIconPosition:We,hidePickedOptions:Ke,withErrorStyles:Ue,name:Be,form:Je,id:Qe,clearable:Xe,clearButtonProps:Ye,hiddenInputProps:Ze,placeholder:ne,hiddenInputValuesDivider:es,required:ss,mod:ts,renderOption:ls,onRemove:_,onClear:Q,scrollAreaProps:os,chevronColor:as,...de}=t,X=Os(Qe),Y=bs(n),k=Ps(Y),f=_s({opened:v,defaultOpened:x,onDropdownOpen:z,onDropdownClose:()=>{g==null||g(),f.resetSelectedOption()}}),{styleProps:rs,rest:{type:As,autoComplete:is,...ns}}=ys(de),[c,E]=ge({value:b,defaultValue:P,finalValue:[],onChange:i}),[L,ds]=ge({value:Ce,defaultValue:Ie,finalValue:"",onChange:Oe}),T=s=>{ds(s),f.resetSelectedOption()},Z=W({name:"MultiSelect",classes:{},props:t,classNames:y,styles:h,unstyled:l}),{resolvedClassNames:ce,resolvedStyles:pe}=ms({props:t,styles:h,classNames:y}),cs=s=>{e==null||e(s),s.key===" "&&!S&&(s.preventDefault(),f.toggleDropdown()),s.key==="Backspace"&&L.length===0&&c.length>0&&(_==null||_(c[c.length-1]),E(c.slice(0,c.length-1)))},ps=c.map((s,ee)=>{var fe,me;return d(G,{withRemoveButton:!M&&!((fe=k[s])!=null&&fe.disabled),onRemove:()=>{E(c.filter(hs=>s!==hs)),_==null||_(s)},unstyled:l,disabled:D,...Z("pill"),children:((me=k[s])==null?void 0:me.label)||s},`${s}-${ee}`)});ye.useEffect(()=>{I&&f.selectFirstOption()},[I,L]);const ue=d(N.ClearButton,{...Ye,onClear:()=>{Q==null||Q(),E([]),T("")}}),us=Gs({data:Y,value:c}),he=Xe&&c.length>0&&!D&&!M;return j(fs,{children:[j(N,{store:f,classNames:ce,styles:pe,unstyled:l,size:m,readOnly:M,__staticSelector:"MultiSelect",onOptionSubmit:s=>{V==null||V(s),T(""),f.updateSelectedOptionIndex("selected"),c.includes(k[s].value)?(E(c.filter(ee=>ee!==k[s].value)),_==null||_(k[s].value)):c.length<qe&&E([...c,k[s].value])},...A,children:[d(N.DropdownTarget,{children:d(H,{...rs,__staticSelector:"MultiSelect",classNames:ce,styles:pe,unstyled:l,size:m,className:a,style:r,variant:p,disabled:D,radius:De,__defaultRightSection:d(N.Chevron,{size:m,error:re,unstyled:l,color:as}),__clearSection:ue,__clearable:he,rightSection:Ne,rightSectionPointerEvents:ae||(ue?"all":"none"),rightSectionWidth:ze,rightSectionProps:Ve,leftSection:ke,leftSectionWidth:xe,leftSectionPointerEvents:Fe,leftSectionProps:Me,inputContainer:Ee,inputWrapperOrder:Ge,withAsterisk:$e,labelProps:Re,descriptionProps:Ae,errorProps:Le,wrapperProps:Te,description:je,label:J,error:re,multiline:!0,withErrorStyles:Ue,__stylesApiProps:{...t,rightSectionPointerEvents:ae||(he?"all":"none"),multiline:!0},pointer:!S,onClick:()=>S?f.openDropdown():f.toggleDropdown(),"data-expanded":f.dropdownOpened||void 0,id:X,required:ss,mod:ts,children:j(G.Group,{disabled:D,unstyled:l,...Z("pillsList"),children:[ps,d(N.EventsTarget,{autoComplete:is,children:d(H.Field,{...ns,ref:o,id:X,placeholder:ne,type:!S&&!ne?"hidden":"visible",...Z("inputField"),unstyled:l,onFocus:s=>{U==null||U(s),S&&f.openDropdown()},onBlur:s=>{B==null||B(s),f.closeDropdown(),T("")},onKeyDown:cs,value:L,onChange:s=>{T(s.currentTarget.value),S&&f.openDropdown(),I&&f.selectFirstOption()},disabled:D,readOnly:M||!S,pointer:!S})})]})})}),d(Ss,{data:Ke?us:Y,hidden:M||D,filter:F,search:L,limit:w,hiddenWhenEmpty:!ie,withScrollArea:O,maxDropdownHeight:we,filterOptions:S,value:c,checkIconPosition:We,withCheckIcon:He,nothingFoundMessage:ie,unstyled:l,labelId:J?`${X}-label`:void 0,"aria-label":J?void 0:de["aria-label"],renderOption:ls,scrollAreaProps:os})]}),d(N.HiddenInput,{name:Be,valuesDivider:es,value:c,form:Je,disabled:D,...Ze})]})});_e.classes={...be.classes,...N.classes};_e.displayName="@mantine/core/MultiSelect";export{_e as M};
