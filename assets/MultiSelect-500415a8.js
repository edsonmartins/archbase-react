import{j as c,a as T,F as fs}from"./jsx-runtime-c9381026.js";import{r as ye}from"./index-8b3efc3f.js";import{u as hs}from"./use-resolved-styles-api-07b5b463.js";import{f as $,u as R,h as H,B as se,i as ve,q as j,n as ms,e as gs}from"./polymorphic-factory-bf652503.js";import{i as ys,g as vs,a as bs,O as Ps}from"./OptionsDropdown-32503dd2.js";import{C as N,u as Ss}from"./Combobox-d5a4e168.js";import{I as be}from"./InputBase-46c7ce5b.js";import{C as _s,u as ws}from"./Input-7a6e621e.js";import{c as Pe}from"./create-optional-context-86e78b6c.js";import{u as Cs}from"./use-merged-ref-a374cf59.js";import{u as Is}from"./use-id-f896cdc5.js";import{u as ge}from"./use-uncontrolled-f56237fb.js";const[Ds,te]=Pe(),[Os,Ns]=Pe();var W={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const zs={},Vs=ve((u,{gap:o},{size:s})=>({group:{"--pg-gap":o!==void 0?j(o):j(s,"pg-gap")}})),le=$((u,o)=>{const s=R("PillGroup",zs,u),{classNames:y,className:a,style:i,styles:f,unstyled:l,vars:C,size:h,disabled:b,...P}=s,r=te(),e=(r==null?void 0:r.size)||h||void 0,p=H({name:"PillGroup",classes:W,props:s,className:a,style:i,classNames:y,styles:f,unstyled:l,vars:C,varsResolver:Vs,stylesCtx:{size:e},rootSelector:"group"});return c(Os,{value:{size:e,disabled:b},children:c(se,{ref:o,size:e,...p("group"),...P})})});le.classes=W;le.displayName="@mantine/core/PillGroup";const ks={variant:"default"},xs=ve((u,{radius:o},{size:s})=>({root:{"--pill-fz":j(s,"pill-fz"),"--pill-height":j(s,"pill-height"),"--pill-radius":o===void 0?void 0:ms(o)}})),G=$((u,o)=>{const s=R("Pill",ks,u),{classNames:y,className:a,style:i,styles:f,unstyled:l,vars:C,variant:h,children:b,withRemoveButton:P,onRemove:r,removeButtonProps:e,radius:p,size:n,disabled:v,mod:x,...z}=s,m=Ns(),I=te(),V=n||(m==null?void 0:m.size)||void 0,A=(I==null?void 0:I.variant)==="filled"?"contrast":h||"default",F=H({name:"Pill",classes:W,props:s,className:a,style:i,classNames:y,styles:f,unstyled:l,vars:C,varsResolver:xs,stylesCtx:{size:V}});return T(se,{component:"span",ref:o,variant:A,size:V,...F("root",{variant:A}),mod:[{"with-remove":P&&!v,disabled:v||(m==null?void 0:m.disabled)},x],...z,children:[c("span",{...F("label"),children:b}),P&&c(_s,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:l,...e,...F("remove",{className:e==null?void 0:e.className,style:e==null?void 0:e.style}),onMouseDown:w=>{var D;w.preventDefault(),w.stopPropagation(),(D=e==null?void 0:e.onMouseDown)==null||D.call(e,w)},onClick:w=>{var D;w.stopPropagation(),r==null||r(),(D=e==null?void 0:e.onClick)==null||D.call(e,w)}})]})});G.classes=W;G.displayName="@mantine/core/Pill";G.Group=le;var Se={field:"m_45c4369d"};const Fs={type:"visible"},oe=$((u,o)=>{const s=R("PillsInputField",Fs,u),{classNames:y,className:a,style:i,styles:f,unstyled:l,vars:C,type:h,disabled:b,id:P,pointer:r,mod:e,...p}=s,n=te(),v=ws(),x=H({name:"PillsInputField",classes:Se,props:s,className:a,style:i,classNames:y,styles:f,unstyled:l,rootSelector:"field"}),z=b||(n==null?void 0:n.disabled);return c(se,{component:"input",ref:Cs(o,n==null?void 0:n.fieldRef),"data-type":h,disabled:z,mod:[{disabled:z,pointer:r},e],...x("field"),...p,id:(v==null?void 0:v.inputId)||P,"aria-invalid":n==null?void 0:n.hasError,"aria-describedby":v==null?void 0:v.describedBy,type:"text",onMouseDown:m=>!r&&m.stopPropagation()})});oe.classes=Se;oe.displayName="@mantine/core/PillsInputField";const Ms={},q=$((u,o)=>{const s=R("PillsInput",Ms,u),{children:y,onMouseDown:a,onClick:i,size:f,disabled:l,__staticSelector:C,error:h,variant:b,...P}=s,r=ye.useRef(null);return c(Ds,{value:{fieldRef:r,size:f,disabled:l,hasError:!!h,variant:b},children:c(be,{size:f,error:h,variant:b,component:"div",ref:o,onMouseDown:e=>{var p;e.preventDefault(),a==null||a(e),(p=r.current)==null||p.focus()},onClick:e=>{var n;e.preventDefault();const p=e.currentTarget.closest("fieldset");p!=null&&p.disabled||((n=r.current)==null||n.focus(),i==null||i(e))},...P,multiline:!0,disabled:l,__staticSelector:C||"PillsInput",withAria:!1,children:y})})});q.displayName="@mantine/core/PillsInput";q.Field=oe;function Es({data:u,value:o}){const s=o.map(a=>a.trim().toLowerCase());return u.reduce((a,i)=>(ys(i)?a.push({group:i.group,items:i.items.filter(f=>s.indexOf(f.value.toLowerCase().trim())===-1)}):s.indexOf(i.value.toLowerCase().trim())===-1&&a.push(i),a),[])}const Gs={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},_e=$((u,o)=>{const s=R("MultiSelect",Gs,u),{classNames:y,className:a,style:i,styles:f,unstyled:l,vars:C,size:h,value:b,defaultValue:P,onChange:r,onKeyDown:e,variant:p,data:n,dropdownOpened:v,defaultDropdownOpened:x,onDropdownOpen:z,onDropdownClose:m,selectFirstOptionOnChange:I,onOptionSubmit:V,comboboxProps:A,filter:F,limit:w,withScrollArea:D,maxDropdownHeight:we,searchValue:Ce,defaultSearchValue:Ie,onSearchChange:De,readOnly:M,disabled:O,onFocus:K,onBlur:U,onPaste:$s,radius:Oe,rightSection:Ne,rightSectionWidth:ze,rightSectionPointerEvents:ae,rightSectionProps:Ve,leftSection:ke,leftSectionWidth:xe,leftSectionPointerEvents:Fe,leftSectionProps:Me,inputContainer:Ee,inputWrapperOrder:Ge,withAsterisk:$e,labelProps:Re,descriptionProps:Ae,errorProps:Le,wrapperProps:Te,description:je,label:B,error:ie,maxValues:qe,searchable:S,nothingFoundMessage:re,withCheckIcon:He,checkIconPosition:We,hidePickedOptions:Ke,withErrorStyles:Ue,name:Be,form:Je,id:Qe,clearable:Xe,clearButtonProps:Ye,hiddenInputProps:Ze,placeholder:ne,hiddenInputValuesDivider:es,required:ss,mod:ts,renderOption:ls,onRemove:_,onClear:J,scrollAreaProps:os,chevronColor:as,...de}=s,Q=Is(Qe),X=vs(n),k=bs(X),g=Ss({opened:v,defaultOpened:x,onDropdownOpen:z,onDropdownClose:()=>{m==null||m(),g.resetSelectedOption()}}),{styleProps:is,rest:{type:Rs,autoComplete:rs,...ns}}=gs(de),[d,E]=ge({value:b,defaultValue:P,finalValue:[],onChange:r}),[Y,L]=ge({value:Ce,defaultValue:Ie,finalValue:"",onChange:De}),Z=H({name:"MultiSelect",classes:{},props:s,classNames:y,styles:f,unstyled:l}),{resolvedClassNames:ce,resolvedStyles:pe}=hs({props:s,styles:f,classNames:y}),ds=t=>{e==null||e(t),t.key===" "&&!S&&(t.preventDefault(),g.toggleDropdown()),t.key==="Backspace"&&Y.length===0&&d.length>0&&(_==null||_(d[d.length-1]),E(d.slice(0,d.length-1)))},cs=d.map((t,ee)=>{var he,me;return c(G,{withRemoveButton:!M&&!((he=k[t])!=null&&he.disabled),onRemove:()=>{E(d.filter(us=>t!==us)),_==null||_(t)},unstyled:l,disabled:O,...Z("pill"),children:((me=k[t])==null?void 0:me.label)||t},`${t}-${ee}`)});ye.useEffect(()=>{I&&g.selectFirstOption()},[I,d]);const ue=c(N.ClearButton,{...Ye,onClear:()=>{J==null||J(),E([]),L("")}}),ps=Es({data:X,value:d}),fe=Xe&&d.length>0&&!O&&!M;return T(fs,{children:[T(N,{store:g,classNames:ce,styles:pe,unstyled:l,size:h,readOnly:M,__staticSelector:"MultiSelect",onOptionSubmit:t=>{V==null||V(t),L(""),g.updateSelectedOptionIndex("selected"),d.includes(k[t].value)?(E(d.filter(ee=>ee!==k[t].value)),_==null||_(k[t].value)):d.length<qe&&E([...d,k[t].value])},...A,children:[c(N.DropdownTarget,{children:c(q,{...is,__staticSelector:"MultiSelect",classNames:ce,styles:pe,unstyled:l,size:h,className:a,style:i,variant:p,disabled:O,radius:Oe,__defaultRightSection:c(N.Chevron,{size:h,error:ie,unstyled:l,color:as}),__clearSection:ue,__clearable:fe,rightSection:Ne,rightSectionPointerEvents:ae||(ue?"all":"none"),rightSectionWidth:ze,rightSectionProps:Ve,leftSection:ke,leftSectionWidth:xe,leftSectionPointerEvents:Fe,leftSectionProps:Me,inputContainer:Ee,inputWrapperOrder:Ge,withAsterisk:$e,labelProps:Re,descriptionProps:Ae,errorProps:Le,wrapperProps:Te,description:je,label:B,error:ie,multiline:!0,withErrorStyles:Ue,__stylesApiProps:{...s,rightSectionPointerEvents:ae||(fe?"all":"none"),multiline:!0},pointer:!S,onClick:()=>S?g.openDropdown():g.toggleDropdown(),"data-expanded":g.dropdownOpened||void 0,id:Q,required:ss,mod:ts,children:T(G.Group,{disabled:O,unstyled:l,...Z("pillsList"),children:[cs,c(N.EventsTarget,{autoComplete:rs,children:c(q.Field,{...ns,ref:o,id:Q,placeholder:ne,type:!S&&!ne?"hidden":"visible",...Z("inputField"),unstyled:l,onFocus:t=>{K==null||K(t),S&&g.openDropdown()},onBlur:t=>{U==null||U(t),g.closeDropdown(),L("")},onKeyDown:ds,value:Y,onChange:t=>{L(t.currentTarget.value),S&&g.openDropdown(),I&&g.selectFirstOption()},disabled:O,readOnly:M||!S,pointer:!S})})]})})}),c(Ps,{data:Ke?ps:X,hidden:M||O,filter:F,search:Y,limit:w,hiddenWhenEmpty:!re,withScrollArea:D,maxDropdownHeight:we,filterOptions:S,value:d,checkIconPosition:We,withCheckIcon:He,nothingFoundMessage:re,unstyled:l,labelId:B?`${Q}-label`:void 0,"aria-label":B?void 0:de["aria-label"],renderOption:ls,scrollAreaProps:os})]}),c(N.HiddenInput,{name:Be,valuesDivider:es,value:d,form:Je,disabled:O,...Ze})]})});_e.classes={...be.classes,...N.classes};_e.displayName="@mantine/core/MultiSelect";export{_e as M};
