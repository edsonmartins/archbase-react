import{R as x,r as u}from"./index-76fb7be0.js";import{f as S,u as w,h as Q,B as P,i as W,q as _,j as J,r as pe}from"./polymorphic-factory-e212381f.js";import{P as $}from"./Popover-b9d763ca.js";import{c as fe}from"./create-safe-context-978e3819.js";import{C as xe}from"./CloseButton-c44b8f52.js";import{i as L}from"./OptionalPortal-d3ff2b4f.js";import{u as q}from"./use-merged-ref-962e80ee.js";import{u as he}from"./use-id-9525279e.js";import{I as Ce}from"./Input-abb5d566.js";import{u as ye}from"./use-uncontrolled-625105b4.js";var A={dropdown:"m_88b62a41",options:"m_b2821a6e",option:"m_92253aa5",search:"m_985517d8",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const ge={error:null},ve=W((r,{size:e})=>({chevron:{"--combobox-chevron-size":_(e,"combobox-chevron-size")}})),F=S((r,e)=>{const t=w("ComboboxChevron",ge,r),{size:o,error:a,style:i,className:s,classNames:l,styles:n,unstyled:d,vars:m,mod:c,...p}=t,y=Q({name:"ComboboxChevron",classes:A,props:t,style:i,className:s,classNames:l,styles:n,unstyled:d,vars:m,varsResolver:ve,rootSelector:"chevron"});return x.createElement(P,{component:"svg",...p,...y("chevron"),size:o,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:a},c],ref:e},x.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});F.classes=A;F.displayName="@mantine/core/ComboboxChevron";const[we,O]=fe("Combobox component was not found in tree"),X=u.forwardRef(({size:r,onMouseDown:e,onClick:t,onClear:o,...a},i)=>x.createElement(xe,{ref:i,size:r||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...a,onMouseDown:s=>{s.preventDefault(),e==null||e(s)},onClick:s=>{o(),t==null||t(s)}}));X.displayName="@mantine/core/ComboboxClearButton";const Ee={},H=S((r,e)=>{const{classNames:t,styles:o,className:a,style:i,hidden:s,...l}=w("ComboboxDropdown",Ee,r),n=O();return x.createElement($.Dropdown,{...l,ref:e,role:"presentation","data-hidden":s||void 0,...n.getStyles("dropdown",{className:a,style:i,classNames:t,styles:o})})});H.classes=A;H.displayName="@mantine/core/ComboboxDropdown";const Se={refProp:"ref"},Y=S((r,e)=>{const{children:t,refProp:o}=w("ComboboxDropdownTarget",Se,r);if(O(),!L(t))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return x.createElement($.Target,{ref:e,refProp:o},t)});Y.displayName="@mantine/core/ComboboxDropdownTarget";const Ae={},z=S((r,e)=>{const{classNames:t,className:o,style:a,styles:i,vars:s,...l}=w("ComboboxEmpty",Ae,r),n=O();return x.createElement(P,{ref:e,...n.getStyles("empty",{className:o,classNames:t,styles:i,style:a}),...l})});z.classes=A;z.displayName="@mantine/core/ComboboxEmpty";function K({onKeyDown:r,withKeyboardNavigation:e,withAriaAttributes:t,withExpandedAttribute:o,targetType:a,autoComplete:i}){const s=O(),[l,n]=u.useState(null),d=c=>{if(r==null||r(c),!s.readOnly&&e){if(c.nativeEvent.isComposing)return;if(c.nativeEvent.code==="ArrowDown"&&(c.preventDefault(),s.store.dropdownOpened?n(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),n(s.store.selectActiveOption()))),c.nativeEvent.code==="ArrowUp"&&(c.preventDefault(),s.store.dropdownOpened?n(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),n(s.store.selectActiveOption()))),c.nativeEvent.code==="Enter"||c.nativeEvent.code==="NumpadEnter"){if(c.nativeEvent.keyCode===229)return;const p=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&p!==-1?(c.preventDefault(),s.store.clickSelectedOption()):a==="button"&&(c.preventDefault(),s.store.openDropdown("keyboard"))}c.nativeEvent.code==="Escape"&&s.store.closeDropdown("keyboard"),c.nativeEvent.code==="Space"&&a==="button"&&(c.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...t?{"aria-haspopup":"listbox","aria-expanded":o&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.listId,"aria-activedescendant":s.store.dropdownOpened&&l||void 0,autoComplete:i,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:d}}const Oe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ee=S((r,e)=>{const{children:t,refProp:o,withKeyboardNavigation:a,withAriaAttributes:i,withExpandedAttribute:s,targetType:l,autoComplete:n,...d}=w("ComboboxEventsTarget",Oe,r);if(!L(t))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=O(),c=K({targetType:l,withAriaAttributes:i,withKeyboardNavigation:a,withExpandedAttribute:s,onKeyDown:t.props.onKeyDown,autoComplete:n});return u.cloneElement(t,{...c,...d,[o]:q(e,m.store.targetRef,t==null?void 0:t.ref)})});ee.displayName="@mantine/core/ComboboxEventsTarget";const Ne={},B=S((r,e)=>{const{classNames:t,className:o,style:a,styles:i,vars:s,...l}=w("ComboboxFooter",Ne,r),n=O();return x.createElement(P,{ref:e,...n.getStyles("footer",{className:o,classNames:t,style:a,styles:i}),...l})});B.classes=A;B.displayName="@mantine/core/ComboboxFooter";const Ie={},V=S((r,e)=>{const{classNames:t,className:o,style:a,styles:i,vars:s,children:l,label:n,...d}=w("ComboboxGroup",Ie,r),m=O();return x.createElement(P,{ref:e,...m.getStyles("group",{className:o,classNames:t,style:a,styles:i}),...d},n&&x.createElement("div",{...m.getStyles("groupLabel",{classNames:t,styles:i})},n),l)});V.classes=A;V.displayName="@mantine/core/ComboboxGroup";const Te={},G=S((r,e)=>{const{classNames:t,className:o,style:a,styles:i,vars:s,...l}=w("ComboboxHeader",Te,r),n=O();return x.createElement(P,{ref:e,...n.getStyles("header",{className:o,classNames:t,style:a,styles:i}),...l})});G.classes=A;G.displayName="@mantine/core/ComboboxHeader";function te({value:r,valuesDivider:e=",",...t}){return x.createElement("input",{type:"hidden",value:Array.isArray(r)?r.join(e):r||"",...t})}te.displayName="@mantine/core/ComboboxHiddenInput";const Pe={},U=S((r,e)=>{const t=w("ComboboxOption",Pe,r),{classNames:o,className:a,style:i,styles:s,vars:l,onClick:n,id:d,active:m,onMouseDown:c,onMouseOver:p,disabled:y,selected:N,mod:k,...T}=t,g=O(),D=u.useId(),I=d||D;return x.createElement(P,{...g.getStyles("option",{className:a,classNames:o,styles:s,style:i}),...T,ref:e,id:I,mod:["combobox-option",{"combobox-active":m,"combobox-disabled":y,"combobox-selected":N},k],role:"option",onClick:f=>{var R;y?f.preventDefault():((R=g.onOptionSubmit)==null||R.call(g,t.value,t),n==null||n(f))},onMouseDown:f=>{f.preventDefault(),c==null||c(f)},onMouseOver:f=>{g.resetSelectionOnOptionHover&&g.store.resetSelectedOption(),p==null||p(f)}})});U.classes=A;U.displayName="@mantine/core/ComboboxOption";const ke={},j=S((r,e)=>{const t=w("ComboboxOptions",ke,r),{classNames:o,className:a,style:i,styles:s,id:l,onMouseDown:n,labelledBy:d,...m}=t,c=O(),p=he(l);return u.useEffect(()=>{c.store.setListId(p)},[p]),x.createElement(P,{ref:e,...c.getStyles("options",{className:a,style:i,classNames:o,styles:s}),...m,id:p,role:"listbox","aria-labelledby":d,onMouseDown:y=>{y.preventDefault(),n==null||n(y)}})});j.classes=A;j.displayName="@mantine/core/ComboboxOptions";const De={withAriaAttributes:!0,withKeyboardNavigation:!0},Z=S((r,e)=>{const t=w("ComboboxSearch",De,r),{classNames:o,styles:a,unstyled:i,vars:s,withAriaAttributes:l,onKeyDown:n,withKeyboardNavigation:d,size:m,...c}=t,p=O(),y=p.getStyles("search"),N=K({targetType:"input",withAriaAttributes:l,withKeyboardNavigation:d,withExpandedAttribute:!1,onKeyDown:n,autoComplete:"off"});return x.createElement(Ce,{ref:q(e,p.store.searchRef),classNames:[{input:y.className},o],styles:[{input:y.style},a],size:m||p.size,...N,...c,__staticSelector:"Combobox"})});Z.classes=A;Z.displayName="@mantine/core/ComboboxSearch";const Re={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},oe=S((r,e)=>{const{children:t,refProp:o,withKeyboardNavigation:a,withAriaAttributes:i,withExpandedAttribute:s,targetType:l,autoComplete:n,...d}=w("ComboboxTarget",Re,r);if(!L(t))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=O(),c=K({targetType:l,withAriaAttributes:i,withKeyboardNavigation:a,withExpandedAttribute:s,onKeyDown:t.props.onKeyDown,autoComplete:n}),p=u.cloneElement(t,{...c,...d});return x.createElement($.Target,{ref:q(e,m.store.targetRef)},p)});oe.displayName="@mantine/core/ComboboxTarget";function $e(r,e,t){for(let o=r-1;o>=0;o-=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o;if(t){for(let o=e.length-1;o>-1;o-=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o}return r}function _e(r,e,t){for(let o=r+1;o<e.length;o+=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o;if(t){for(let o=0;o<e.length;o+=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o}return r}function Le(r){for(let e=0;e<r.length;e+=1)if(!r[e].hasAttribute("data-combobox-disabled"))return e;return-1}function qe({defaultOpened:r,opened:e,onOpenedChange:t,onDropdownClose:o,onDropdownOpen:a,loop:i=!0,scrollBehavior:s="instant"}={}){const[l,n]=ye({value:e,defaultValue:r,finalValue:!1,onChange:t}),d=u.useRef(null),m=u.useRef(-1),c=u.useRef(null),p=u.useRef(null),y=u.useRef(-1),N=u.useRef(-1),k=u.useRef(-1),T=u.useCallback((b="unknown")=>{l||(n(!0),a==null||a(b))},[n,a,l]),g=u.useCallback((b="unknown")=>{l&&(n(!1),o==null||o(b))},[n,o,l]),D=u.useCallback((b="unknown")=>{l?g(b):T(b)},[g,T,l]),I=u.useCallback(()=>{const b=document.querySelector(`#${d.current} [data-combobox-selected]`);b==null||b.removeAttribute("data-combobox-selected"),b==null||b.removeAttribute("aria-selected")},[]),f=u.useCallback(b=>{const v=document.getElementById(d.current),C=v==null?void 0:v.querySelectorAll("[data-combobox-option]");if(!C)return null;const E=b>=C.length?0:b<0?C.length-1:b;return m.current=E,C!=null&&C[E]&&!C[E].hasAttribute("data-combobox-disabled")?(I(),C[E].setAttribute("data-combobox-selected","true"),C[E].setAttribute("aria-selected","true"),C[E].scrollIntoView({block:"nearest",behavior:s}),C[E].id):null},[s,I]),R=u.useCallback(()=>{const b=document.querySelector(`#${d.current} [data-combobox-active]`);if(b){const v=document.querySelectorAll(`#${d.current} [data-combobox-option]`),C=Array.from(v).findIndex(E=>E===b);return f(C)}return f(0)},[f]),re=u.useCallback(()=>f(_e(m.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),i)),[f,i]),se=u.useCallback(()=>f($e(m.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),i)),[f,i]),ne=u.useCallback(()=>f(Le(document.querySelectorAll(`#${d.current} [data-combobox-option]`))),[f]),ae=u.useCallback((b="selected",v)=>{k.current=window.setTimeout(()=>{var M;const C=document.querySelectorAll(`#${d.current} [data-combobox-option]`),E=Array.from(C).findIndex(me=>me.hasAttribute(`data-combobox-${b}`));m.current=E,v!=null&&v.scrollIntoView&&((M=C[E])==null||M.scrollIntoView({block:"nearest",behavior:s}))},0)},[]),ce=u.useCallback(()=>{m.current=-1,I()},[I]),ie=u.useCallback(()=>{const b=document.querySelectorAll(`#${d.current} [data-combobox-option]`),v=b==null?void 0:b[m.current];v==null||v.click()},[]),le=u.useCallback(b=>{d.current=b},[]),de=u.useCallback(()=>{y.current=window.setTimeout(()=>c.current.focus(),0)},[]),ue=u.useCallback(()=>{N.current=window.setTimeout(()=>p.current.focus(),0)},[]),be=u.useCallback(()=>m.current,[]);return u.useEffect(()=>()=>{window.clearTimeout(y.current),window.clearTimeout(N.current),window.clearTimeout(k.current)},[]),{dropdownOpened:l,openDropdown:T,closeDropdown:g,toggleDropdown:D,selectedOptionIndex:m.current,getSelectedOptionIndex:be,selectOption:f,selectFirstOption:ne,selectActiveOption:R,selectNextOption:re,selectPreviousOption:se,resetSelectedOption:ce,updateSelectedOptionIndex:ae,listId:d.current,setListId:le,clickSelectedOption:ie,searchRef:c,focusSearchInput:de,targetRef:p,focusTarget:ue}}const Fe={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},He=W((r,{size:e,dropdownPadding:t})=>({options:{"--combobox-option-fz":J(e),"--combobox-option-padding":_(e,"combobox-option-padding")},dropdown:{"--combobox-padding":t===void 0?void 0:pe(t),"--combobox-option-fz":J(e),"--combobox-option-padding":_(e,"combobox-option-padding")}}));function h(r){const e=w("Combobox",Fe,r),{classNames:t,styles:o,unstyled:a,children:i,store:s,vars:l,onOptionSubmit:n,onClose:d,size:m,dropdownPadding:c,resetSelectionOnOptionHover:p,__staticSelector:y,readOnly:N,...k}=e,T=qe(),g=s||T,D=Q({name:y||"Combobox",classes:A,props:e,classNames:t,styles:o,unstyled:a,vars:l,varsResolver:He}),I=()=>{d==null||d(),g.closeDropdown()};return x.createElement(we,{value:{getStyles:D,store:g,onOptionSubmit:n,size:m,resetSelectionOnOptionHover:p,readOnly:N}},x.createElement($,{opened:g.dropdownOpened,...k,onClose:I,withRoles:!1,unstyled:a},i))}const ze=r=>r;h.extend=ze;h.classes=A;h.displayName="@mantine/core/Combobox";h.Target=oe;h.Dropdown=H;h.Options=j;h.Option=U;h.Search=Z;h.Empty=z;h.Chevron=F;h.Footer=B;h.Header=G;h.EventsTarget=ee;h.DropdownTarget=Y;h.Group=V;h.ClearButton=X;h.HiddenInput=te;export{h as C,oe as a,H as b,A as c,qe as u};
