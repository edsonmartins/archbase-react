import{r}from"./index-76fb7be0.js";import{A as l}from"./useArchbaseDataSourceListener-cbed610e.js";function S(e){r.useEffect(e,[])}function p(e,t){const a=r.useRef(!1);r.useEffect(()=>{if(!a.current){a.current=!0;return}e()},t)}function A(e){r.useEffect(()=>()=>e(),[])}function D(e){const t=r.useRef();return r.useEffect(()=>{t.current=e},[e]),t.current}const m=()=>{const[,e]=r.useState(0);return()=>e(t=>t+1)},g=e=>{const{initialData:t,name:a,label:o,initialDataSource:c,onLoadComplete:n,store:s,validator:f}=e,i=()=>s&&s.existsValue(a)?s.getValue(a):c||new l(a,{records:t,grandTotalRecords:t.length,currentPage:0,totalPages:0,pageSize:0,validator:f},o),[u,d]=r.useState(i());return r.useEffect(()=>{s&&s.setValue(a,u),n&&n(u)},[a]),{dataSource:u}};export{g as a,S as b,p as c,A as d,D as e,m as u};
