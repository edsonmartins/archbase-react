import{c as f,u as d}from"./store-704b6bc9.js";import{r as l}from"./use-id-3df0f1f4.js";function p(t,o,i){const e=[],n=[],a={};for(const c of t){const r=c.position||o;a[r]=a[r]||0,a[r]+=1,a[r]<=i?n.push(c):e.push(c)}return{notifications:n,queue:e}}const m=()=>f({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),s=m(),w=(t=s)=>d(t);function u(t,o){const i=t.getState(),e=o([...i.notifications,...i.queue]),n=p(e,i.defaultPosition,i.limit);t.setState({notifications:n.notifications,queue:n.queue,limit:i.limit,defaultPosition:i.defaultPosition})}function N(t,o=s){const i=t.id||l();return u(o,e=>t.id&&e.some(n=>n.id===t.id)?e:[...e,{...t,id:i}]),i}function S(t,o=s){return u(o,i=>i.filter(e=>{var n;return e.id===t?((n=e.onClose)==null||n.call(e,e),!1):!0})),t}function h(t,o=s){return u(o,i=>i.map(e=>e.id===t.id?{...e,...t}:e)),t.id}function q(t=s){u(t,()=>[])}function g(t=s){u(t,o=>o.slice(0,t.getState().limit))}const Q={show:N,hide:S,update:h,clean:q,cleanQueue:g,updateState:u};export{s as a,S as h,Q as n,w as u};
