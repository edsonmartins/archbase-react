import{j as r,a as A,F as Se}from"./jsx-runtime-c9381026.js";import{r as h}from"./index-8b3efc3f.js";import{u as we}from"./use-resolved-styles-api-5d7f4803.js";import{f as ve,u as ye}from"./polymorphic-factory-72d50303.js";import{g as Ce,a as Oe,O as De}from"./OptionsDropdown-a97e65e7.js";import{C as c,u as xe}from"./Combobox-de7c8f4c.js";import{I as T}from"./InputBase-3bc61936.js";import{u as Ie}from"./use-id-3df0f1f4.js";import{u as M}from"./use-uncontrolled-f56237fb.js";const Pe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},H=ve((z,L)=>{const I=ye("Select",Pe,z),{classNames:R,styles:U,unstyled:u,vars:Ve,dropdownOpened:W,defaultDropdownOpened:$,onDropdownClose:g,onDropdownOpen:b,onFocus:S,onBlur:w,onClick:v,onChange:q,data:P,value:p,defaultValue:G,selectFirstOptionOnChange:y,onOptionSubmit:C,comboboxProps:J,readOnly:d,disabled:m,filter:K,limit:Q,withScrollArea:X,maxDropdownHeight:Y,size:f,searchable:l,rightSection:Z,checkIconPosition:ee,withCheckIcon:oe,nothingFoundMessage:V,name:te,form:se,searchValue:le,defaultSearchValue:ae,onSearchChange:ne,allowDeselect:re,error:E,rightSectionPointerEvents:ce,id:ie,clearable:ue,clearButtonProps:pe,hiddenInputProps:de,renderOption:me,onClear:O,autoComplete:fe,scrollAreaProps:he,...ge}=I,D=h.useMemo(()=>Ce(P),[P]),i=h.useMemo(()=>Oe(D),[D]),F=Ie(ie),[t,_,be]=M({value:p,defaultValue:G,finalValue:null,onChange:q}),a=typeof t=="string"?i[t]:void 0,[x,n]=M({value:le,defaultValue:ae,finalValue:a?a.label:"",onChange:ne}),o=xe({opened:W,defaultOpened:$,onDropdownOpen:()=>{b==null||b(),o.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{g==null||g(),o.resetSelectedOption()}}),{resolvedClassNames:k,resolvedStyles:N}=we({props:I,styles:U,classNames:R});h.useEffect(()=>{y&&o.selectFirstOption()},[y,t]),h.useEffect(()=>{p===null&&n(""),typeof p=="string"&&a&&n(a.label)},[p,a]);const B=ue&&!!t&&!m&&!d&&r(c.ClearButton,{size:f,...pe,onClear:()=>{_(null,null),n(""),O==null||O()}});return A(Se,{children:[A(c,{store:o,__staticSelector:"Select",classNames:k,styles:N,unstyled:u,readOnly:d,onOptionSubmit:e=>{C==null||C(e);const s=re&&i[e].value===t?null:i[e],j=s?s.value:null;_(j,s),!be&&n(typeof j=="string"&&(s==null?void 0:s.label)||""),o.closeDropdown()},size:f,...J,children:[r(c.Target,{targetType:l?"input":"button",autoComplete:fe,children:r(T,{id:F,ref:L,rightSection:Z||B||r(c.Chevron,{size:f,error:E,unstyled:u}),rightSectionPointerEvents:ce||(B?"all":"none"),...ge,size:f,__staticSelector:"Select",disabled:m,readOnly:d||!l,value:x,onChange:e=>{n(e.currentTarget.value),o.openDropdown(),y&&o.selectFirstOption()},onFocus:e=>{l&&o.openDropdown(),S==null||S(e)},onBlur:e=>{var s;l&&o.closeDropdown(),n(t!=null&&((s=i[t])==null?void 0:s.label)||""),w==null||w(e)},onClick:e=>{l?o.openDropdown():o.toggleDropdown(),v==null||v(e)},classNames:k,styles:N,unstyled:u,pointer:!l,error:E})}),r(De,{data:D,hidden:d||m,filter:K,search:x,limit:Q,hiddenWhenEmpty:!l||!V,withScrollArea:X,maxDropdownHeight:Y,filterOptions:l&&(a==null?void 0:a.label)!==x,value:t,checkIconPosition:ee,withCheckIcon:oe,nothingFoundMessage:V,unstyled:u,labelId:`${F}-label`,renderOption:me,scrollAreaProps:he})]}),r(c.HiddenInput,{value:t,name:te,form:se,disabled:m,...de})]})});H.classes={...T.classes,...c.classes};H.displayName="@mantine/core/Select";export{H as S};
