import{a as q,j as r}from"./jsx-runtime-c9381026.js";import"./index-9e992aa6.js";import{u as _}from"./useArchbaseTheme-7c3c2f27.js";import{t as b}from"./i18next-a4b2730f.js";import{r as l}from"./index-8b3efc3f.js";import{u as T}from"./use-debounced-value-a36920eb.js";import{F as j}from"./Flex-fe68dc37.js";import{T as k}from"./TextInput-1c7cbb5e.js";import{I as z}from"./IconSearch-4ec0977e.js";import{S as P}from"./Space-103726a6.js";import{T as g}from"./Tooltip-ae0da36b.js";import{A as y}from"./ActionIcon-3fa09022.js";import{I as L}from"./IconRefresh-112158d7.js";import{c as G}from"./createReactComponent-60e598cf.js";import{b as v,e as M}from"./index-f91c0534.js";var Q=G("filter-x","IconFilterX",[["path",{d:"M13.758 19.414l-4.758 1.586v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v1.5",key:"svg-0"}],["path",{d:"M22 22l-5 -5",key:"svg-1"}],["path",{d:"M17 22l5 -5",key:"svg-2"}]]);function $(i,t){const o=[];return i.forEach(e=>{o.push(v.eq(e,`^*${t}*`))}),M(v.or(...o))}function R({searchableFields:i,onFilter:t,minFilterValueLength:o,options:e}){const[c,S]=l.useState(""),[a,w]=T(c,500),[x,u]=l.useState(""),[p,d]=l.useState(""),m=_(),n=l.useRef(!1);l.useEffect(()=>{if(a.length<o&&!n.current&&(t("",""),u(""),d(""),n.current=!0),a.length>=o&&a!==p){const s=$(i,a);u(s),n.current=!1,d(a),w(),t(s,a)}},[a,o,t,i]);function f(s,E){t(s,E)}const C=e&&e.inputProps?e.inputProps:{miw:240},I=e&&e.buttonRefreshProps?e.buttonRefreshProps:{color:m.primaryColor,variant:"filled"},F=e&&e.buttonClearProps?e.buttonClearProps:{color:m.primaryColor,variant:"filled"},V=e&&e.iconRefreshProps?e.iconRefreshProps:{size:"1.5rem",color:"white"},A=e&&e.iconRefreshProps?e.iconRefreshProps:{size:"1.5rem",color:"white"},h=e&&e.spacing?e.spacing:5;return q(j,{justify:"space-between",align:"center",children:[r(k,{rightSection:r(z,{}),variant:"filled",defaultValue:c,onChange:s=>S(s.currentTarget.value),...C}),r(P,{w:h}),r(g,{withinPortal:!0,withArrow:!0,label:`${b("archbase:Refresh")}`,children:r(y,{color:"var(--mantine-primary-color-filled)",onClick:()=>f(x,p),style:{height:"36px",width:"36px"},...I,children:r(L,{...V})})}),r(P,{w:h}),r(g,{withinPortal:!0,withArrow:!0,label:`${b("archbase:ClearFilter")}`,children:r(y,{color:"var(--mantine-primary-color-filled)",onClick:()=>f("",""),style:{height:"36px",width:"36px"},...F,children:r(Q,{...A})})})]})}try{R.displayName="ArchbaseGlobalFilter",R.__docgenInfo={description:"",displayName:"ArchbaseGlobalFilter",props:{searchableFields:{defaultValue:null,description:"Lista dos nomes dos campos a serem efetuados a pesquisa filtrada",name:"searchableFields",required:!0,type:{name:"string[]"}},onFilter:{defaultValue:null,description:"Evento ocorre quando é efetuado a pesquisa filtrada",name:"onFilter",required:!0,type:{name:"(buildedQuery: string, value: string) => void"}},minFilterValueLength:{defaultValue:null,description:"Quantidade minima de carácteres do valor do filtro para que seja disparada a pesquisa filtrada",name:"minFilterValueLength",required:!0,type:{name:"number"}},options:{defaultValue:null,description:"Opções para personalização",name:"options",required:!1,type:{name:"{ inputProps?: TextInputProps; buttonRefreshProps?: ActionIconProps; buttonClearProps?: ActionIconProps; iconRefreshProps?: { size?: string | number; color?: string; }; iconClearProps?: { ...; }; spacing?: string | number; }"}}}}}catch{}export{R as A};
