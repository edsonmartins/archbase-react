import{a as r,j as e}from"./jsx-runtime-c9381026.js";import{r as t}from"./index-8b3efc3f.js";import"./index-9e992aa6.js";import{u as D}from"./useArchbaseTheme-ebe2e2b1.js";import{t as V}from"./i18next-a4b2730f.js";import{P as f}from"./Popover-990eb782.js";import{I as F}from"./Input-d84023af.js";import{U as P}from"./UnstyledButton-2f5c33dc.js";import{G as g}from"./Group-9135c9f7.js";import{T as b}from"./Text-8d4f65ae.js";import{I as j}from"./IconChevronRight-7b46ea5c.js";import{A as O}from"./ArchbaseTreeView-c745622f.js";import{B as A}from"./Button-e9dcb4ba.js";import{S as w}from"./Space-3a5d0564.js";import{G as h}from"./Grid-fa4ee50c.js";import{C as n}from"./Card-313075e7.js";import{B as U}from"./polymorphic-factory-0b25d542.js";import{S as z}from"./ScrollArea-08dbda32.js";import{A as W}from"./ArchbaseObjectInspector-cc5955d4.js";import"./_commonjsHelpers-de833af9.js";import"./use-mantine-color-scheme-bbd48c20.js";import"./Mantine.context-1df84d45.js";import"./use-media-query-78751440.js";import"./OptionalPortal-29ef8d11.js";import"./index-a38d0dca.js";import"./use-isomorphic-effect-aa890e3d.js";import"./use-merged-ref-add91123.js";import"./DirectionProvider-1e219af7.js";import"./use-floating-auto-update-84dc8d55.js";import"./use-did-update-bccd292e.js";import"./create-safe-context-941c9e18.js";import"./FocusTrap-dab5b814.js";import"./use-id-3df0f1f4.js";import"./Transition-6d10f101.js";import"./use-reduced-motion-98306cff.js";import"./use-uncontrolled-f56237fb.js";import"./create-optional-context-86e78b6c.js";import"./createReactComponent-60e598cf.js";import"./index-9d475cdf.js";import"./lodash-4d0be66a.js";import"./use-force-update-11fe72c1.js";import"./ActionIcon-fa452d6e.js";import"./Loader-38ea722e.js";import"./IconChevronDown-98fe7a40.js";import"./get-sorted-breakpoints-91e0685a.js";import"./px-90b8b31c.js";import"./Paper-7b311070.js";const s=t.forwardRef(({icon:o,label:u,value:c,width:p,widthTreeView:l,heightTreeView:L,allowNodeSelectType:y,disabled:N,onConfirm:C,onCancel:S,renderComponent:T,...B},_)=>{const a=D(),[d,v]=t.useState(),[x,m]=t.useState(!1),G=I=>{v(I)},R=()=>!d||!y||!d.type?!1:y.includes(d.type);return r(f,{opened:x,width:l||"target",trapFocus:!0,position:"bottom-start",withArrow:!0,shadow:"md",withinPortal:!0,clickOutsideEvents:["mouseup","touchend"],children:[e(f.Target,{children:e(F.Wrapper,{label:u,children:e(P,{ref:_,disabled:N,onClick:()=>!N&&m(!x),style:{display:"block",width:p,height:"36px",padding:"2px",color:a.colorScheme==="dark"?a.colors.dark[0]:a.black,borderRadius:4,border:`1px solid ${a.colorScheme==="dark"?a.colors.gray[7]:a.colors.gray[4]}`,"&:hover":{backgroundColor:a.colorScheme==="dark"?a.colors.dark[8]:a.colors.gray[0]}},children:T||r(g,{children:[o,e("div",{style:{flex:1},children:e(b,{truncate:!0,children:c})}),o||e(j,{size:"1rem"})]})})})}),r(f.Dropdown,{style:{background:a.colorScheme==="dark"?a.colors.dark[7]:a.white,padding:0,height:L||"200px"},children:[e(O,{...B,width:"100%",height:"calc(100% - 50px)",style:{marginLeft:0,marginBottom:0},focusedNode:d,onFocusedNode:G}),r("div",{style:{position:"absolute",bottom:2,right:2,left:2,height:"50px",display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[e(A,{disabled:!R(),onClick:()=>{m(!1),C&&C(d)},color:"green",children:V("archbase:Ok")}),e(w,{w:"md"}),e(A,{onClick:()=>{m(!1),S&&S()},color:"red",children:V("archbase:Cancel")})]})]})]})});try{s.displayName="ArchbaseTreeSelect",s.__docgenInfo={description:"",displayName:"ArchbaseTreeSelect",props:{icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactNode"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string"}},widthTreeView:{defaultValue:null,description:"",name:"widthTreeView",required:!1,type:{name:"string"}},heightTreeView:{defaultValue:null,description:"",name:"heightTreeView",required:!1,type:{name:"string"}},renderComponent:{defaultValue:null,description:"",name:"renderComponent",required:!1,type:{name:"ReactNode"}},allowNodeSelectType:{defaultValue:null,description:"",name:"allowNodeSelectType",required:!1,type:{name:"string[]"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!1,type:{name:"(node: ArchbaseTreeNode) => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},selectable:{defaultValue:null,description:"",name:"selectable",required:!1,type:{name:"boolean"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"string"}},hoverColor:{defaultValue:null,description:"",name:"hoverColor",required:!1,type:{name:"string"}},hoverBackgroundColor:{defaultValue:null,description:"",name:"hoverBackgroundColor",required:!1,type:{name:"string"}},focusedColor:{defaultValue:null,description:"",name:"focusedColor",required:!1,type:{name:"string"}},focusedBackgroundColor:{defaultValue:null,description:"",name:"focusedBackgroundColor",required:!1,type:{name:"string"}},selectedColor:{defaultValue:null,description:"",name:"selectedColor",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},iconColor:{defaultValue:null,description:"",name:"iconColor",required:!1,type:{name:"string"}},iconBackgroundColor:{defaultValue:null,description:"",name:"iconBackgroundColor",required:!1,type:{name:"string"}},enableLinks:{defaultValue:null,description:"",name:"enableLinks",required:!1,type:{name:"boolean"}},highlightSelected:{defaultValue:null,description:"",name:"highlightSelected",required:!1,type:{name:"boolean"}},withBorder:{defaultValue:null,description:"",name:"withBorder",required:!1,type:{name:"boolean"}},showTags:{defaultValue:null,description:"",name:"showTags",required:!1,type:{name:"boolean"}},nodes:{defaultValue:null,description:"",name:"nodes",required:!1,type:{name:"ArchbaseTreeNode[]"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"(dataSource: ArchbaseTreeNode[], node: ArchbaseTreeNode) => void"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"() => void"}},onFocusedNode:{defaultValue:null,description:"",name:"onFocusedNode",required:!1,type:{name:"(node: ArchbaseTreeNode) => void"}},onLoosedFocusNode:{defaultValue:null,description:"",name:"onLoosedFocusNode",required:!1,type:{name:"(focused: ArchbaseTreeNode) => void"}},onSelectedNode:{defaultValue:null,description:"",name:"onSelectedNode",required:!1,type:{name:"(dataSource: ArchbaseTreeNode[], node: ArchbaseTreeNode, selectedNodes: ArchbaseTreeNode[]) => void"}},onUnSelectedNode:{defaultValue:null,description:"",name:"onUnSelectedNode",required:!1,type:{name:"(dataSource: ArchbaseTreeNode[], node: ArchbaseTreeNode, selectedNodes: ArchbaseTreeNode[]) => void"}},onRemovedNode:{defaultValue:null,description:"",name:"onRemovedNode",required:!1,type:{name:"(dataSource: ArchbaseTreeNode[]) => void"}},onLoadDataSource:{defaultValue:null,description:"",name:"onLoadDataSource",required:!1,type:{name:"(node: ArchbaseTreeNode) => Promise<ArchbaseTreeNode[]>"}},onAddedNode:{defaultValue:null,description:"",name:"onAddedNode",required:!1,type:{name:"(node: ArchbaseTreeNode, dataSource: ArchbaseTreeNode[]) => void"}},onExpandedNode:{defaultValue:null,description:"",name:"onExpandedNode",required:!1,type:{name:"(dataSource: ArchbaseTreeNode[], expandedNodes: ArchbaseTreeNode[]) => void"}},onCollapsedNode:{defaultValue:null,description:"",name:"onCollapsedNode",required:!1,type:{name:"(dataSource: ArchbaseTreeNode[], expandedNodes: ArchbaseTreeNode[]) => void"}},onChangedDataSource:{defaultValue:null,description:"",name:"onChangedDataSource",required:!1,type:{name:"(dataSource: ArchbaseTreeNode[]) => void"}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"ArchbaseTreeNode[]"}},focusedNode:{defaultValue:null,description:"",name:"focusedNode",required:!1,type:{name:"ArchbaseTreeNode"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},customRenderText:{defaultValue:null,description:"",name:"customRenderText",required:!1,type:{name:"(node: ArchbaseTreeNode) => ReactNode"}},update:{defaultValue:null,description:"",name:"update",required:!1,type:{name:"number"}}}}}catch{}const $=[{id:"6fe2431e-31f3-431f-a531-85ca7cd9fa30",nodes:[{id:"1392e87b-9182-4309-922e-082faffe22f5",isleaf:!0,state:{selected:!1,expanded:!1,loading:!1},text:"Child Node 1",color:"red",backgroundColor:"white",image:"url_to_image1",data:{description:"This is a leaf node"},type:"SELECTABLE"},{id:"280633d8-fda0-4086-86d6-baa87453a6f3",isleaf:!1,state:{selected:!0,expanded:!0,loading:!1},text:"Child Node 2",color:"blue",backgroundColor:"black",image:"url_to_image2",nodes:[{id:"194be853-e9a4-438a-8043-5547bb32bb92",isleaf:!0,state:{selected:!1,expanded:!1,loading:!1},text:"Grandchild Node 1",color:"green",backgroundColor:"yellow",image:"url_to_image3",data:{details:"Empty branch"},type:"SELECTABLE"},{id:"f7888fac-f1f0-4c52-b8b9-2f809d104133",isleaf:!1,state:{selected:!1,expanded:!0,loading:!0},text:"Grandchild Node 2",color:"purple",backgroundColor:"orange",image:"url_to_image4",nodes:[],data:{info:"Empty branch"},type:"SELECTABLE"},{id:"074a21b2-b5b4-4b53-944a-d53d4d7540f7",isleaf:!1,state:{selected:!1,expanded:!0,loading:!0},text:"Grandchild Node 3",color:"blue",backgroundColor:"orange",image:"url_to_image4",nodes:[],data:{info:"Empty branch"},type:"SELECTABLE"}],type:"SELECTABLE"},{id:"530c819d-2e70-4ae0-afea-3e4c9216e169",isleaf:!1,state:{selected:!0,expanded:!0,loading:!1},text:"Child Node 3",color:"blue",backgroundColor:"black",image:"url_to_image2",nodes:[{id:"21c7e6d2-fdda-4970-9a31-83c905675f12",isleaf:!0,state:{selected:!1,expanded:!1,loading:!1},text:"Grandchild Node 1",color:"indigo",backgroundColor:"yellow",image:"url_to_image3",data:{details:"Leaf of a branch"},type:"SELECTABLE"},{id:"886a1bd7-f056-4921-8251-01b22693ab48",isleaf:!1,state:{selected:!1,expanded:!0,loading:!0},text:"Grandchild Node 2",color:"deeppink",backgroundColor:"orange",image:"url_to_image4",nodes:[{id:"4e6eb9f8-45b8-483a-9de3-175701210dc4",isleaf:!1,state:{selected:!0,expanded:!0,loading:!1},text:"GreatGrandChild Node 1",color:"blue",backgroundColor:"black",image:"url_to_image2",nodes:[{id:"28f142ce-4aa4-485d-8b0c-09cc18a06687",isleaf:!0,state:{selected:!1,expanded:!1,loading:!1},text:"GreatGreatGrandchild Node 1",color:"orangered",backgroundColor:"yellow",image:"url_to_image3",data:{details:"Leaf of a branch"},type:"SELECTABLE"},{id:"a8a3daf8-d403-406c-970d-3fb0871f1194",isleaf:!1,state:{selected:!1,expanded:!0,loading:!0},text:"GreatGreatGrandchild Node 2",color:"dodgerblue",backgroundColor:"orange",image:"url_to_image4",nodes:[],data:{info:"Empty branch"},type:"SELECTABLE"}],type:"SELECTABLE"}],data:{info:"Empty branch"},type:"SELECTABLE"}],type:"SELECTABLE"}],parentNode:null,state:{selected:!0,expanded:!0,loading:!1},text:"Root Node",backgroundColor:"grey",data:{additionalInfo:"Root of the tree"}}],H=()=>{const[o,u]=t.useState(""),[c,p]=t.useState({});return r(h,{children:[e(h.Col,{offset:1,span:4,children:r(n,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[e(n.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:e(g,{justify:"space-between",children:e(b,{fw:500,children:"Tree Select Component"})})}),e(U,{style:{height:300},children:e(s,{id:"treeSelect",label:"Selecionado",selectable:!1,dataSource:J,withBorder:!0,width:"270px",widthTreeView:"540px",heightTreeView:"300px",value:o,height:"calc(100% - 40px)",allowNodeSelectType:["SELECTABLE"],onConfirm:l=>{u(l.text),p(l)}})})]})}),e(h.Col,{offset:1,span:4,children:r(n,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[e(n.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:e(g,{justify:"space-between",children:e(b,{fw:500,children:"Nó selecionado"})})}),r(z,{h:300,children:[e(w,{h:20}),e(W,{data:c,expandLevel:10})]})]})})]})},J=$,Oe={title:"Editores/TreeSelect",component:s},i={name:"Exemplo simples",render:()=>e(H,{})};var E,k,q;i.parameters={...i.parameters,docs:{...(E=i.parameters)==null?void 0:E.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbaseTreeSelectExample />
}`,...(q=(k=i.parameters)==null?void 0:k.docs)==null?void 0:q.source}}};export{i as Primary,Oe as default};
