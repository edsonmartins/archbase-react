import{j as z}from"./jsx-runtime-c9381026.js";import{d as k}from"./dayjs.min-5b59225a.js";import"./index-8b3efc3f.js";import{s as S,u as V,a as U,p as q}from"./pick-calendar-levels-props-31ce4af0.js";import{u as E,P as F,D as N}from"./DatePicker-7aa0aff2.js";import{f as G,u as J}from"./polymorphic-factory-bf652503.js";import{u as K}from"./use-resolved-styles-api-07b5b463.js";function Q({type:e,date:t,locale:s,format:r,labelSeparator:l}){const a=i=>k(i).locale(s).format(r);return e==="default"?t===null?"":a(t):e==="multiple"?t.map(a).join(", "):e==="range"&&Array.isArray(t)?t[0]&&t[1]?`${a(t[0])} ${l} ${a(t[1])}`:t[0]?`${a(t[0])} ${l} `:"":""}function W({formatter:e,...t}){return(e||Q)(t)}function X({minDate:e,maxDate:t,timezone:s}){const r=S("add",new Date,s);return!e&&!t?r:e&&k(r).isBefore(e)?e:t&&k(r).isAfter(t)?t:r}function Z({type:e,value:t,defaultValue:s,onChange:r,locale:l,format:a,closeOnChange:i,sortDates:v,labelSeparator:C,valueFormatter:p}){const m=V(),[_,u]=E(!1),[o,c]=U({type:e,value:t,defaultValue:s,onChange:r}),D=W({type:e,date:o,locale:m.getLocale(l),format:a,labelSeparator:m.getLabelSeparator(C),formatter:p}),f=n=>{i&&(e==="default"&&u.close(),e==="range"&&n[0]&&n[1]&&u.close()),c(v&&e==="multiple"?[...n].sort((y,P)=>y.getTime()-P.getTime()):n)},h=()=>f(e==="range"?[null,null]:e==="multiple"?[]:null),g=e==="range"?!!o[0]:e==="multiple"?o.length>0:o!==null;return{_value:o,setValue:f,onClear:h,shouldClear:g,formattedValue:D,dropdownOpened:_,dropdownHandlers:u}}const ee={type:"default",valueFormat:"MMMM D, YYYY",closeOnChange:!0,sortDates:!0,dropdownType:"popover"},$=G((e,t)=>{const s=J("DatePickerInput",ee,e),{type:r,value:l,defaultValue:a,onChange:i,valueFormat:v,labelSeparator:C,locale:p,classNames:m,styles:_,unstyled:u,closeOnChange:o,size:c,variant:D,dropdownType:f,sortDates:h,minDate:g,maxDate:n,vars:y,defaultDate:P,valueFormatter:j,...M}=s,{resolvedClassNames:w,resolvedStyles:A}=K({classNames:m,styles:_,props:s}),{calendarProps:I,others:O}=q(M),{_value:d,setValue:Y,formattedValue:x,dropdownHandlers:b,dropdownOpened:B,onClear:H,shouldClear:L}=Z({type:r,value:l,defaultValue:a,onChange:i,locale:p,format:v,labelSeparator:C,closeOnChange:o,sortDates:h,valueFormatter:j}),R=Array.isArray(d)?d[0]||P:d||P,T=V();return z(F,{formattedValue:x,dropdownOpened:B,dropdownHandlers:b,classNames:w,styles:A,unstyled:u,ref:t,onClear:H,shouldClear:L,value:d,size:c,variant:D,dropdownType:f,...O,type:r,__staticSelector:"DatePickerInput",children:z(N,{...I,size:c,variant:D,type:r,value:d,defaultDate:R||X({maxDate:n,minDate:g,timezone:T.getTimezone()}),onChange:Y,locale:p,classNames:w,styles:A,unstyled:u,__staticSelector:"DatePickerInput",__stopPropagation:f==="popover",minDate:g,maxDate:n,date:S("add",I.date,T.getTimezone()),__timezoneApplied:!0})})});$.classes={...F.classes,...N.classes};$.displayName="@mantine/dates/DatePickerInput";export{$ as D};
