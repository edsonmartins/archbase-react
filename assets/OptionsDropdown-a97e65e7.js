import{j as a,a as y,F as k}from"./jsx-runtime-c9381026.js";import{x as L}from"./polymorphic-factory-72d50303.js";import{C as z}from"./CheckIcon-1695943d.js";import{S as G}from"./ScrollArea-9ec9a13f.js";import{C as u,c as v}from"./Combobox-de7c8f4c.js";function w(r){return typeof r=="string"?{value:r,label:r}:"value"in r&&!("label"in r)?{value:r.value,label:r.value,disabled:r.disabled}:typeof r=="number"?{value:r.toString(),label:r.toString()}:"group"in r?{group:r.group,items:r.items.map(e=>w(e))}:r}function R(r){return r?r.map(e=>w(e)):[]}function N(r){return r.reduce((e,o)=>"group"in o?{...e,...N(o.items)}:(e[o.value]=o,e),{})}function p(r){return"group"in r}function C({options:r,search:e,limit:o}){const l=e.trim().toLowerCase(),t=[];for(let s=0;s<r.length;s+=1){const n=r[s];if(t.length===o)return t;p(n)&&t.push({group:n.group,items:C({options:n.items,search:e,limit:o-t.length})}),p(n)||n.label.toLowerCase().includes(l)&&t.push(n)}return t}function $(r){if(r.length===0)return!0;for(const e of r)if(!("group"in e)||e.items.length>0)return!1;return!0}function O(r,e=new Set){if(Array.isArray(r))for(const o of r)if(p(o))O(o.items,e);else{if(typeof o.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof o.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof o.value}`);if(e.has(o.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${o.value}" was provided more than once`);e.add(o.value)}}function B(r,e){return Array.isArray(r)?r.includes(e):r===e}function x({data:r,withCheckIcon:e,value:o,checkIconPosition:l,unstyled:t,renderOption:s}){if(!p(r)){const i=B(o,r.value),f=e&&i&&a(z,{className:v.optionsDropdownCheckIcon}),d=y(k,{children:[l==="left"&&f,a("span",{children:r.label}),l==="right"&&f]});return a(u.Option,{value:r.value,disabled:r.disabled,className:L({[v.optionsDropdownOption]:!t}),"data-reverse":l==="right"||void 0,"data-checked":i||void 0,"aria-selected":i,active:i,children:typeof s=="function"?s({option:r,checked:i}):d})}const n=r.items.map(i=>a(x,{data:i,value:o,unstyled:t,withCheckIcon:e,checkIconPosition:l,renderOption:s},i.value));return a(u.Group,{label:r.group,children:n})}function T({data:r,hidden:e,hiddenWhenEmpty:o,filter:l,search:t,limit:s,maxDropdownHeight:n,withScrollArea:i=!0,filterOptions:f=!0,withCheckIcon:d=!1,value:D,checkIconPosition:E,nothingFoundMessage:h,unstyled:A,labelId:S,renderOption:F,scrollAreaProps:j}){O(r);const g=typeof t=="string"?(l||C)({options:r,search:f?t:"",limit:s??1/0}):r,m=$(g),b=g.map(c=>a(x,{data:c,withCheckIcon:d,value:D,checkIconPosition:E,unstyled:A,renderOption:F},p(c)?c.group:c.value));return a(u.Dropdown,{hidden:e||o&&m,children:y(u.Options,{labelledBy:S,children:[i?a(G.Autosize,{mah:n??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...j,children:b}):b,m&&h&&a(u.Empty,{children:h})]})})}export{T as O,N as a,R as g,p as i};
