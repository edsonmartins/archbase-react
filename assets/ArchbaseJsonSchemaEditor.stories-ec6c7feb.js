import{j as w,a as Se,F as yr}from"./jsx-runtime-c9381026.js";import{R as sr,r as ee}from"./index-8b3efc3f.js";import{i as B}from"./i18next-a4b2730f.js";import{F as Oe}from"./Flex-092aca25.js";import{S as Qe}from"./Stack-4f4a6a13.js";import{S as Cr}from"./Select-49df9933.js";import{c as Ds,g as Rs}from"./_commonjsHelpers-de833af9.js";import{f as Za}from"./index-14a07bae.js";import{f as Is,u as Os,h as xs,x as Ns,i as Fs,q as Cs}from"./polymorphic-factory-72d50303.js";import{u as Vs}from"./use-resolved-styles-api-5d7f4803.js";import{I as vn}from"./InputBase-3bc61936.js";import{U as Dt}from"./UnstyledButton-a999c66d.js";import{u as pn}from"./use-uncontrolled-f56237fb.js";import{a as Ls,u as Ts}from"./use-merged-ref-add91123.js";import{c as Ur}from"./clamp-73f6bef2.js";import{T as Gr}from"./Text-5e6e693d.js";import{C as Vr}from"./Checkbox-142e2944.js";import{I as He}from"./Input-da8fd83e.js";import{T as gn}from"./Textarea-6b7d1005.js";import{T as Wr}from"./TextInput-17271e22.js";import{P as Sa}from"./Popover-75b6a3c6.js";import{A as ir}from"./ActionIcon-ded5f15f.js";import{c as js}from"./createReactComponent-60e598cf.js";import{B as Yr}from"./Button-1bf80a53.js";import{T as lr}from"./Tooltip-f7bb8786.js";import{I as yn}from"./IconSettings-6cb5d8c7.js";import{I as zs}from"./IconTrash-6b16e91d.js";import{M as Pn}from"./Modal-176f6d1a.js";import{u as Us}from"./useTranslation-263f67a6.js";import{C as Mr}from"./Card-149fe22d.js";import{G as Rt}from"./Group-a72aa4c5.js";import{S as It}from"./ScrollArea-9ec9a13f.js";import{B as Ms}from"./Badge-4d599f3e.js";import{A as qs}from"./ArchbaseObjectInspector-cc27ea9a.js";import"./OptionsDropdown-a97e65e7.js";import"./CheckIcon-1695943d.js";import"./Combobox-de7c8f4c.js";import"./create-safe-context-941c9e18.js";import"./CloseButton-02fd9bf4.js";import"./OptionalPortal-027206c4.js";import"./index-a38d0dca.js";import"./use-isomorphic-effect-aa890e3d.js";import"./use-id-3df0f1f4.js";import"./Mantine.context-7e9479f9.js";import"./use-input-props-e0a3aa71.js";import"./get-contrast-color-23a8f08b.js";import"./get-auto-contrast-value-58024fc4.js";import"./InputsGroupFieldset-281fa018.js";import"./create-optional-context-86e78b6c.js";import"./extends-98964cd2.js";import"./objectWithoutPropertiesLoose-db2ce8fb.js";import"./DirectionProvider-1e219af7.js";import"./use-floating-auto-update-e8bcfa44.js";import"./use-did-update-bccd292e.js";import"./FocusTrap-1039b066.js";import"./Transition-011ea73b.js";import"./use-reduced-motion-98306cff.js";import"./use-media-query-78751440.js";import"./Loader-5375ea1f.js";import"./index-9d475cdf.js";import"./get-style-object-71cabcb5.js";import"./Paper-1531bd6d.js";import"./use-window-event-860a85e7.js";import"./context-3b2264a0.js";import"./use-mantine-color-scheme-2346dd43.js";function En(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(t[n[r]]=a[n[r]]);return t}var Ar;(function(a){a.event="event",a.props="prop"})(Ar||(Ar={}));function We(){}function ks(a){var e,t=void 0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e&&n.length===e.length&&n.every(function(s,o){return s===e[o]})||(e=n,t=a.apply(void 0,n)),t}}function Dr(a){return!!(a||"").match(/\d/)}function gr(a){return a==null}function Bs(a){return typeof a=="number"&&isNaN(a)}function Sn(a){return gr(a)||Bs(a)||typeof a=="number"&&!isFinite(a)}function bn(a){return a.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Qs(a){switch(a){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Hs(a,e,t){var n=Qs(t),r=a.search(/[1-9]/);return r=r===-1?a.length:r,a.substring(0,r)+a.substring(r,a.length).replace(n,"$1"+e)}function Ks(a){var e=ee.useRef(a);e.current=a;var t=ee.useRef(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e.current.apply(e,n)});return t.current}function Xa(a,e){e===void 0&&(e=!0);var t=a[0]==="-",n=t&&e;a=a.replace("-","");var r=a.split("."),s=r[0],o=r[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:t,addNegation:n}}function Js(a){if(!a)return a;var e=a[0]==="-";e&&(a=a.substring(1,a.length));var t=a.split("."),n=t[0].replace(/^0+/,"")||"0",r=t[1]||"";return(e?"-":"")+n+(r?"."+r:"")}function _n(a,e,t){for(var n="",r=t?"0":"",s=0;s<=e-1;s++)n+=a[s]||r;return n}function Ot(a,e){return Array(e+1).join(a)}function wn(a){var e=a+"",t=e[0]==="-"?"-":"";t&&(e=e.substring(1));var n=e.split(/[eE]/g),r=n[0],s=n[1];if(s=Number(s),!s)return t+r;r=r.replace(".","");var o=1+s,i=r.length;return o<0?r="0."+Ot("0",Math.abs(o))+r:o>=i?r=r+Ot("0",o-i):r=(r.substring(0,o)||"0")+"."+r.substring(o),t+r}function xt(a,e,t){if(["","-"].indexOf(a)!==-1)return a;var n=(a.indexOf(".")!==-1||t)&&e,r=Xa(a),s=r.beforeDecimal,o=r.afterDecimal,i=r.hasNegation,P=parseFloat("0."+(o||"0")),d=o.length<=e?"0."+o:P.toFixed(e),f=d.split("."),h=s;s&&Number(f[0])&&(h=s.split("").reverse().reduce(function(y,v,E){return y.length>E?(Number(y[0])+Number(v)).toString()+y.substring(1,y.length):v+y},f[0]));var m=_n(f[1]||"",e,t),l=i?"-":"",c=n?".":"";return""+l+h+c+m}function or(a,e){if(a.value=a.value,a!==null){if(a.createTextRange){var t=a.createTextRange();return t.move("character",e),t.select(),!0}return a.selectionStart||a.selectionStart===0?(a.focus(),a.setSelectionRange(e,e),!0):(a.focus(),!1)}}var $n=ks(function(a,e){for(var t=0,n=0,r=a.length,s=e.length;a[t]===e[t]&&t<r;)t++;for(;a[r-1-n]===e[s-1-n]&&s-n>t&&r-n>t;)n++;return{from:{start:t,end:r-n},to:{start:t,end:s-n}}});function Gs(a,e,t){return Math.min(Math.max(a,e),t)}function ba(a){return Math.max(a.selectionStart,a.selectionEnd)}function Ws(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Ys(a){return{from:{start:0,end:0},to:{start:0,end:a.length},lastValue:""}}function Zs(a){var e=a.currentValue,t=a.formattedValue,n=a.currentValueIndex,r=a.formattedValueIndex;return e[n]===t[r]}function Xs(a,e,t,n,r,s,o){o===void 0&&(o=Zs);var i=r.findIndex(function(I){return I}),P=a.slice(0,i);!e&&!t.startsWith(P)&&(e=P,t=P+t,n=n+P.length);for(var d=t.length,f=a.length,h={},m=new Array(d),l=0;l<d;l++){m[l]=-1;for(var c=0,y=f;c<y;c++){var v=o({currentValue:t,lastValue:e,formattedValue:a,currentValueIndex:l,formattedValueIndex:c});if(v&&h[c]!==!0){m[l]=c,h[c]=!0;break}}}for(var E=n;E<d&&(m[E]===-1||!s(t[E]));)E++;var D=E===d||m[E]===-1?f:m[E];for(E=n-1;E>0&&m[E]===-1;)E--;var _=E===-1||m[E]===-1?0:m[E]+1;return _>D?D:n-_<D-n?_:D}function Nt(a,e,t,n){var r=a.length;if(e=Gs(e,0,r),n==="left"){for(;e>=0&&!t[e];)e--;e===-1&&(e=t.indexOf(!0))}else{for(;e<=r&&!t[e];)e++;e>r&&(e=t.lastIndexOf(!0))}return e===-1&&(e=r),e}function eo(a){for(var e=Array.from({length:a.length+1}).map(function(){return!0}),t=0,n=e.length;t<n;t++)e[t]=!!(Dr(a[t])||Dr(a[t-1]));return e}function An(a,e,t,n,r,s){s===void 0&&(s=We);var o=Ks(function(c,y){var v,E;return Sn(c)?(E="",v=""):typeof c=="number"||y?(E=typeof c=="number"?wn(c):c,v=n(E)):(E=r(c,void 0),v=n(E)),{formattedValue:v,numAsString:E}}),i=ee.useState(function(){return o(gr(a)?e:a,t)}),P=i[0],d=i[1],f=function(c,y){c.formattedValue!==P.formattedValue&&d({formattedValue:c.formattedValue,numAsString:c.value}),s(c,y)},h=a,m=t;gr(a)&&(h=P.numAsString,m=!0);var l=o(h,m);return ee.useMemo(function(){d(l)},[l.formattedValue]),[P,f]}function ro(a){return a.replace(/[^0-9]/g,"")}function ao(a){return a}function to(a){var e=a.type;e===void 0&&(e="text");var t=a.displayType;t===void 0&&(t="input");var n=a.customInput,r=a.renderText,s=a.getInputRef,o=a.format;o===void 0&&(o=ao);var i=a.removeFormatting;i===void 0&&(i=ro);var P=a.defaultValue,d=a.valueIsNumericString,f=a.onValueChange,h=a.isAllowed,m=a.onChange;m===void 0&&(m=We);var l=a.onKeyDown;l===void 0&&(l=We);var c=a.onMouseUp;c===void 0&&(c=We);var y=a.onFocus;y===void 0&&(y=We);var v=a.onBlur;v===void 0&&(v=We);var E=a.value,D=a.getCaretBoundary;D===void 0&&(D=eo);var _=a.isValidInputCharacter;_===void 0&&(_=Dr);var I=a.isCharacterSame,O=En(a,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),N=An(E,P,!!d,o,i,f),z=N[0],$=z.formattedValue,x=z.numAsString,C=N[1],V=ee.useRef({formattedValue:$,numAsString:x}),L=function(M,q){V.current={formattedValue:M.formattedValue,numAsString:M.value},C(M,q)},R=ee.useState(!1),A=R[0],k=R[1],j=ee.useRef(null),T=ee.useRef({setCaretTimeout:null,focusTimeout:null});ee.useEffect(function(){return k(!0),function(){clearTimeout(T.current.setCaretTimeout),clearTimeout(T.current.focusTimeout)}},[]);var K=o,Q=function(M,q){var Y=parseFloat(q);return{formattedValue:M,value:q,floatValue:isNaN(Y)?void 0:Y}},U=function(M,q,Y){M.selectionStart===0&&M.selectionEnd===M.value.length||(or(M,q),T.current.setCaretTimeout=setTimeout(function(){M.value===Y&&M.selectionStart!==q&&or(M,q)},0))},Z=function(M,q,Y){return Nt(M,q,D(M),Y)},te=function(M,q,Y){var ie=D(q),ne=Xs(q,$,M,Y,ie,_,I);return ne=Nt(q,ne,ie),ne},ye=function(M){var q=M.formattedValue;q===void 0&&(q="");var Y=M.input,ie=M.source,ne=M.event,re=M.numAsString,se;if(Y){var F=M.inputValue||Y.value,W=ba(Y);Y.value=q,se=te(F,q,W),se!==void 0&&U(Y,se,q)}q!==$&&L(Q(q,re),{event:ne,source:ie})};ee.useEffect(function(){var M=V.current,q=M.formattedValue,Y=M.numAsString;$!==q&&($!==x||q!==Y)&&L(Q($,x),{event:void 0,source:Ar.props})},[$,x]);var G=j.current?ba(j.current):void 0,Ae=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;Ae(function(){var M=j.current;if($!==V.current.formattedValue&&M){var q=te(V.current.formattedValue,$,G);M.value=$,U(M,q,$)}},[$]);var De=function(M,q,Y){var ie=$n($,M),ne=Object.assign(Object.assign({},ie),{lastValue:$}),re=i(M,ne),se=K(re);if(re=i(se,void 0),h&&!h(Q(se,re))){var F=q.target,W=ba(F),Ee=te(M,$,W);return F.value=$,U(F,Ee,$),!1}return ye({formattedValue:se,numAsString:re,inputValue:M,event:q,source:Y,input:q.target}),!0},le=function(M){var q=M.target,Y=q.value,ie=De(Y,M,Ar.event);ie&&m(M)},Pe=function(M){var q=M.target,Y=M.key,ie=q.selectionStart,ne=q.selectionEnd,re=q.value;re===void 0&&(re="");var se;if(Y==="ArrowLeft"||Y==="Backspace"?se=Math.max(ie-1,0):Y==="ArrowRight"?se=Math.min(ie+1,re.length):Y==="Delete"&&(se=ie),se===void 0||ie!==ne){l(M);return}var F=se;if(Y==="ArrowLeft"||Y==="ArrowRight"){var W=Y==="ArrowLeft"?"left":"right";F=Z(re,se,W),F!==se&&M.preventDefault()}else Y==="Delete"&&!_(re[se])?F=Z(re,se,"right"):Y==="Backspace"&&!_(re[se])&&(F=Z(re,se,"left"));F!==se&&U(q,F,re),M.isUnitTestRun&&U(q,F,re),l(M)},Re=function(M){var q=M.target,Y=function(){var ie=q.selectionStart,ne=q.selectionEnd,re=q.value;if(re===void 0&&(re=""),ie===ne){var se=Z(re,ie);se!==ie&&U(q,se,re)}};Y(),requestAnimationFrame(function(){Y()}),c(M)},ve=function(M){M.persist&&M.persist();var q=M.target,Y=M.currentTarget;j.current=q,T.current.focusTimeout=setTimeout(function(){var ie=q.selectionStart,ne=q.selectionEnd,re=q.value;re===void 0&&(re="");var se=Z(re,ie);se!==ie&&!(ie===0&&ne===re.length)&&U(q,se,re),y(Object.assign(Object.assign({},M),{currentTarget:Y}))},0)},ue=function(M){j.current=null,clearTimeout(T.current.focusTimeout),clearTimeout(T.current.setCaretTimeout),v(M)},Ie=A&&Ws()?"numeric":void 0,de=Object.assign({inputMode:Ie},O,{type:e,value:$,onChange:le,onKeyDown:Pe,onMouseUp:Re,onFocus:ve,onBlur:ue});if(t==="text")return r?sr.createElement(sr.Fragment,null,r($,O)||null):sr.createElement("span",Object.assign({},O,{ref:s}),$);if(n){var ce=n;return sr.createElement(ce,Object.assign({},de,{ref:s}))}return sr.createElement("input",Object.assign({},de,{ref:s}))}function Ft(a,e){var t=e.decimalScale,n=e.fixedDecimalScale,r=e.prefix;r===void 0&&(r="");var s=e.suffix;s===void 0&&(s="");var o=e.allowNegative,i=e.thousandsGroupStyle;if(i===void 0&&(i="thousand"),a===""||a==="-")return a;var P=ua(e),d=P.thousandSeparator,f=P.decimalSeparator,h=t!==0&&a.indexOf(".")!==-1||t&&n,m=Xa(a,o),l=m.beforeDecimal,c=m.afterDecimal,y=m.addNegation;return t!==void 0&&(c=_n(c,t,!!n)),d&&(l=Hs(l,d,i)),r&&(l=r+l),s&&(c=c+s),y&&(l="-"+l),a=l+(h&&f||"")+c,a}function ua(a){var e=a.decimalSeparator;e===void 0&&(e=".");var t=a.thousandSeparator,n=a.allowedDecimalSeparators;return t===!0&&(t=","),n||(n=[e,"."]),{decimalSeparator:e,thousandSeparator:t,allowedDecimalSeparators:n}}function no(a,e){a===void 0&&(a="");var t=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),r=t.test(a),s=n.test(a);return a=a.replace(/-/g,""),r&&!s&&e&&(a="-"+a),a}function so(a,e){return new RegExp("(^-)|[0-9]|"+bn(a),e?"g":void 0)}function oo(a,e,t){return a===""?!0:!(e!=null&&e.match(/\d/))&&!(t!=null&&t.match(/\d/))&&typeof a=="string"&&!isNaN(Number(a))}function io(a,e,t){var n;e===void 0&&(e=Ys(a));var r=t.allowNegative,s=t.prefix;s===void 0&&(s="");var o=t.suffix;o===void 0&&(o="");var i=t.decimalScale,P=e.from,d=e.to,f=d.start,h=d.end,m=ua(t),l=m.allowedDecimalSeparators,c=m.decimalSeparator,y=a[h]===c;if(Dr(a)&&(a===s||a===o)&&e.lastValue==="")return a;if(h-f===1&&l.indexOf(a[f])!==-1){var v=i===0?"":c;a=a.substring(0,f)+v+a.substring(f+1,a.length)}var E=function(T,K,Q){var U=!1,Z=!1;s.startsWith("-")?U=!1:T.startsWith("--")?(U=!1,Z=!0):o.startsWith("-")&&T.length===o.length?U=!1:T[0]==="-"&&(U=!0);var te=U?1:0;return Z&&(te=2),te&&(T=T.substring(te),K-=te,Q-=te),{value:T,start:K,end:Q,hasNegation:U}},D=E(a,f,h),_=D.hasNegation;n=D,a=n.value,f=n.start,h=n.end;var I=E(e.lastValue,P.start,P.end),O=I.start,N=I.end,z=I.value,$=a.substring(f,h);a.length&&z.length&&(O>z.length-o.length||N<s.length)&&!($&&o.startsWith($))&&(a=z);var x=0;a.startsWith(s)?x+=s.length:f<s.length&&(x=f),a=a.substring(x),h-=x;var C=a.length,V=a.length-o.length;a.endsWith(o)?C=V:(h>V||h>a.length-o.length)&&(C=h),a=a.substring(0,C),a=no(_?"-"+a:a,r),a=(a.match(so(c,!0))||[]).join("");var L=a.indexOf(c);a=a.replace(new RegExp(bn(c),"g"),function(T,K){return K===L?".":""});var R=Xa(a,r),A=R.beforeDecimal,k=R.afterDecimal,j=R.addNegation;return d.end-d.start<P.end-P.start&&A===""&&y&&!parseFloat(k)&&(a=j?"-":""),a}function lo(a,e){var t=e.prefix;t===void 0&&(t="");var n=e.suffix;n===void 0&&(n="");var r=Array.from({length:a.length+1}).map(function(){return!0}),s=a[0]==="-";r.fill(!1,0,t.length+(s?1:0));var o=a.length;return r.fill(!1,o-n.length+1,o+1),r}function uo(a){var e=ua(a),t=e.thousandSeparator,n=e.decimalSeparator,r=a.prefix;r===void 0&&(r="");var s=a.allowNegative;if(s===void 0&&(s=!0),t===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+t+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return r.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+r+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},a),{allowNegative:s})}function co(a){a=uo(a),a.decimalSeparator,a.allowedDecimalSeparators,a.thousandsGroupStyle;var e=a.suffix,t=a.allowNegative,n=a.allowLeadingZeros,r=a.onKeyDown;r===void 0&&(r=We);var s=a.onBlur;s===void 0&&(s=We);var o=a.thousandSeparator,i=a.decimalScale,P=a.fixedDecimalScale,d=a.prefix;d===void 0&&(d="");var f=a.defaultValue,h=a.value,m=a.valueIsNumericString,l=a.onValueChange,c=En(a,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),y=ua(a),v=y.decimalSeparator,E=y.allowedDecimalSeparators,D=function(j){return Ft(j,a)},_=function(j,T){return io(j,T,a)},I=gr(h)?f:h,O=m??oo(I,d,e);gr(h)?gr(f)||(O=O||typeof f=="number"):O=O||typeof h=="number";var N=function(j){return Sn(j)?j:(typeof j=="number"&&(j=wn(j)),O&&typeof i=="number"?xt(j,i,!!P):j)},z=An(N(h),N(f),!!O,D,_,l),$=z[0],x=$.numAsString,C=$.formattedValue,V=z[1],L=function(j){var T=j.target,K=j.key,Q=T.selectionStart,U=T.selectionEnd,Z=T.value;if(Z===void 0&&(Z=""),Q!==U){r(j);return}K==="Backspace"&&Z[0]==="-"&&Q===d.length+1&&t&&or(T,1),i&&P&&(K==="Backspace"&&Z[Q-1]===v?(or(T,Q-1),j.preventDefault()):K==="Delete"&&Z[Q]===v&&j.preventDefault()),E!=null&&E.includes(K)&&Z[Q]===v&&or(T,Q+1);var te=o===!0?",":o;K==="Backspace"&&Z[Q-1]===te&&or(T,Q-1),K==="Delete"&&Z[Q]===te&&or(T,Q+1),r(j)},R=function(j){var T=x;if(T.match(/\d/g)||(T=""),n||(T=Js(T)),P&&i&&(T=xt(T,i,P)),T!==x){var K=Ft(T,a);V({formattedValue:K,value:T,floatValue:parseFloat(T)},{event:j,source:Ar.event})}s(j)},A=function(j){return j===v?!0:Dr(j)},k=function(j){var T=j.currentValue,K=j.lastValue,Q=j.formattedValue,U=j.currentValueIndex,Z=j.formattedValueIndex,te=T[U],ye=Q[Z],G=$n(K,T),Ae=G.to;return U>=Ae.start&&U<Ae.end&&E&&E.includes(te)&&ye===v?!0:te===ye};return Object.assign(Object.assign({},c),{value:C,valueIsNumericString:!1,isValidInputCharacter:A,isCharacterSame:k,onValueChange:V,format:D,removeFormatting:_,getCaretBoundary:function(j){return lo(j,a)},onKeyDown:L,onBlur:R})}function fo(a){var e=co(a);return sr.createElement(to,Object.assign({},e))}function Ct({direction:a,style:e,...t}){return w("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:a==="up"?"rotate(180deg)":void 0,...e},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:w("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Oa={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const ho=/^-0(\.0*)?$/,mo=/^-?0\d+$/;function vo(a){return(typeof a=="number"?a<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(a)))&&!Number.isNaN(a)}function Vt(a,e,t){if(a===void 0)return!0;const n=e===void 0||a>=e,r=t===void 0||a<=t;return n&&r}const po={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,startValue:0},go=Fs((a,{size:e})=>({controls:{"--ni-chevron-size":Cs(e,"ni-chevron-size")}})),ur=Is((a,e)=>{const t=Os("NumberInput",po,a),{className:n,classNames:r,styles:s,unstyled:o,vars:i,onChange:P,onValueChange:d,value:f,defaultValue:h,max:m,min:l,step:c,hideControls:y,rightSection:v,isAllowed:E,clampBehavior:D,onBlur:_,allowDecimal:I,decimalScale:O,onKeyDown:N,onKeyDownCapture:z,handlersRef:$,startValue:x,disabled:C,rightSectionPointerEvents:V,allowNegative:L,readOnly:R,size:A,rightSectionWidth:k,stepHoldInterval:j,stepHoldDelay:T,allowLeadingZeros:K,withKeyboardEvents:Q,...U}=t,Z=xs({name:"NumberInput",classes:Oa,props:t,classNames:r,styles:s,unstyled:o,vars:i,varsResolver:go}),{resolvedClassNames:te,resolvedStyles:ye}=Vs({classNames:r,styles:s,props:t}),[G,Ae]=pn({value:f,defaultValue:h,onChange:P}),De=T!==void 0&&j!==void 0,le=ee.useRef(null),Pe=ee.useRef(null),Re=ee.useRef(0),ve=(F,W)=>{W.source==="event"&&Ae(vo(F.floatValue)&&!ho.test(F.value)&&!(K&&mo.test(F.value))?F.floatValue:F.value),d==null||d(F,W)},ue=F=>{const W=String(F).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return W?Math.max(0,(W[1]?W[1].length:0)-(W[2]?+W[2]:0)):0},Ie=F=>{le.current&&typeof F<"u"&&le.current.setSelectionRange(F,F)},de=ee.useRef();de.current=()=>{let F;const W=ue(G),Ee=ue(c),ze=Math.max(W,Ee),xe=10**ze;if(typeof G!="number"||Number.isNaN(G))F=Ur(x,l,m);else if(m!==void 0){const Fe=(Math.round(G*xe)+Math.round(c*xe))/xe;F=Fe<=m?Fe:m}else F=(Math.round(G*xe)+Math.round(c*xe))/xe;const Ne=F.toFixed(ze);Ae(parseFloat(Ne)),d==null||d({floatValue:parseFloat(Ne),formattedValue:Ne,value:Ne},{source:"increment"}),setTimeout(()=>{var Fe;return Ie((Fe=le.current)==null?void 0:Fe.value.length)},0)};const ce=ee.useRef();ce.current=()=>{let F;const W=ue(G),Ee=ue(c),ze=Math.max(W,Ee),xe=10**ze;if(typeof G!="number"||Number.isNaN(G))F=Ur(x,l,m);else{const Fe=(Math.round(G*xe)-Math.round(c*xe))/xe;F=l!==void 0&&Fe<l?l:Fe}const Ne=F.toFixed(ze);Ae(parseFloat(Ne)),d==null||d({floatValue:parseFloat(Ne),formattedValue:Ne,value:Ne},{source:"decrement"}),setTimeout(()=>{var Fe;return Ie((Fe=le.current)==null?void 0:Fe.value.length)},0)};const M=F=>{N==null||N(F),!(R||!Q)&&(F.key==="ArrowUp"&&(F.preventDefault(),de.current()),F.key==="ArrowDown"&&(F.preventDefault(),ce.current()))},q=F=>{if(z==null||z(F),F.key==="Backspace"){const W=le.current;W.selectionStart===0&&W.selectionStart===W.selectionEnd&&(F.preventDefault(),window.setTimeout(()=>Ie(0),0))}};Ls($,{increment:de.current,decrement:ce.current});const Y=F=>{F?de.current():ce.current(),Re.current+=1},ie=F=>{if(Y(F),De){const W=typeof j=="number"?j:j(Re.current);Pe.current=window.setTimeout(()=>ie(F),W)}},ne=(F,W)=>{var Ee;F.preventDefault(),(Ee=le.current)==null||Ee.focus(),Y(W),De&&(Pe.current=window.setTimeout(()=>ie(W),T))},re=()=>{Pe.current&&window.clearTimeout(Pe.current),Pe.current=null,Re.current=0},se=Se("div",{...Z("controls"),children:[w(Dt,{...Z("control"),tabIndex:-1,"aria-hidden":!0,disabled:C||typeof G=="number"&&m!==void 0&&G>=m,mod:{direction:"up"},onMouseDown:F=>F.preventDefault(),onPointerDown:F=>{ne(F,!0)},onPointerUp:re,onPointerLeave:re,children:w(Ct,{direction:"up"})}),w(Dt,{...Z("control"),tabIndex:-1,"aria-hidden":!0,disabled:C||typeof G=="number"&&l!==void 0&&G<=l,mod:{direction:"down"},onMouseDown:F=>F.preventDefault(),onPointerDown:F=>{ne(F,!1)},onPointerUp:re,onPointerLeave:re,children:w(Ct,{direction:"down"})})]});return w(vn,{component:fo,allowNegative:L,className:Ns(Oa.root,n),size:A,...U,readOnly:R,disabled:C,value:G,getInputRef:Ts(e,le),onValueChange:ve,rightSection:y||R?v:v||se,classNames:te,styles:ye,unstyled:o,__staticSelector:"NumberInput",decimalScale:I?O:0,onKeyDown:M,onKeyDownCapture:q,rightSectionPointerEvents:V??(C?"none":void 0),rightSectionWidth:k??`var(--ni-right-section-width-${A||"sm"})`,allowLeadingZeros:K,onBlur:F=>{_==null||_(F),D==="blur"&&typeof G=="number"&&Ur(G,l,m)!==G&&Ae(Ur(G,l,m))},isAllowed:F=>D==="strict"?E?E(F)&&Vt(F.floatValue,l,m):Vt(F.floatValue,l,m):E?E(F):!0})});ur.classes={...vn.classes,...Oa};ur.displayName="@mantine/core/NumberInput";var ca=js("circle-plus","IconCirclePlus",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]);const Rr=a=>{const e=typeof a;return a!==null&&(e==="object"||e==="function")},_a=new Set(["__proto__","prototype","constructor"]),yo=new Set("0123456789");function et(a){const e=[];let t="",n="start",r=!1;for(const s of a)switch(s){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");r&&(t+=s),n="property",r=!r;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(r){r=!1,t+=s;break}if(_a.has(t))return[];e.push(t),t="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(r){r=!1,t+=s;break}if(n==="property"){if(_a.has(t))return[];e.push(t),t=""}n="index";break}case"]":{if(n==="index"){e.push(Number.parseInt(t,10)),t="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!yo.has(s))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),r&&(r=!1,t+="\\"),t+=s}}switch(r&&(t+="\\"),n){case"property":{if(_a.has(t))return[];e.push(t);break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function Dn(a,e){if(typeof e!="number"&&Array.isArray(a)){const t=Number.parseInt(e,10);return Number.isInteger(t)&&a[t]===a[e]}return!1}function Rn(a,e){if(Dn(a,e))throw new Error("Cannot use string index")}function In(a,e,t){if(!Rr(a)||typeof e!="string")return t===void 0?a:t;const n=et(e);if(n.length===0)return t;for(let r=0;r<n.length;r++){const s=n[r];if(Dn(a,s)?a=r===n.length-1?void 0:null:a=a[s],a==null){if(r!==n.length-1)return t;break}}return a===void 0?t:a}function rt(a,e,t){if(!Rr(a)||typeof e!="string")return a;const n=a,r=et(e);for(let s=0;s<r.length;s++){const o=r[s];Rn(a,o),s===r.length-1?a[o]=t:Rr(a[o])||(a[o]=typeof r[s+1]=="number"?[]:{}),a=a[o]}return n}function Po(a,e){if(!Rr(a)||typeof e!="string")return!1;const t=et(e);for(let n=0;n<t.length;n++){const r=t[n];if(Rn(a,r),n===t.length-1)return delete a[r],!0;if(a=a[r],!Rr(a))return!1}}const Eo="PUSH_ITEM_TO_ARRAY",So="REMOVE_ITEM_FROM_ARRAY",bo="REMOVE",_o=(a,e,t,n)=>{switch(n){case Eo:wo(a,e,t);return;case So:$o(a,e,t);return;case bo:Po(a,e);return;default:if(e===""){a=t;return}rt(a,e,t)}},wo=(a,e,t)=>{const n=In(a,e,[]).length;rt(a,`${e}[${n}]`,t)},$o=(a,e,t)=>{const n=In(a,e,[]);n.splice(n.indexOf(t),1),rt(a,`${e}`,n)},On=a=>a.match(/[.([)]/g)?a.match(/[.([)]/g).length:0;var xn=Symbol.for("immer-nothing"),Lt=Symbol.for("immer-draftable"),Ve=Symbol.for("immer-state");function je(a,...e){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var Pr=Object.getPrototypeOf;function Er(a){return!!a&&!!a[Ve]}function fr(a){var e;return a?Nn(a)||Array.isArray(a)||!!a[Lt]||!!((e=a.constructor)!=null&&e[Lt])||da(a)||ha(a):!1}var Ao=Object.prototype.constructor.toString();function Nn(a){if(!a||typeof a!="object")return!1;const e=Pr(a);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Ao}function Zr(a,e){fa(a)===0?Reflect.ownKeys(a).forEach(t=>{e(t,a[t],a)}):a.forEach((t,n)=>e(n,t,a))}function fa(a){const e=a[Ve];return e?e.type_:Array.isArray(a)?1:da(a)?2:ha(a)?3:0}function xa(a,e){return fa(a)===2?a.has(e):Object.prototype.hasOwnProperty.call(a,e)}function Fn(a,e,t){const n=fa(a);n===2?a.set(e,t):n===3?a.add(t):a[e]=t}function Do(a,e){return a===e?a!==0||1/a===1/e:a!==a&&e!==e}function da(a){return a instanceof Map}function ha(a){return a instanceof Set}function nr(a){return a.copy_||a.base_}function Na(a,e){if(da(a))return new Map(a);if(ha(a))return new Set(a);if(Array.isArray(a))return Array.prototype.slice.call(a);const t=Nn(a);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(a);delete n[Ve];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const o=r[s],i=n[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:a[o]})}return Object.create(Pr(a),n)}else{const n=Pr(a);if(n!==null&&t)return{...a};const r=Object.create(n);return Object.assign(r,a)}}function at(a,e=!1){return ma(a)||Er(a)||!fr(a)||(fa(a)>1&&(a.set=a.add=a.clear=a.delete=Ro),Object.freeze(a),e&&Object.entries(a).forEach(([t,n])=>at(n,!0))),a}function Ro(){je(2)}function ma(a){return Object.isFrozen(a)}var Io={};function dr(a){const e=Io[a];return e||je(0,a),e}var Ir;function Cn(){return Ir}function Oo(a,e){return{drafts_:[],parent_:a,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Tt(a,e){e&&(dr("Patches"),a.patches_=[],a.inversePatches_=[],a.patchListener_=e)}function Fa(a){Ca(a),a.drafts_.forEach(xo),a.drafts_=null}function Ca(a){a===Ir&&(Ir=a.parent_)}function jt(a){return Ir=Oo(Ir,a)}function xo(a){const e=a[Ve];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function zt(a,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return a!==void 0&&a!==t?(t[Ve].modified_&&(Fa(e),je(4)),fr(a)&&(a=Xr(e,a),e.parent_||ea(e,a)),e.patches_&&dr("Patches").generateReplacementPatches_(t[Ve].base_,a,e.patches_,e.inversePatches_)):a=Xr(e,t,[]),Fa(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),a!==xn?a:void 0}function Xr(a,e,t){if(ma(e))return e;const n=e[Ve];if(!n)return Zr(e,(r,s)=>Ut(a,n,e,r,s,t)),e;if(n.scope_!==a)return e;if(!n.modified_)return ea(a,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const r=n.copy_;let s=r,o=!1;n.type_===3&&(s=new Set(r),r.clear(),o=!0),Zr(s,(i,P)=>Ut(a,n,r,i,P,t,o)),ea(a,r,!1),t&&a.patches_&&dr("Patches").generatePatches_(n,t,a.patches_,a.inversePatches_)}return n.copy_}function Ut(a,e,t,n,r,s,o){if(Er(r)){const i=s&&e&&e.type_!==3&&!xa(e.assigned_,n)?s.concat(n):void 0,P=Xr(a,r,i);if(Fn(t,n,P),Er(P))a.canAutoFreeze_=!1;else return}else o&&t.add(r);if(fr(r)&&!ma(r)){if(!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1)return;Xr(a,r),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&ea(a,r)}}function ea(a,e,t=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&at(e,t)}function No(a,e){const t=Array.isArray(a),n={type_:t?1:0,scope_:e?e.scope_:Cn(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,s=tt;t&&(r=[n],s=Or);const{revoke:o,proxy:i}=Proxy.revocable(r,s);return n.draft_=i,n.revoke_=o,i}var tt={get(a,e){if(e===Ve)return a;const t=nr(a);if(!xa(t,e))return Fo(a,t,e);const n=t[e];return a.finalized_||!fr(n)?n:n===wa(a.base_,e)?($a(a),a.copy_[e]=La(n,a)):n},has(a,e){return e in nr(a)},ownKeys(a){return Reflect.ownKeys(nr(a))},set(a,e,t){const n=Vn(nr(a),e);if(n!=null&&n.set)return n.set.call(a.draft_,t),!0;if(!a.modified_){const r=wa(nr(a),e),s=r==null?void 0:r[Ve];if(s&&s.base_===t)return a.copy_[e]=t,a.assigned_[e]=!1,!0;if(Do(t,r)&&(t!==void 0||xa(a.base_,e)))return!0;$a(a),Va(a)}return a.copy_[e]===t&&(t!==void 0||e in a.copy_)||Number.isNaN(t)&&Number.isNaN(a.copy_[e])||(a.copy_[e]=t,a.assigned_[e]=!0),!0},deleteProperty(a,e){return wa(a.base_,e)!==void 0||e in a.base_?(a.assigned_[e]=!1,$a(a),Va(a)):delete a.assigned_[e],a.copy_&&delete a.copy_[e],!0},getOwnPropertyDescriptor(a,e){const t=nr(a),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:a.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){je(11)},getPrototypeOf(a){return Pr(a.base_)},setPrototypeOf(){je(12)}},Or={};Zr(tt,(a,e)=>{Or[a]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Or.deleteProperty=function(a,e){return Or.set.call(this,a,e,void 0)};Or.set=function(a,e,t){return tt.set.call(this,a[0],e,t,a[0])};function wa(a,e){const t=a[Ve];return(t?nr(t):a)[e]}function Fo(a,e,t){var r;const n=Vn(e,t);return n?"value"in n?n.value:(r=n.get)==null?void 0:r.call(a.draft_):void 0}function Vn(a,e){if(!(e in a))return;let t=Pr(a);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Pr(t)}}function Va(a){a.modified_||(a.modified_=!0,a.parent_&&Va(a.parent_))}function $a(a){a.copy_||(a.copy_=Na(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var Co=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(P=s,...d){return o.produce(P,f=>t.call(this,f,...d))}}typeof t!="function"&&je(6),n!==void 0&&typeof n!="function"&&je(7);let r;if(fr(e)){const s=jt(this),o=La(e,void 0);let i=!0;try{r=t(o),i=!1}finally{i?Fa(s):Ca(s)}return Tt(s,n),zt(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===xn&&(r=void 0),this.autoFreeze_&&at(r,!0),n){const s=[],o=[];dr("Patches").generateReplacementPatches_(e,r,s,o),n(s,o)}return r}else je(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...i)=>this.produceWithPatches(o,P=>e(P,...i));let n,r;return[this.produce(e,t,(o,i)=>{n=o,r=i}),n,r]},typeof(a==null?void 0:a.autoFreeze)=="boolean"&&this.setAutoFreeze(a.autoFreeze),typeof(a==null?void 0:a.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(a.useStrictShallowCopy)}createDraft(a){fr(a)||je(8),Er(a)&&(a=Vo(a));const e=jt(this),t=La(a,void 0);return t[Ve].isManual_=!0,Ca(e),t}finishDraft(a,e){const t=a&&a[Ve];(!t||!t.isManual_)&&je(9);const{scope_:n}=t;return Tt(n,e),zt(void 0,n)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}applyPatches(a,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){a=r.value;break}}t>-1&&(e=e.slice(t+1));const n=dr("Patches").applyPatches_;return Er(a)?n(a,e):this.produce(a,r=>n(r,e))}};function La(a,e){const t=da(a)?dr("MapSet").proxyMap_(a,e):ha(a)?dr("MapSet").proxySet_(a,e):No(a,e);return(e?e.scope_:Cn()).drafts_.push(t),t}function Vo(a){return Er(a)||je(10,a),Ln(a)}function Ln(a){if(!fr(a)||ma(a))return a;const e=a[Ve];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Na(a,e.scope_.immer_.useStrictShallowCopy_)}else t=Na(a,!0);return Zr(t,(n,r)=>{Fn(t,n,Ln(r))}),e&&(e.finalized_=!1),t}var Le=new Co,Lo=Le.produce;Le.produceWithPatches.bind(Le);Le.setAutoFreeze.bind(Le);Le.setUseStrictShallowCopy.bind(Le);Le.applyPatches.bind(Le);Le.createDraft.bind(Le);Le.finishDraft.bind(Le);const er=sr.createContext({}),Ta=er.Provider;try{Ta.displayName="ArchbaseJsonSchemaEditorProvider",Ta.__docgenInfo={description:"",displayName:"ArchbaseJsonSchemaEditorProvider",props:{}}}catch{}const ja=({path:a,item:e})=>{const{handleChange:t}=ee.useContext(er);return w(Oe,{direction:"column",w:"100%",wrap:"nowrap",children:w(Qe,{align:"stretch",justify:"center",m:1,children:w(Cr,{label:`${B.t("archbase:Default value")}`,value:e.default??"",size:"sm",m:2,placeholder:`${B.t("archbase:Choose data type")}`,onChange:n=>{t(`${a}.default`,n,"ASSIGN_VALUE")},data:[{value:"true",label:`${B.t("archbase:true")}`},{value:"false",label:`${B.t("archbase:false")}`}]})})})};try{ja.displayName="AdvancedBoolean",ja.__docgenInfo={description:"",displayName:"AdvancedBoolean",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}}}}}catch{}var za={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(a,e){(function(t,n){n(e)})(Ds,function(t){function n(){for(var p=arguments.length,u=Array(p),g=0;g<p;g++)u[g]=arguments[g];if(u.length>1){u[0]=u[0].slice(0,-1);for(var b=u.length-1,S=1;S<b;++S)u[S]=u[S].slice(1,-1);return u[b]=u[b].slice(1),u.join("")}else return u[0]}function r(p){return"(?:"+p+")"}function s(p){return p===void 0?"undefined":p===null?"null":Object.prototype.toString.call(p).split(" ").pop().split("]").shift().toLowerCase()}function o(p){return p.toUpperCase()}function i(p){return p!=null?p instanceof Array?p:typeof p.length!="number"||p.split||p.setInterval||p.call?[p]:Array.prototype.slice.call(p):[]}function P(p,u){var g=p;if(u)for(var b in u)g[b]=u[b];return g}function d(p){var u="[A-Za-z]",g="[0-9]",b=n(g,"[A-Fa-f]"),S=r(r("%[EFef]"+b+"%"+b+b+"%"+b+b)+"|"+r("%[89A-Fa-f]"+b+"%"+b+b)+"|"+r("%"+b+b)),H="[\\:\\/\\?\\#\\[\\]\\@]",J="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",oe=n(H,J),he=p?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",_e=p?"[\\uE000-\\uF8FF]":"[]",ae=n(u,g,"[\\-\\.\\_\\~]",he);r(u+n(u,g,"[\\+\\-\\.]")+"*"),r(r(S+"|"+n(ae,J,"[\\:]"))+"*");var fe=r(r("25[0-5]")+"|"+r("2[0-4]"+g)+"|"+r("1"+g+g)+"|"+r("0?[1-9]"+g)+"|0?0?"+g),we=r(fe+"\\."+fe+"\\."+fe+"\\."+fe),X=r(b+"{1,4}"),pe=r(r(X+"\\:"+X)+"|"+we),$e=r(r(X+"\\:")+"{6}"+pe),ge=r("\\:\\:"+r(X+"\\:")+"{5}"+pe),Ge=r(r(X)+"?\\:\\:"+r(X+"\\:")+"{4}"+pe),Me=r(r(r(X+"\\:")+"{0,1}"+X)+"?\\:\\:"+r(X+"\\:")+"{3}"+pe),qe=r(r(r(X+"\\:")+"{0,2}"+X)+"?\\:\\:"+r(X+"\\:")+"{2}"+pe),vr=r(r(r(X+"\\:")+"{0,3}"+X)+"?\\:\\:"+X+"\\:"+pe),ar=r(r(r(X+"\\:")+"{0,4}"+X)+"?\\:\\:"+pe),Te=r(r(r(X+"\\:")+"{0,5}"+X)+"?\\:\\:"+X),ke=r(r(r(X+"\\:")+"{0,6}"+X)+"?\\:\\:"),tr=r([$e,ge,Ge,Me,qe,vr,ar,Te,ke].join("|")),Je=r(r(ae+"|"+S)+"+");r("[vV]"+b+"+\\."+n(ae,J,"[\\:]")+"+"),r(r(S+"|"+n(ae,J))+"*");var wr=r(S+"|"+n(ae,J,"[\\:\\@]"));return r(r(S+"|"+n(ae,J,"[\\@]"))+"+"),r(r(wr+"|"+n("[\\/\\?]",_e))+"*"),{NOT_SCHEME:new RegExp(n("[^]",u,g,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ae,J),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ae,J),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ae,J),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ae,J),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ae,J,"[\\:\\@\\/\\?]",_e),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ae,J,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ae,J),"g"),UNRESERVED:new RegExp(ae,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ae,oe),"g"),PCT_ENCODED:new RegExp(S,"g"),IPV4ADDRESS:new RegExp("^("+we+")$"),IPV6ADDRESS:new RegExp("^\\[?("+tr+")"+r(r("\\%25|\\%(?!"+b+"{2})")+"("+Je+")")+"?\\]?$")}}var f=d(!1),h=d(!0),m=function(){function p(u,g){var b=[],S=!0,H=!1,J=void 0;try{for(var oe=u[Symbol.iterator](),he;!(S=(he=oe.next()).done)&&(b.push(he.value),!(g&&b.length===g));S=!0);}catch(_e){H=!0,J=_e}finally{try{!S&&oe.return&&oe.return()}finally{if(H)throw J}}return b}return function(u,g){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return p(u,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(p){if(Array.isArray(p)){for(var u=0,g=Array(p.length);u<p.length;u++)g[u]=p[u];return g}else return Array.from(p)},c=2147483647,y=36,v=1,E=26,D=38,_=700,I=72,O=128,N="-",z=/^xn--/,$=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V=y-v,L=Math.floor,R=String.fromCharCode;function A(p){throw new RangeError(C[p])}function k(p,u){for(var g=[],b=p.length;b--;)g[b]=u(p[b]);return g}function j(p,u){var g=p.split("@"),b="";g.length>1&&(b=g[0]+"@",p=g[1]),p=p.replace(x,".");var S=p.split("."),H=k(S,u).join(".");return b+H}function T(p){for(var u=[],g=0,b=p.length;g<b;){var S=p.charCodeAt(g++);if(S>=55296&&S<=56319&&g<b){var H=p.charCodeAt(g++);(H&64512)==56320?u.push(((S&1023)<<10)+(H&1023)+65536):(u.push(S),g--)}else u.push(S)}return u}var K=function(u){return String.fromCodePoint.apply(String,l(u))},Q=function(u){return u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:y},U=function(u,g){return u+22+75*(u<26)-((g!=0)<<5)},Z=function(u,g,b){var S=0;for(u=b?L(u/_):u>>1,u+=L(u/g);u>V*E>>1;S+=y)u=L(u/V);return L(S+(V+1)*u/(u+D))},te=function(u){var g=[],b=u.length,S=0,H=O,J=I,oe=u.lastIndexOf(N);oe<0&&(oe=0);for(var he=0;he<oe;++he)u.charCodeAt(he)>=128&&A("not-basic"),g.push(u.charCodeAt(he));for(var _e=oe>0?oe+1:0;_e<b;){for(var ae=S,fe=1,we=y;;we+=y){_e>=b&&A("invalid-input");var X=Q(u.charCodeAt(_e++));(X>=y||X>L((c-S)/fe))&&A("overflow"),S+=X*fe;var pe=we<=J?v:we>=J+E?E:we-J;if(X<pe)break;var $e=y-pe;fe>L(c/$e)&&A("overflow"),fe*=$e}var ge=g.length+1;J=Z(S-ae,ge,ae==0),L(S/ge)>c-H&&A("overflow"),H+=L(S/ge),S%=ge,g.splice(S++,0,H)}return String.fromCodePoint.apply(String,g)},ye=function(u){var g=[];u=T(u);var b=u.length,S=O,H=0,J=I,oe=!0,he=!1,_e=void 0;try{for(var ae=u[Symbol.iterator](),fe;!(oe=(fe=ae.next()).done);oe=!0){var we=fe.value;we<128&&g.push(R(we))}}catch($r){he=!0,_e=$r}finally{try{!oe&&ae.return&&ae.return()}finally{if(he)throw _e}}var X=g.length,pe=X;for(X&&g.push(N);pe<b;){var $e=c,ge=!0,Ge=!1,Me=void 0;try{for(var qe=u[Symbol.iterator](),vr;!(ge=(vr=qe.next()).done);ge=!0){var ar=vr.value;ar>=S&&ar<$e&&($e=ar)}}catch($r){Ge=!0,Me=$r}finally{try{!ge&&qe.return&&qe.return()}finally{if(Ge)throw Me}}var Te=pe+1;$e-S>L((c-H)/Te)&&A("overflow"),H+=($e-S)*Te,S=$e;var ke=!0,tr=!1,Je=void 0;try{for(var wr=u[Symbol.iterator](),_t;!(ke=(_t=wr.next()).done);ke=!0){var wt=_t.value;if(wt<S&&++H>c&&A("overflow"),wt==S){for(var Tr=H,jr=y;;jr+=y){var zr=jr<=J?v:jr>=J+E?E:jr-J;if(Tr<zr)break;var $t=Tr-zr,At=y-zr;g.push(R(U(zr+$t%At,0))),Tr=L($t/At)}g.push(R(U(Tr,0))),J=Z(H,Te,pe==X),H=0,++pe}}}catch($r){tr=!0,Je=$r}finally{try{!ke&&wr.return&&wr.return()}finally{if(tr)throw Je}}++H,++S}return g.join("")},G=function(u){return j(u,function(g){return z.test(g)?te(g.slice(4).toLowerCase()):g})},Ae=function(u){return j(u,function(g){return $.test(g)?"xn--"+ye(g):g})},De={version:"2.1.0",ucs2:{decode:T,encode:K},decode:te,encode:ye,toASCII:Ae,toUnicode:G},le={};function Pe(p){var u=p.charCodeAt(0),g=void 0;return u<16?g="%0"+u.toString(16).toUpperCase():u<128?g="%"+u.toString(16).toUpperCase():u<2048?g="%"+(u>>6|192).toString(16).toUpperCase()+"%"+(u&63|128).toString(16).toUpperCase():g="%"+(u>>12|224).toString(16).toUpperCase()+"%"+(u>>6&63|128).toString(16).toUpperCase()+"%"+(u&63|128).toString(16).toUpperCase(),g}function Re(p){for(var u="",g=0,b=p.length;g<b;){var S=parseInt(p.substr(g+1,2),16);if(S<128)u+=String.fromCharCode(S),g+=3;else if(S>=194&&S<224){if(b-g>=6){var H=parseInt(p.substr(g+4,2),16);u+=String.fromCharCode((S&31)<<6|H&63)}else u+=p.substr(g,6);g+=6}else if(S>=224){if(b-g>=9){var J=parseInt(p.substr(g+4,2),16),oe=parseInt(p.substr(g+7,2),16);u+=String.fromCharCode((S&15)<<12|(J&63)<<6|oe&63)}else u+=p.substr(g,9);g+=9}else u+=p.substr(g,3),g+=3}return u}function ve(p,u){function g(b){var S=Re(b);return S.match(u.UNRESERVED)?S:b}return p.scheme&&(p.scheme=String(p.scheme).replace(u.PCT_ENCODED,g).toLowerCase().replace(u.NOT_SCHEME,"")),p.userinfo!==void 0&&(p.userinfo=String(p.userinfo).replace(u.PCT_ENCODED,g).replace(u.NOT_USERINFO,Pe).replace(u.PCT_ENCODED,o)),p.host!==void 0&&(p.host=String(p.host).replace(u.PCT_ENCODED,g).toLowerCase().replace(u.NOT_HOST,Pe).replace(u.PCT_ENCODED,o)),p.path!==void 0&&(p.path=String(p.path).replace(u.PCT_ENCODED,g).replace(p.scheme?u.NOT_PATH:u.NOT_PATH_NOSCHEME,Pe).replace(u.PCT_ENCODED,o)),p.query!==void 0&&(p.query=String(p.query).replace(u.PCT_ENCODED,g).replace(u.NOT_QUERY,Pe).replace(u.PCT_ENCODED,o)),p.fragment!==void 0&&(p.fragment=String(p.fragment).replace(u.PCT_ENCODED,g).replace(u.NOT_FRAGMENT,Pe).replace(u.PCT_ENCODED,o)),p}function ue(p){return p.replace(/^0*(.*)/,"$1")||"0"}function Ie(p,u){var g=p.match(u.IPV4ADDRESS)||[],b=m(g,2),S=b[1];return S?S.split(".").map(ue).join("."):p}function de(p,u){var g=p.match(u.IPV6ADDRESS)||[],b=m(g,3),S=b[1],H=b[2];if(S){for(var J=S.toLowerCase().split("::").reverse(),oe=m(J,2),he=oe[0],_e=oe[1],ae=_e?_e.split(":").map(ue):[],fe=he.split(":").map(ue),we=u.IPV4ADDRESS.test(fe[fe.length-1]),X=we?7:8,pe=fe.length-X,$e=Array(X),ge=0;ge<X;++ge)$e[ge]=ae[ge]||fe[pe+ge]||"";we&&($e[X-1]=Ie($e[X-1],u));var Ge=$e.reduce(function(Te,ke,tr){if(!ke||ke==="0"){var Je=Te[Te.length-1];Je&&Je.index+Je.length===tr?Je.length++:Te.push({index:tr,length:1})}return Te},[]),Me=Ge.sort(function(Te,ke){return ke.length-Te.length})[0],qe=void 0;if(Me&&Me.length>1){var vr=$e.slice(0,Me.index),ar=$e.slice(Me.index+Me.length);qe=vr.join(":")+"::"+ar.join(":")}else qe=$e.join(":");return H&&(qe+="%"+H),qe}else return p}var ce=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,M="".match(/(){0}/)[1]===void 0;function q(p){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g={},b=u.iri!==!1?h:f;u.reference==="suffix"&&(p=(u.scheme?u.scheme+":":"")+"//"+p);var S=p.match(ce);if(S){M?(g.scheme=S[1],g.userinfo=S[3],g.host=S[4],g.port=parseInt(S[5],10),g.path=S[6]||"",g.query=S[7],g.fragment=S[8],isNaN(g.port)&&(g.port=S[5])):(g.scheme=S[1]||void 0,g.userinfo=p.indexOf("@")!==-1?S[3]:void 0,g.host=p.indexOf("//")!==-1?S[4]:void 0,g.port=parseInt(S[5],10),g.path=S[6]||"",g.query=p.indexOf("?")!==-1?S[7]:void 0,g.fragment=p.indexOf("#")!==-1?S[8]:void 0,isNaN(g.port)&&(g.port=p.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?S[4]:void 0)),g.host&&(g.host=de(Ie(g.host,b),b)),g.scheme===void 0&&g.userinfo===void 0&&g.host===void 0&&g.port===void 0&&!g.path&&g.query===void 0?g.reference="same-document":g.scheme===void 0?g.reference="relative":g.fragment===void 0?g.reference="absolute":g.reference="uri",u.reference&&u.reference!=="suffix"&&u.reference!==g.reference&&(g.error=g.error||"URI is not a "+u.reference+" reference.");var H=le[(u.scheme||g.scheme||"").toLowerCase()];if(!u.unicodeSupport&&(!H||!H.unicodeSupport)){if(g.host&&(u.domainHost||H&&H.domainHost))try{g.host=De.toASCII(g.host.replace(b.PCT_ENCODED,Re).toLowerCase())}catch(J){g.error=g.error||"Host's domain name can not be converted to ASCII via punycode: "+J}ve(g,f)}else ve(g,b);H&&H.parse&&H.parse(g,u)}else g.error=g.error||"URI can not be parsed.";return g}function Y(p,u){var g=u.iri!==!1?h:f,b=[];return p.userinfo!==void 0&&(b.push(p.userinfo),b.push("@")),p.host!==void 0&&b.push(de(Ie(String(p.host),g),g).replace(g.IPV6ADDRESS,function(S,H,J){return"["+H+(J?"%25"+J:"")+"]"})),(typeof p.port=="number"||typeof p.port=="string")&&(b.push(":"),b.push(String(p.port))),b.length?b.join(""):void 0}var ie=/^\.\.?\//,ne=/^\/\.(\/|$)/,re=/^\/\.\.(\/|$)/,se=/^\/?(?:.|\n)*?(?=\/|$)/;function F(p){for(var u=[];p.length;)if(p.match(ie))p=p.replace(ie,"");else if(p.match(ne))p=p.replace(ne,"/");else if(p.match(re))p=p.replace(re,"/"),u.pop();else if(p==="."||p==="..")p="";else{var g=p.match(se);if(g){var b=g[0];p=p.slice(b.length),u.push(b)}else throw new Error("Unexpected dot segment condition")}return u.join("")}function W(p){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=u.iri?h:f,b=[],S=le[(u.scheme||p.scheme||"").toLowerCase()];if(S&&S.serialize&&S.serialize(p,u),p.host&&!g.IPV6ADDRESS.test(p.host)){if(u.domainHost||S&&S.domainHost)try{p.host=u.iri?De.toUnicode(p.host):De.toASCII(p.host.replace(g.PCT_ENCODED,Re).toLowerCase())}catch(oe){p.error=p.error||"Host's domain name can not be converted to "+(u.iri?"Unicode":"ASCII")+" via punycode: "+oe}}ve(p,g),u.reference!=="suffix"&&p.scheme&&(b.push(p.scheme),b.push(":"));var H=Y(p,u);if(H!==void 0&&(u.reference!=="suffix"&&b.push("//"),b.push(H),p.path&&p.path.charAt(0)!=="/"&&b.push("/")),p.path!==void 0){var J=p.path;!u.absolutePath&&(!S||!S.absolutePath)&&(J=F(J)),H===void 0&&(J=J.replace(/^\/\//,"/%2F")),b.push(J)}return p.query!==void 0&&(b.push("?"),b.push(p.query)),p.fragment!==void 0&&(b.push("#"),b.push(p.fragment)),b.join("")}function Ee(p,u){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments[3],S={};return b||(p=q(W(p,g),g),u=q(W(u,g),g)),g=g||{},!g.tolerant&&u.scheme?(S.scheme=u.scheme,S.userinfo=u.userinfo,S.host=u.host,S.port=u.port,S.path=F(u.path||""),S.query=u.query):(u.userinfo!==void 0||u.host!==void 0||u.port!==void 0?(S.userinfo=u.userinfo,S.host=u.host,S.port=u.port,S.path=F(u.path||""),S.query=u.query):(u.path?(u.path.charAt(0)==="/"?S.path=F(u.path):((p.userinfo!==void 0||p.host!==void 0||p.port!==void 0)&&!p.path?S.path="/"+u.path:p.path?S.path=p.path.slice(0,p.path.lastIndexOf("/")+1)+u.path:S.path=u.path,S.path=F(S.path)),S.query=u.query):(S.path=p.path,u.query!==void 0?S.query=u.query:S.query=p.query),S.userinfo=p.userinfo,S.host=p.host,S.port=p.port),S.scheme=p.scheme),S.fragment=u.fragment,S}function ze(p,u,g){var b=P({scheme:"null"},g);return W(Ee(q(p,b),q(u,b),b,!0),b)}function xe(p,u){return typeof p=="string"?p=W(q(p,u),u):s(p)==="object"&&(p=q(W(p,u),u)),p}function Ne(p,u,g){return typeof p=="string"?p=W(q(p,g),g):s(p)==="object"&&(p=W(p,g)),typeof u=="string"?u=W(q(u,g),g):s(u)==="object"&&(u=W(u,g)),p===u}function Fe(p,u){return p&&p.toString().replace(!u||!u.iri?f.ESCAPE:h.ESCAPE,Pe)}function Ke(p,u){return p&&p.toString().replace(!u||!u.iri?f.PCT_ENCODED:h.PCT_ENCODED,Re)}var br={scheme:"http",domainHost:!0,parse:function(u,g){return u.host||(u.error=u.error||"HTTP URIs must have a host."),u},serialize:function(u,g){var b=String(u.scheme).toLowerCase()==="https";return(u.port===(b?443:80)||u.port==="")&&(u.port=void 0),u.path||(u.path="/"),u}},vt={scheme:"https",domainHost:br.domainHost,parse:br.parse,serialize:br.serialize};function pt(p){return typeof p.secure=="boolean"?p.secure:String(p.scheme).toLowerCase()==="wss"}var _r={scheme:"ws",domainHost:!0,parse:function(u,g){var b=u;return b.secure=pt(b),b.resourceName=(b.path||"/")+(b.query?"?"+b.query:""),b.path=void 0,b.query=void 0,b},serialize:function(u,g){if((u.port===(pt(u)?443:80)||u.port==="")&&(u.port=void 0),typeof u.secure=="boolean"&&(u.scheme=u.secure?"wss":"ws",u.secure=void 0),u.resourceName){var b=u.resourceName.split("?"),S=m(b,2),H=S[0],J=S[1];u.path=H&&H!=="/"?H:void 0,u.query=J,u.resourceName=void 0}return u.fragment=void 0,u}},gt={scheme:"wss",domainHost:_r.domainHost,parse:_r.parse,serialize:_r.serialize},ps={},yt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ue="[0-9A-Fa-f]",gs=r(r("%[EFef]"+Ue+"%"+Ue+Ue+"%"+Ue+Ue)+"|"+r("%[89A-Fa-f]"+Ue+"%"+Ue+Ue)+"|"+r("%"+Ue+Ue)),ys="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ps="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Es=n(Ps,'[\\"\\\\]'),Ss="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",bs=new RegExp(yt,"g"),mr=new RegExp(gs,"g"),_s=new RegExp(n("[^]",ys,"[\\.]",'[\\"]',Es),"g"),Pt=new RegExp(n("[^]",yt,Ss),"g"),ws=Pt;function Ea(p){var u=Re(p);return u.match(bs)?u:p}var Et={scheme:"mailto",parse:function(u,g){var b=u,S=b.to=b.path?b.path.split(","):[];if(b.path=void 0,b.query){for(var H=!1,J={},oe=b.query.split("&"),he=0,_e=oe.length;he<_e;++he){var ae=oe[he].split("=");switch(ae[0]){case"to":for(var fe=ae[1].split(","),we=0,X=fe.length;we<X;++we)S.push(fe[we]);break;case"subject":b.subject=Ke(ae[1],g);break;case"body":b.body=Ke(ae[1],g);break;default:H=!0,J[Ke(ae[0],g)]=Ke(ae[1],g);break}}H&&(b.headers=J)}b.query=void 0;for(var pe=0,$e=S.length;pe<$e;++pe){var ge=S[pe].split("@");if(ge[0]=Ke(ge[0]),g.unicodeSupport)ge[1]=Ke(ge[1],g).toLowerCase();else try{ge[1]=De.toASCII(Ke(ge[1],g).toLowerCase())}catch(Ge){b.error=b.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ge}S[pe]=ge.join("@")}return b},serialize:function(u,g){var b=u,S=i(u.to);if(S){for(var H=0,J=S.length;H<J;++H){var oe=String(S[H]),he=oe.lastIndexOf("@"),_e=oe.slice(0,he).replace(mr,Ea).replace(mr,o).replace(_s,Pe),ae=oe.slice(he+1);try{ae=g.iri?De.toUnicode(ae):De.toASCII(Ke(ae,g).toLowerCase())}catch(pe){b.error=b.error||"Email address's domain name can not be converted to "+(g.iri?"Unicode":"ASCII")+" via punycode: "+pe}S[H]=_e+"@"+ae}b.path=S.join(",")}var fe=u.headers=u.headers||{};u.subject&&(fe.subject=u.subject),u.body&&(fe.body=u.body);var we=[];for(var X in fe)fe[X]!==ps[X]&&we.push(X.replace(mr,Ea).replace(mr,o).replace(Pt,Pe)+"="+fe[X].replace(mr,Ea).replace(mr,o).replace(ws,Pe));return we.length&&(b.query=we.join("&")),b}},$s=/^([^\:]+)\:(.*)/,St={scheme:"urn",parse:function(u,g){var b=u.path&&u.path.match($s),S=u;if(b){var H=g.scheme||S.scheme||"urn",J=b[1].toLowerCase(),oe=b[2],he=H+":"+(g.nid||J),_e=le[he];S.nid=J,S.nss=oe,S.path=void 0,_e&&(S=_e.parse(S,g))}else S.error=S.error||"URN can not be parsed.";return S},serialize:function(u,g){var b=g.scheme||u.scheme||"urn",S=u.nid,H=b+":"+(g.nid||S),J=le[H];J&&(u=J.serialize(u,g));var oe=u,he=u.nss;return oe.path=(S||g.nid)+":"+he,oe}},As=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,bt={scheme:"urn:uuid",parse:function(u,g){var b=u;return b.uuid=b.nss,b.nss=void 0,!g.tolerant&&(!b.uuid||!b.uuid.match(As))&&(b.error=b.error||"UUID is not valid."),b},serialize:function(u,g){var b=u;return b.nss=(u.uuid||"").toLowerCase(),b}};le[br.scheme]=br,le[vt.scheme]=vt,le[_r.scheme]=_r,le[gt.scheme]=gt,le[Et.scheme]=Et,le[St.scheme]=St,le[bt.scheme]=bt,t.SCHEMES=le,t.pctEncChar=Pe,t.pctDecChars=Re,t.parse=q,t.removeDotSegments=F,t.serialize=W,t.resolveComponents=Ee,t.resolve=ze,t.normalize=xe,t.equal=Ne,t.escapeComponent=Fe,t.unescapeComponent=Ke,Object.defineProperty(t,"__esModule",{value:!0})})})(za,za.exports);var To=za.exports,jo=function(e){for(var t=0,n=e.length,r=0,s;r<n;)t++,s=e.charCodeAt(r++),s>=55296&&s<=56319&&r<n&&(s=e.charCodeAt(r),(s&64512)==56320&&r++);return t},Sr={copy:zo,checkDataType:Ua,checkDataTypes:Uo,coerceToTypes:Mo,toHash:nt,getProperty:st,escapeQuotes:ot,equal:Za,ucs2length:jo,varOccurences:Bo,varReplace:Qo,schemaHasRules:Ho,schemaHasRulesExcept:Ko,schemaUnknownRules:Jo,toQuotedString:Ma,getPathExpr:Go,getPath:Wo,getData:Xo,unescapeFragment:ei,unescapeJsonPointer:lt,escapeFragment:ri,escapeJsonPointer:it};function zo(a,e){e=e||{};for(var t in a)e[t]=a[t];return e}function Ua(a,e,t,n){var r=n?" !== ":" === ",s=n?" || ":" && ",o=n?"!":"",i=n?"":"!";switch(a){case"null":return e+r+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+s+"typeof "+e+r+'"object"'+s+i+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+s+i+"("+e+" % 1)"+s+e+r+e+(t?s+o+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+a+'"'+(t?s+o+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+a+'"'}}function Uo(a,e,t){switch(a.length){case 1:return Ua(a[0],e,t,!0);default:var n="",r=nt(a);r.array&&r.object&&(n=r.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var s in r)n+=(n?" && ":"")+Ua(s,e,t,!0);return n}}var Mt=nt(["string","number","integer","boolean","null"]);function Mo(a,e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=e[n];(Mt[r]||a==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(Mt[e])return[e];if(a==="array"&&e==="array")return["array"]}}function nt(a){for(var e={},t=0;t<a.length;t++)e[a[t]]=!0;return e}var qo=/^[a-z$_][a-z$_0-9]*$/i,ko=/'|\\/g;function st(a){return typeof a=="number"?"["+a+"]":qo.test(a)?"."+a:"['"+ot(a)+"']"}function ot(a){return a.replace(ko,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Bo(a,e){e+="[^0-9]";var t=a.match(new RegExp(e,"g"));return t?t.length:0}function Qo(a,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),a.replace(new RegExp(e,"g"),t+"$1")}function Ho(a,e){if(typeof a=="boolean")return!a;for(var t in a)if(e[t])return!0}function Ko(a,e,t){if(typeof a=="boolean")return!a&&t!="not";for(var n in a)if(n!=t&&e[n])return!0}function Jo(a,e){if(typeof a!="boolean"){for(var t in a)if(!e[t])return t}}function Ma(a){return"'"+ot(a)+"'"}function Go(a,e,t,n){var r=t?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return Tn(a,r)}function Wo(a,e,t){var n=Ma(t?"/"+it(e):st(e));return Tn(a,n)}var Yo=/^\/(?:[^~]|~0|~1)*$/,Zo=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xo(a,e,t){var n,r,s,o;if(a==="")return"rootData";if(a[0]=="/"){if(!Yo.test(a))throw new Error("Invalid JSON-pointer: "+a);r=a,s="rootData"}else{if(o=a.match(Zo),!o)throw new Error("Invalid JSON-pointer: "+a);if(n=+o[1],r=o[2],r=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return t[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(s="data"+(e-n||""),!r)return s}for(var i=s,P=r.split("/"),d=0;d<P.length;d++){var f=P[d];f&&(s+=st(lt(f)),i+=" && "+s)}return i}function Tn(a,e){return a=='""'?e:(a+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function ei(a){return lt(decodeURIComponent(a))}function ri(a){return encodeURIComponent(it(a))}function it(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}function lt(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}var ai=Sr,jn=ti;function ti(a){ai.copy(a,this)}var zn={exports:{}},Ye=zn.exports=function(a,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};Jr(e,n,r,a,"",a)};Ye.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Ye.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ye.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ye.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Jr(a,e,t,n,r,s,o,i,P,d){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,r,s,o,i,P,d);for(var f in n){var h=n[f];if(Array.isArray(h)){if(f in Ye.arrayKeywords)for(var m=0;m<h.length;m++)Jr(a,e,t,h[m],r+"/"+f+"/"+m,s,r,f,n,m)}else if(f in Ye.propsKeywords){if(h&&typeof h=="object")for(var l in h)Jr(a,e,t,h[l],r+"/"+f+"/"+ni(l),s,r,f,n,l)}else(f in Ye.keywords||a.allKeys&&!(f in Ye.skipKeywords))&&Jr(a,e,t,h,r+"/"+f,s,r,f,n)}t(n,r,s,o,i,P,d)}}function ni(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}var si=zn.exports,Lr=To,qt=Za,va=Sr,ra=jn,oi=si,ut=rr;rr.normalizeId=Ze;rr.fullPath=aa;rr.url=ta;rr.ids=fi;rr.inlineRef=qa;rr.schema=pa;function rr(a,e,t){var n=this._refs[t];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return rr.call(this,a,e,n);if(n=n||this._schemas[t],n instanceof ra)return qa(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var r=pa.call(this,e,t),s,o,i;return r&&(s=r.schema,e=r.root,i=r.baseId),s instanceof ra?o=s.validate||a.call(this,s.schema,e,void 0,i):s!==void 0&&(o=qa(s,this._opts.inlineRefs)?s:a.call(this,s,e,void 0,i)),o}function pa(a,e){var t=Lr.parse(e),n=Mn(t),r=aa(this._getId(a.schema));if(Object.keys(a.schema).length===0||n!==r){var s=Ze(n),o=this._refs[s];if(typeof o=="string")return ii.call(this,a,o,t);if(o instanceof ra)o.validate||this._compile(o),a=o;else if(o=this._schemas[s],o instanceof ra){if(o.validate||this._compile(o),s==Ze(e))return{schema:o,root:a,baseId:r};a=o}else return;if(!a.schema)return;r=aa(this._getId(a.schema))}return Un.call(this,t,r,a.schema,a)}function ii(a,e,t){var n=pa.call(this,a,e);if(n){var r=n.schema,s=n.baseId;a=n.root;var o=this._getId(r);return o&&(s=ta(s,o)),Un.call(this,t,s,r,a)}}var li=va.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Un(a,e,t,n){if(a.fragment=a.fragment||"",a.fragment.slice(0,1)=="/"){for(var r=a.fragment.split("/"),s=1;s<r.length;s++){var o=r[s];if(o){if(o=va.unescapeFragment(o),t=t[o],t===void 0)break;var i;if(!li[o]&&(i=this._getId(t),i&&(e=ta(e,i)),t.$ref)){var P=ta(e,t.$ref),d=pa.call(this,n,P);d&&(t=d.schema,n=d.root,e=d.baseId)}}}if(t!==void 0&&t!==n.schema)return{schema:t,root:n,baseId:e}}}var ui=va.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function qa(a,e){if(e===!1)return!1;if(e===void 0||e===!0)return ka(a);if(e)return Ba(a)<=e}function ka(a){var e;if(Array.isArray(a)){for(var t=0;t<a.length;t++)if(e=a[t],typeof e=="object"&&!ka(e))return!1}else for(var n in a)if(n=="$ref"||(e=a[n],typeof e=="object"&&!ka(e)))return!1;return!0}function Ba(a){var e=0,t;if(Array.isArray(a)){for(var n=0;n<a.length;n++)if(t=a[n],typeof t=="object"&&(e+=Ba(t)),e==1/0)return 1/0}else for(var r in a){if(r=="$ref")return 1/0;if(ui[r])e++;else if(t=a[r],typeof t=="object"&&(e+=Ba(t)+1),e==1/0)return 1/0}return e}function aa(a,e){e!==!1&&(a=Ze(a));var t=Lr.parse(a);return Mn(t)}function Mn(a){return Lr.serialize(a).split("#")[0]+"#"}var ci=/#\/?$/;function Ze(a){return a?a.replace(ci,""):""}function ta(a,e){return e=Ze(e),Lr.resolve(a,e)}function fi(a){var e=Ze(this._getId(a)),t={"":e},n={"":aa(e,!1)},r={},s=this;return oi(a,{allKeys:!0},function(o,i,P,d,f,h,m){if(i!==""){var l=s._getId(o),c=t[d],y=n[d]+"/"+f;if(m!==void 0&&(y+="/"+(typeof m=="number"?m:va.escapeFragment(m))),typeof l=="string"){l=c=Ze(c?Lr.resolve(c,l):l);var v=s._refs[l];if(typeof v=="string"&&(v=s._refs[v]),v&&v.schema){if(!qt(o,v.schema))throw new Error('id "'+l+'" resolves to more than one schema')}else if(l!=Ze(y))if(l[0]=="#"){if(r[l]&&!qt(o,r[l]))throw new Error('id "'+l+'" resolves to more than one schema');r[l]=o}else s._refs[l]=y}t[i]=c,n[i]=y}}),r}var Aa=ut,ct={Validation:kt(di),MissingRef:kt(ft)};function di(a){this.message="validation failed",this.errors=a,this.ajv=this.validation=!0}ft.message=function(a,e){return"can't resolve reference "+e+" from id "+a};function ft(a,e,t){this.message=t||ft.message(a,e),this.missingRef=Aa.url(a,e),this.missingSchema=Aa.normalizeId(Aa.fullPath(this.missingRef))}function kt(a){return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}var qn=function(a,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(s){return function(o){return function(i,P){var d={key:i,value:o[i]},f={key:P,value:o[P]};return s(d,f)}}}(e.cmp),r=[];return function s(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var i,P;if(Array.isArray(o)){for(P="[",i=0;i<o.length;i++)i&&(P+=","),P+=s(o[i])||"null";return P+"]"}if(o===null)return"null";if(r.indexOf(o)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var d=r.push(o)-1,f=Object.keys(o).sort(n&&n(o));for(P="",i=0;i<f.length;i++){var h=f[i],m=s(o[h]);m&&(P&&(P+=","),P+=JSON.stringify(h)+":"+m)}return r.splice(d,1),"{"+P+"}"}}(a)},kn=function(e,t,n){var r="",s=e.schema.$async===!0,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),i=e.self._getId(e.schema);if(e.opts.strictKeywords){var P=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(P){var d="unknown keyword: "+P;if(e.opts.strictKeywords==="log")e.logger.warn(d);else throw new Error(d)}}if(e.isTop&&(r+=" var validate = ",s&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+i+" */")+" ")),typeof e.schema=="boolean"||!(o||e.schema.$ref)){var t="false schema",f=e.level,h=e.dataLevel,m=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,O=!e.opts.allErrors,$,y="data"+(h||""),I="valid"+f;if(e.schema===!1){e.isTop?O=!0:r+=" var "+I+" = false; ";var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+($||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),r+=" } "):r+=" {} ";var E=r;r=v.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+I+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var D=e.isTop,f=e.level=0,h=e.dataLevel=0,y="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var _="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(_);else throw new Error(_)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var f=e.level,h=e.dataLevel,y="data"+(h||"");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),s&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+f+" = errors;"}var I="valid"+f,O=!e.opts.allErrors,N="",z="",$,x=e.schema.type,C=Array.isArray(x);if(x&&e.opts.nullable&&e.schema.nullable===!0&&(C?x.indexOf("null")==-1&&(x=x.concat("null")):x!="null"&&(x=[x,"null"],C=!0)),C&&x.length==1&&(x=x[0],C=!1),e.schema.$ref&&o){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var V=e.util.coerceToTypes(e.opts.coerceTypes,x);var L=e.RULES.types[x];if(V||C||L===!0||L&&!ne(L)){var l=e.schemaPath+".type",c=e.errSchemaPath+"/type",l=e.schemaPath+".type",c=e.errSchemaPath+"/type",R=C?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[R](x,y,e.opts.strictNumbers,!0)+") { ",V){var A="dataType"+f,k="coerced"+f;r+=" var "+A+" = typeof "+y+"; var "+k+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+A+" == 'object' && Array.isArray("+y+") && "+y+".length == 1) { "+y+" = "+y+"[0]; "+A+" = typeof "+y+"; if ("+e.util.checkDataType(e.schema.type,y,e.opts.strictNumbers)+") "+k+" = "+y+"; } "),r+=" if ("+k+" !== undefined) ; ";var j=V;if(j)for(var T,K=-1,Q=j.length-1;K<Q;)T=j[K+=1],T=="string"?r+=" else if ("+A+" == 'number' || "+A+" == 'boolean') "+k+" = '' + "+y+"; else if ("+y+" === null) "+k+" = ''; ":T=="number"||T=="integer"?(r+=" else if ("+A+" == 'boolean' || "+y+" === null || ("+A+" == 'string' && "+y+" && "+y+" == +"+y+" ",T=="integer"&&(r+=" && !("+y+" % 1)"),r+=")) "+k+" = +"+y+"; "):T=="boolean"?r+=" else if ("+y+" === 'false' || "+y+" === 0 || "+y+" === null) "+k+" = false; else if ("+y+" === 'true' || "+y+" === 1) "+k+" = true; ":T=="null"?r+=" else if ("+y+" === '' || "+y+" === 0 || "+y+" === false) "+k+" = null; ":e.opts.coerceTypes=="array"&&T=="array"&&(r+=" else if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+y+" == null) "+k+" = ["+y+"]; ");r+=" else {   ";var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+($||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",C?r+=""+x.join(","):r+=""+x,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",C?r+=""+x.join(","):r+=""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),r+=" } "):r+=" {} ";var E=r;r=v.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+k+" !== undefined) {  ";var U=h?"data"+(h-1||""):"parentData",Z=h?e.dataPathArr[h]:"parentDataProperty";r+=" "+y+" = "+k+"; ",h||(r+="if ("+U+" !== undefined)"),r+=" "+U+"["+Z+"] = "+k+"; } "}else{var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+($||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",C?r+=""+x.join(","):r+=""+x,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",C?r+=""+x.join(","):r+=""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),r+=" } "):r+=" {} ";var E=r;r=v.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",O&&(r+=" } if (errors === ",D?r+="0":r+="errs_"+f,r+=") { ",z+="}");else{var te=e.RULES;if(te){for(var L,ye=-1,G=te.length-1;ye<G;)if(L=te[ye+=1],ne(L)){if(L.type&&(r+=" if ("+e.util.checkDataType(L.type,y,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(L.type=="object"&&e.schema.properties){var m=e.schema.properties,Ae=Object.keys(m),De=Ae;if(De)for(var le,Pe=-1,Re=De.length-1;Pe<Re;){le=De[Pe+=1];var ve=m[le];if(ve.default!==void 0){var ue=y+e.util.getProperty(le);if(e.compositeRule){if(e.opts.strictDefaults){var _="default is ignored for: "+ue;if(e.opts.strictDefaults==="log")e.logger.warn(_);else throw new Error(_)}}else r+=" if ("+ue+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+ue+" === null || "+ue+" === '' "),r+=" ) "+ue+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(ve.default)+" ":r+=" "+JSON.stringify(ve.default)+" ",r+="; "}}}else if(L.type=="array"&&Array.isArray(e.schema.items)){var Ie=e.schema.items;if(Ie){for(var ve,K=-1,de=Ie.length-1;K<de;)if(ve=Ie[K+=1],ve.default!==void 0){var ue=y+"["+K+"]";if(e.compositeRule){if(e.opts.strictDefaults){var _="default is ignored for: "+ue;if(e.opts.strictDefaults==="log")e.logger.warn(_);else throw new Error(_)}}else r+=" if ("+ue+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+ue+" === null || "+ue+" === '' "),r+=" ) "+ue+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(ve.default)+" ":r+=" "+JSON.stringify(ve.default)+" ",r+="; "}}}}var ce=L.rules;if(ce){for(var M,q=-1,Y=ce.length-1;q<Y;)if(M=ce[q+=1],re(M)){var ie=M.code(e,M.keyword,L.type);ie&&(r+=" "+ie+" ",O&&(N+="}"))}}if(O&&(r+=" "+N+" ",N=""),L.type&&(r+=" } ",x&&x===L.type&&!V)){r+=" else { ";var l=e.schemaPath+".type",c=e.errSchemaPath+"/type",v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+($||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",C?r+=""+x.join(","):r+=""+x,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",C?r+=""+x.join(","):r+=""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),r+=" } "):r+=" {} ";var E=r;r=v.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}O&&(r+=" if (errors === ",D?r+="0":r+="errs_"+f,r+=") { ",z+="}")}}}O&&(r+=" "+z+" "),D?(s?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+I+" = errors === errs_"+f+";";function ne(F){for(var W=F.rules,Ee=0;Ee<W.length;Ee++)if(re(W[Ee]))return!0}function re(F){return e.schema[F.keyword]!==void 0||F.implements&&se(F)}function se(F){for(var W=F.implements,Ee=0;Ee<W.length;Ee++)if(e.schema[W[Ee]]!==void 0)return!0}return r},qr=ut,na=Sr,Bn=ct,hi=qn,Bt=kn,mi=na.ucs2length,vi=Za,pi=Bn.Validation,gi=Qa;function Qa(a,e,t,n){var r=this,s=this._opts,o=[void 0],i={},P=[],d={},f=[],h={},m=[];e=e||{schema:a,refVal:o,refs:i};var l=yi.call(this,a,e,n),c=this._compilations[l.index];if(l.compiling)return c.callValidate=_;var y=this._formats,v=this.RULES;try{var E=I(a,e,t,n);c.validate=E;var D=c.callValidate;return D&&(D.schema=E.schema,D.errors=null,D.refs=E.refs,D.refVal=E.refVal,D.root=E.root,D.$async=E.$async,s.sourceCode&&(D.source=E.source)),E}finally{Pi.call(this,a,e,n)}function _(){var R=c.validate,A=R.apply(this,arguments);return _.errors=R.errors,A}function I(R,A,k,j){var T=!A||A&&A.schema==R;if(A.schema!=e.schema)return Qa.call(r,R,A,k,j);var K=R.$async===!0,Q=Bt({isTop:!0,schema:R,isRoot:T,baseId:j,root:A,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Bn.MissingRef,RULES:v,validate:Bt,util:na,resolve:qr,resolveRef:O,usePattern:C,useDefault:V,useCustomRule:L,opts:s,formats:y,logger:r.logger,self:r});Q=kr(o,bi)+kr(P,Ei)+kr(f,Si)+kr(m,_i)+Q,s.processCode&&(Q=s.processCode(Q,R));var U;try{var Z=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Q);U=Z(r,v,y,e,o,f,m,vi,mi,pi),o[0]=U}catch(te){throw r.logger.error("Error compiling schema, function code:",Q),te}return U.schema=R,U.errors=null,U.refs=i,U.refVal=o,U.root=T?U:A,K&&(U.$async=!0),s.sourceCode===!0&&(U.source={code:Q,patterns:P,defaults:f}),U}function O(R,A,k){A=qr.url(R,A);var j=i[A],T,K;if(j!==void 0)return T=o[j],K="refVal["+j+"]",x(T,K);if(!k&&e.refs){var Q=e.refs[A];if(Q!==void 0)return T=e.refVal[Q],K=N(A,T),x(T,K)}K=N(A);var U=qr.call(r,I,e,A);if(U===void 0){var Z=t&&t[A];Z&&(U=qr.inlineRef(Z,s.inlineRefs)?Z:Qa.call(r,Z,e,t,R))}if(U===void 0)z(A);else return $(A,U),x(U,K)}function N(R,A){var k=o.length;return o[k]=A,i[R]=k,"refVal"+k}function z(R){delete i[R]}function $(R,A){var k=i[R];o[k]=A}function x(R,A){return typeof R=="object"||typeof R=="boolean"?{code:A,schema:R,inline:!0}:{code:A,$async:R&&!!R.$async}}function C(R){var A=d[R];return A===void 0&&(A=d[R]=P.length,P[A]=R),"pattern"+A}function V(R){switch(typeof R){case"boolean":case"number":return""+R;case"string":return na.toQuotedString(R);case"object":if(R===null)return"null";var A=hi(R),k=h[A];return k===void 0&&(k=h[A]=f.length,f[k]=R),"default"+k}}function L(R,A,k,j){if(r._opts.validateSchema!==!1){var T=R.definition.dependencies;if(T&&!T.every(function(De){return Object.prototype.hasOwnProperty.call(k,De)}))throw new Error("parent schema must have all required keywords: "+T.join(","));var K=R.definition.validateSchema;if(K){var Q=K(A);if(!Q){var U="keyword schema is invalid: "+r.errorsText(K.errors);if(r._opts.validateSchema=="log")r.logger.error(U);else throw new Error(U)}}}var Z=R.definition.compile,te=R.definition.inline,ye=R.definition.macro,G;if(Z)G=Z.call(r,A,k,j);else if(ye)G=ye.call(r,A,k,j),s.validateSchema!==!1&&r.validateSchema(G,!0);else if(te)G=te.call(r,j,R.keyword,A,k);else if(G=R.definition.validate,!G)return;if(G===void 0)throw new Error('custom keyword "'+R.keyword+'"failed to compile');var Ae=m.length;return m[Ae]=G,{code:"customRule"+Ae,validate:G}}}function yi(a,e,t){var n=Qn.call(this,a,e,t);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:a,root:e,baseId:t},{index:n,compiling:!1})}function Pi(a,e,t){var n=Qn.call(this,a,e,t);n>=0&&this._compilations.splice(n,1)}function Qn(a,e,t){for(var n=0;n<this._compilations.length;n++){var r=this._compilations[n];if(r.schema==a&&r.root==e&&r.baseId==t)return n}return-1}function Ei(a,e){return"var pattern"+a+" = new RegExp("+na.toQuotedString(e[a])+");"}function Si(a){return"var default"+a+" = defaults["+a+"];"}function bi(a,e){return e[a]===void 0?"":"var refVal"+a+" = refVal["+a+"];"}function _i(a){return"var customRule"+a+" = customRules["+a+"];"}function kr(a,e){if(!a.length)return"";for(var t="",n=0;n<a.length;n++)t+=e(n,a);return t}var Hn={exports:{}},ga=Hn.exports=function(){this._cache={}};ga.prototype.put=function(e,t){this._cache[e]=t};ga.prototype.get=function(e){return this._cache[e]};ga.prototype.del=function(e){delete this._cache[e]};ga.prototype.clear=function(){this._cache={}};var wi=Hn.exports,$i=Sr,Ai=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Di=[0,31,28,31,30,31,30,31,31,30,31,30,31],Ri=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Kn=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Ii=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Oi=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Jn=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Gn=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Wn=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Yn=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Zn=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Xn=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,xi=ya;function ya(a){return a=a=="full"?"full":"fast",$i.copy(ya[a])}ya.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Jn,url:Gn,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Kn,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:as,uuid:Wn,"json-pointer":Yn,"json-pointer-uri-fragment":Zn,"relative-json-pointer":Xn};ya.full={date:es,time:rs,"date-time":Ci,uri:Li,"uri-reference":Oi,"uri-template":Jn,url:Gn,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Kn,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:as,uuid:Wn,"json-pointer":Yn,"json-pointer-uri-fragment":Zn,"relative-json-pointer":Xn};function Ni(a){return a%4===0&&(a%100!==0||a%400===0)}function es(a){var e=a.match(Ai);if(!e)return!1;var t=+e[1],n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(n==2&&Ni(t)?29:Di[n])}function rs(a,e){var t=a.match(Ri);if(!t)return!1;var n=t[1],r=t[2],s=t[3],o=t[5];return(n<=23&&r<=59&&s<=59||n==23&&r==59&&s==60)&&(!e||o)}var Fi=/t|\s/i;function Ci(a){var e=a.split(Fi);return e.length==2&&es(e[0])&&rs(e[1],!0)}var Vi=/\/|:/;function Li(a){return Vi.test(a)&&Ii.test(a)}var Ti=/[^\\]\\Z/;function as(a){if(Ti.test(a))return!1;try{return new RegExp(a),!0}catch{return!1}}var ji=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,f="data"+(o||""),h="valid"+s,m,l;if(i=="#"||i=="#/")e.isRoot?(m=e.async,l="validate"):(m=e.root.schema.$async===!0,l="root.refVal[0]");else{var c=e.resolveRef(e.baseId,i,e.isRoot);if(c===void 0){var y=e.MissingRefError.message(e.baseId,i);if(e.opts.missingRefs=="fail"){e.logger.error(y);var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { ref: '"+e.util.escapeQuotes(i)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(i)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(i)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var E=r;r=v.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(y),d&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,i,y)}else if(c.inline){var D=e.util.copy(e);D.level++;var _="valid"+D.level;D.schema=c.schema,D.schemaPath="",D.errSchemaPath=i;var I=e.validate(D).replace(/validate\.schema/g,c.code);r+=" "+I+" ",d&&(r+=" if ("+_+") { ")}else m=c.$async===!0||e.async&&c.$async!==!1,l=c.code}if(l){var v=v||[];v.push(r),r="",e.opts.passContext?r+=" "+l+".call(this, ":r+=" "+l+"( ",r+=" "+f+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var O=o?"data"+(o-1||""):"parentData",N=o?e.dataPathArr[o]:"parentDataProperty";r+=" , "+O+" , "+N+", rootData)  ";var z=r;if(r=v.pop(),m){if(!e.async)throw new Error("async schema referenced by sync schema");d&&(r+=" var "+h+"; "),r+=" try { await "+z+"; ",d&&(r+=" "+h+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(r+=" "+h+" = false; "),r+=" } ",d&&(r+=" if ("+h+") { ")}else r+=" if (!"+z+") { if (vErrors === null) vErrors = "+l+".errors; else vErrors = vErrors.concat("+l+".errors); errors = vErrors.length; } ",d&&(r+=" else { ")}return r},zi=function(e,t,n){var r=" ",s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),i=e.errSchemaPath+"/"+t,P=!e.opts.allErrors,d=e.util.copy(e),f="";d.level++;var h="valid"+d.level,m=d.baseId,l=!0,c=s;if(c)for(var y,v=-1,E=c.length-1;v<E;)y=c[v+=1],(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))&&(l=!1,d.schema=y,d.schemaPath=o+"["+v+"]",d.errSchemaPath=i+"/"+v,r+="  "+e.validate(d)+" ",d.baseId=m,P&&(r+=" if ("+h+") { ",f+="}"));return P&&(l?r+=" if (true) { ":r+=" "+f.slice(0,-1)+" "),r},Ui=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="valid"+s,l="errs__"+s,c=e.util.copy(e),y="";c.level++;var v="valid"+c.level,E=i.every(function($){return e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:e.util.schemaHasRules($,e.RULES.all)});if(E){var D=c.baseId;r+=" var "+l+" = errors; var "+m+" = false;  ";var _=e.compositeRule;e.compositeRule=c.compositeRule=!0;var I=i;if(I)for(var O,N=-1,z=I.length-1;N<z;)O=I[N+=1],c.schema=O,c.schemaPath=P+"["+N+"]",c.errSchemaPath=d+"/"+N,r+="  "+e.validate(c)+" ",c.baseId=D,r+=" "+m+" = "+m+" || "+v+"; if (!"+m+") { ",y+="}";e.compositeRule=c.compositeRule=_,r+=" "+y+" if (!"+m+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else f&&(r+=" if (true) { ");return r},Mi=function(e,t,n){var r=" ",s=e.schema[t],o=e.errSchemaPath+"/"+t;e.opts.allErrors;var i=e.util.toQuotedString(s);return e.opts.$comment===!0?r+=" console.log("+i+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+i+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r},qi=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="valid"+s,l=e.opts.$data&&i&&i.$data;l&&(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; "),l||(r+=" var schema"+s+" = validate.schema"+P+";"),r+="var "+m+" = equal("+h+", schema"+s+"); if (!"+m+") {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { allowedValue: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var y=r;return r=c.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",f&&(r+=" else { "),r},ki=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="valid"+s,l="errs__"+s,c=e.util.copy(e),y="";c.level++;var v="valid"+c.level,E="i"+s,D=c.dataLevel=e.dataLevel+1,_="data"+D,I=e.baseId,O=e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all);if(r+="var "+l+" = errors;var "+m+";",O){var N=e.compositeRule;e.compositeRule=c.compositeRule=!0,c.schema=i,c.schemaPath=P,c.errSchemaPath=d,r+=" var "+v+" = false; for (var "+E+" = 0; "+E+" < "+h+".length; "+E+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,E,e.opts.jsonPointers,!0);var z=h+"["+E+"]";c.dataPathArr[D]=E;var $=e.validate(c);c.baseId=I,e.util.varOccurences($,_)<2?r+=" "+e.util.varReplace($,_,z)+" ":r+=" var "+_+" = "+z+"; "+$+" ",r+=" if ("+v+") break; }  ",e.compositeRule=c.compositeRule=N,r+=" "+y+" if (!"+v+") {"}else r+=" if ("+h+".length == 0) {";var x=x||[];x.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var C=r;return r=x.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",O&&(r+="  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},Bi=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="errs__"+s,l=e.util.copy(e),c="";l.level++;var y="valid"+l.level,v={},E={},D=e.opts.ownProperties;for(N in i)if(N!="__proto__"){var _=i[N],I=Array.isArray(_)?E:v;I[N]=_}r+="var "+m+" = errors;";var O=e.errorPath;r+="var missing"+s+";";for(var N in E)if(I=E[N],I.length){if(r+=" if ( "+h+e.util.getProperty(N)+" !== undefined ",D&&(r+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(N)+"') "),f){r+=" && ( ";var z=I;if(z)for(var $,x=-1,C=z.length-1;x<C;){$=z[x+=1],x&&(r+=" || ");var V=e.util.getProperty($),L=h+V;r+=" ( ( "+L+" === undefined ",D&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes($)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?$:V)+") ) "}r+=")) {  ";var R="missing"+s,A="' + "+R+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,R,!0):O+" + "+R);var k=k||[];k.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { property: '"+e.util.escapeQuotes(N)+"', missingProperty: '"+A+"', depsCount: "+I.length+", deps: '"+e.util.escapeQuotes(I.length==1?I[0]:I.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",I.length==1?r+="property "+e.util.escapeQuotes(I[0]):r+="properties "+e.util.escapeQuotes(I.join(", ")),r+=" when property "+e.util.escapeQuotes(N)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var j=r;r=k.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var T=I;if(T)for(var $,K=-1,Q=T.length-1;K<Q;){$=T[K+=1];var V=e.util.getProperty($),A=e.util.escapeQuotes($),L=h+V;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,$,e.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",D&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes($)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { property: '"+e.util.escapeQuotes(N)+"', missingProperty: '"+A+"', depsCount: "+I.length+", deps: '"+e.util.escapeQuotes(I.length==1?I[0]:I.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",I.length==1?r+="property "+e.util.escapeQuotes(I[0]):r+="properties "+e.util.escapeQuotes(I.join(", ")),r+=" when property "+e.util.escapeQuotes(N)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",f&&(c+="}",r+=" else { ")}e.errorPath=O;var U=l.baseId;for(var N in v){var _=v[N];(e.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:e.util.schemaHasRules(_,e.RULES.all))&&(r+=" "+y+" = true; if ( "+h+e.util.getProperty(N)+" !== undefined ",D&&(r+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(N)+"') "),r+=") { ",l.schema=_,l.schemaPath=P+e.util.getProperty(N),l.errSchemaPath=d+"/"+e.util.escapeFragment(N),r+="  "+e.validate(l)+" ",l.baseId=U,r+=" }  ",f&&(r+=" if ("+y+") { ",c+="}"))}return f&&(r+="   "+c+" if ("+m+" == errors) {"),r},Qi=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="valid"+s,l=e.opts.$data&&i&&i.$data;l&&(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var c="i"+s,y="schema"+s;l||(r+=" var "+y+" = validate.schema"+P+";"),r+="var "+m+";",l&&(r+=" if (schema"+s+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+s+")) "+m+" = false; else {"),r+=""+m+" = false;for (var "+c+"=0; "+c+"<"+y+".length; "+c+"++) if (equal("+h+", "+y+"["+c+"])) { "+m+" = true; break; }",l&&(r+="  }  "),r+=" if (!"+m+") {   ";var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var E=r;return r=v.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",f&&(r+=" else { "),r},Hi=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||"");if(e.opts.format===!1)return f&&(r+=" if (true) { "),r;var m=e.opts.$data&&i&&i.$data,l;m?(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",l="schema"+s):l=i;var c=e.opts.unknownFormats,y=Array.isArray(c);if(m){var v="format"+s,E="isObject"+s,D="formatType"+s;r+=" var "+v+" = formats["+l+"]; var "+E+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+D+" = "+E+" && "+v+".type || 'string'; if ("+E+") { ",e.async&&(r+=" var async"+s+" = "+v+".async; "),r+=" "+v+" = "+v+".validate; } if (  ",m&&(r+=" ("+l+" !== undefined && typeof "+l+" != 'string') || "),r+=" (",c!="ignore"&&(r+=" ("+l+" && !"+v+" ",y&&(r+=" && self._opts.unknownFormats.indexOf("+l+") == -1 "),r+=") || "),r+=" ("+v+" && "+D+" == '"+n+"' && !(typeof "+v+" == 'function' ? ",e.async?r+=" (async"+s+" ? await "+v+"("+h+") : "+v+"("+h+")) ":r+=" "+v+"("+h+") ",r+=" : "+v+".test("+h+"))))) {"}else{var v=e.formats[i];if(!v){if(c=="ignore")return e.logger.warn('unknown format "'+i+'" ignored in schema at path "'+e.errSchemaPath+'"'),f&&(r+=" if (true) { "),r;if(y&&c.indexOf(i)>=0)return f&&(r+=" if (true) { "),r;throw new Error('unknown format "'+i+'" is used in schema at path "'+e.errSchemaPath+'"')}var E=typeof v=="object"&&!(v instanceof RegExp)&&v.validate,D=E&&v.type||"string";if(E){var _=v.async===!0;v=v.validate}if(D!=n)return f&&(r+=" if (true) { "),r;if(_){if(!e.async)throw new Error("async format in sync schema");var I="formats"+e.util.getProperty(i)+".validate";r+=" if (!(await "+I+"("+h+"))) { "}else{r+=" if (! ";var I="formats"+e.util.getProperty(i);E&&(I+=".validate"),typeof v=="function"?r+=" "+I+"("+h+") ":r+=" "+I+".test("+h+") ",r+=") { "}}var O=O||[];O.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { format:  ",m?r+=""+l:r+=""+e.util.toQuotedString(i),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,m?r+="' + "+l+" + '":r+=""+e.util.escapeQuotes(i),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",m?r+="validate.schema"+P:r+=""+e.util.toQuotedString(i),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var N=r;return r=O.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+N+"]); ":r+=" validate.errors = ["+N+"]; return false; ":r+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",f&&(r+=" else { "),r},Ki=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="valid"+s,l="errs__"+s,c=e.util.copy(e);c.level++;var y="valid"+c.level,v=e.schema.then,E=e.schema.else,D=v!==void 0&&(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:e.util.schemaHasRules(v,e.RULES.all)),_=E!==void 0&&(e.opts.strictKeywords?typeof E=="object"&&Object.keys(E).length>0||E===!1:e.util.schemaHasRules(E,e.RULES.all)),I=c.baseId;if(D||_){var O;c.createErrors=!1,c.schema=i,c.schemaPath=P,c.errSchemaPath=d,r+=" var "+l+" = errors; var "+m+" = true;  ";var N=e.compositeRule;e.compositeRule=c.compositeRule=!0,r+="  "+e.validate(c)+" ",c.baseId=I,c.createErrors=!0,r+="  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; }  ",e.compositeRule=c.compositeRule=N,D?(r+=" if ("+y+") {  ",c.schema=e.schema.then,c.schemaPath=e.schemaPath+".then",c.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(c)+" ",c.baseId=I,r+=" "+m+" = "+y+"; ",D&&_?(O="ifClause"+s,r+=" var "+O+" = 'then'; "):O="'then'",r+=" } ",_&&(r+=" else { ")):r+=" if (!"+y+") { ",_&&(c.schema=e.schema.else,c.schemaPath=e.schemaPath+".else",c.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(c)+" ",c.baseId=I,r+=" "+m+" = "+y+"; ",D&&_?(O="ifClause"+s,r+=" var "+O+" = 'else'; "):O="'else'",r+=" } "),r+=" if (!"+m+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { failingKeyword: "+O+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+O+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",f&&(r+=" else { ")}else f&&(r+=" if (true) { ");return r},Ji=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="valid"+s,l="errs__"+s,c=e.util.copy(e),y="";c.level++;var v="valid"+c.level,E="i"+s,D=c.dataLevel=e.dataLevel+1,_="data"+D,I=e.baseId;if(r+="var "+l+" = errors;var "+m+";",Array.isArray(i)){var O=e.schema.additionalItems;if(O===!1){r+=" "+m+" = "+h+".length <= "+i.length+"; ";var N=d;d=e.errSchemaPath+"/additionalItems",r+="  if (!"+m+") {   ";var z=z||[];z.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+i.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var $=r;r=z.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+$+"]); ":r+=" validate.errors = ["+$+"]; return false; ":r+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",d=N,f&&(y+="}",r+=" else { ")}var x=i;if(x){for(var C,V=-1,L=x.length-1;V<L;)if(C=x[V+=1],e.opts.strictKeywords?typeof C=="object"&&Object.keys(C).length>0||C===!1:e.util.schemaHasRules(C,e.RULES.all)){r+=" "+v+" = true; if ("+h+".length > "+V+") { ";var R=h+"["+V+"]";c.schema=C,c.schemaPath=P+"["+V+"]",c.errSchemaPath=d+"/"+V,c.errorPath=e.util.getPathExpr(e.errorPath,V,e.opts.jsonPointers,!0),c.dataPathArr[D]=V;var A=e.validate(c);c.baseId=I,e.util.varOccurences(A,_)<2?r+=" "+e.util.varReplace(A,_,R)+" ":r+=" var "+_+" = "+R+"; "+A+" ",r+=" }  ",f&&(r+=" if ("+v+") { ",y+="}")}}if(typeof O=="object"&&(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))){c.schema=O,c.schemaPath=e.schemaPath+".additionalItems",c.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+v+" = true; if ("+h+".length > "+i.length+") {  for (var "+E+" = "+i.length+"; "+E+" < "+h+".length; "+E+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,E,e.opts.jsonPointers,!0);var R=h+"["+E+"]";c.dataPathArr[D]=E;var A=e.validate(c);c.baseId=I,e.util.varOccurences(A,_)<2?r+=" "+e.util.varReplace(A,_,R)+" ":r+=" var "+_+" = "+R+"; "+A+" ",f&&(r+=" if (!"+v+") break; "),r+=" } }  ",f&&(r+=" if ("+v+") { ",y+="}")}}else if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){c.schema=i,c.schemaPath=P,c.errSchemaPath=d,r+="  for (var "+E+" = 0; "+E+" < "+h+".length; "+E+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,E,e.opts.jsonPointers,!0);var R=h+"["+E+"]";c.dataPathArr[D]=E;var A=e.validate(c);c.baseId=I,e.util.varOccurences(A,_)<2?r+=" "+e.util.varReplace(A,_,R)+" ":r+=" var "+_+" = "+R+"; "+A+" ",f&&(r+=" if (!"+v+") break; "),r+=" }"}return f&&(r+=" "+y+" if ("+l+" == errors) {"),r},Qt=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,I,h="data"+(o||""),m=e.opts.$data&&i&&i.$data,l;m?(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",l="schema"+s):l=i;var c=t=="maximum",y=c?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[y],E=e.opts.$data&&v&&v.$data,D=c?"<":">",_=c?">":"<",I=void 0;if(!(m||typeof i=="number"||i===void 0))throw new Error(t+" must be number");if(!(E||v===void 0||typeof v=="number"||typeof v=="boolean"))throw new Error(y+" must be number or boolean");if(E){var O=e.util.getData(v.$data,o,e.dataPathArr),N="exclusive"+s,z="exclType"+s,$="exclIsNumber"+s,x="op"+s,C="' + "+x+" + '";r+=" var schemaExcl"+s+" = "+O+"; ",O="schemaExcl"+s,r+=" var "+N+"; var "+z+" = typeof "+O+"; if ("+z+" != 'boolean' && "+z+" != 'undefined' && "+z+" != 'number') { ";var I=y,V=V||[];V.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(I||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+y+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var L=r;r=V.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",m&&(r+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),r+=" "+z+" == 'number' ? ( ("+N+" = "+l+" === undefined || "+O+" "+D+"= "+l+") ? "+h+" "+_+"= "+O+" : "+h+" "+_+" "+l+" ) : ( ("+N+" = "+O+" === true) ? "+h+" "+_+"= "+l+" : "+h+" "+_+" "+l+" ) || "+h+" !== "+h+") { var op"+s+" = "+N+" ? '"+D+"' : '"+D+"='; ",i===void 0&&(I=y,d=e.errSchemaPath+"/"+y,l=O,m=E)}else{var $=typeof v=="number",C=D;if($&&m){var x="'"+C+"'";r+=" if ( ",m&&(r+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),r+=" ( "+l+" === undefined || "+v+" "+D+"= "+l+" ? "+h+" "+_+"= "+v+" : "+h+" "+_+" "+l+" ) || "+h+" !== "+h+") { "}else{$&&i===void 0?(N=!0,I=y,d=e.errSchemaPath+"/"+y,l=v,_+="="):($&&(l=Math[c?"min":"max"](v,i)),v===($?l:!0)?(N=!0,I=y,d=e.errSchemaPath+"/"+y,_+="="):(N=!1,C+="="));var x="'"+C+"'";r+=" if ( ",m&&(r+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),r+=" "+h+" "+_+" "+l+" || "+h+" !== "+h+") { "}}I=I||t;var V=V||[];V.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(I||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { comparison: "+x+", limit: "+l+", exclusive: "+N+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+C+" ",m?r+="' + "+l:r+=""+l+"'"),e.opts.verbose&&(r+=" , schema:  ",m?r+="validate.schema"+P:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var L=r;return r=V.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",f&&(r+=" else { "),r},Ht=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,y,h="data"+(o||""),m=e.opts.$data&&i&&i.$data,l;if(m?(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",l="schema"+s):l=i,!(m||typeof i=="number"))throw new Error(t+" must be number");var c=t=="maxItems"?">":"<";r+="if ( ",m&&(r+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),r+=" "+h+".length "+c+" "+l+") { ";var y=t,v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(y||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+l+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",m?r+="' + "+l+" + '":r+=""+i,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",m?r+="validate.schema"+P:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var E=r;return r=v.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",f&&(r+=" else { "),r},Kt=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,y,h="data"+(o||""),m=e.opts.$data&&i&&i.$data,l;if(m?(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",l="schema"+s):l=i,!(m||typeof i=="number"))throw new Error(t+" must be number");var c=t=="maxLength"?">":"<";r+="if ( ",m&&(r+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),e.opts.unicode===!1?r+=" "+h+".length ":r+=" ucs2length("+h+") ",r+=" "+c+" "+l+") { ";var y=t,v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(y||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+l+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",m?r+="' + "+l+" + '":r+=""+i,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",m?r+="validate.schema"+P:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var E=r;return r=v.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",f&&(r+=" else { "),r},Jt=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,y,h="data"+(o||""),m=e.opts.$data&&i&&i.$data,l;if(m?(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",l="schema"+s):l=i,!(m||typeof i=="number"))throw new Error(t+" must be number");var c=t=="maxProperties"?">":"<";r+="if ( ",m&&(r+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),r+=" Object.keys("+h+").length "+c+" "+l+") { ";var y=t,v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(y||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { limit: "+l+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",m?r+="' + "+l+" + '":r+=""+i,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",m?r+="validate.schema"+P:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var E=r;return r=v.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",f&&(r+=" else { "),r},Gi=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m=e.opts.$data&&i&&i.$data,l;if(m?(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",l="schema"+s):l=i,!(m||typeof i=="number"))throw new Error(t+" must be number");r+="var division"+s+";if (",m&&(r+=" "+l+" !== undefined && ( typeof "+l+" != 'number' || "),r+=" (division"+s+" = "+h+" / "+l+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+s+" !== parseInt(division"+s+") ",r+=" ) ",m&&(r+="  )  "),r+=" ) {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { multipleOf: "+l+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",m?r+="' + "+l:r+=""+l+"'"),e.opts.verbose&&(r+=" , schema:  ",m?r+="validate.schema"+P:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var y=r;return r=c.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",f&&(r+=" else { "),r},Wi=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="errs__"+s,l=e.util.copy(e);l.level++;var c="valid"+l.level;if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){l.schema=i,l.schemaPath=P,l.errSchemaPath=d,r+=" var "+m+" = errors;  ";var y=e.compositeRule;e.compositeRule=l.compositeRule=!0,l.createErrors=!1;var v;l.opts.allErrors&&(v=l.opts.allErrors,l.opts.allErrors=!1),r+=" "+e.validate(l)+" ",l.createErrors=!0,v&&(l.opts.allErrors=v),e.compositeRule=l.compositeRule=y,r+=" if ("+c+") {   ";var E=E||[];E.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var D=r;r=E.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f&&(r+=" if (false) { ");return r},Yi=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="valid"+s,l="errs__"+s,c=e.util.copy(e),y="";c.level++;var v="valid"+c.level,E=c.baseId,D="prevValid"+s,_="passingSchemas"+s;r+="var "+l+" = errors , "+D+" = false , "+m+" = false , "+_+" = null; ";var I=e.compositeRule;e.compositeRule=c.compositeRule=!0;var O=i;if(O)for(var N,z=-1,$=O.length-1;z<$;)N=O[z+=1],(e.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:e.util.schemaHasRules(N,e.RULES.all))?(c.schema=N,c.schemaPath=P+"["+z+"]",c.errSchemaPath=d+"/"+z,r+="  "+e.validate(c)+" ",c.baseId=E):r+=" var "+v+" = true; ",z&&(r+=" if ("+v+" && "+D+") { "+m+" = false; "+_+" = ["+_+", "+z+"]; } else { ",y+="}"),r+=" if ("+v+") { "+m+" = "+D+" = true; "+_+" = "+z+"; }";return e.compositeRule=c.compositeRule=I,r+=""+y+"if (!"+m+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { passingSchemas: "+_+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},Zi=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m=e.opts.$data&&i&&i.$data,l;m?(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",l="schema"+s):l=i;var c=m?"(new RegExp("+l+"))":e.usePattern(i);r+="if ( ",m&&(r+=" ("+l+" !== undefined && typeof "+l+" != 'string') || "),r+=" !"+c+".test("+h+") ) {   ";var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { pattern:  ",m?r+=""+l:r+=""+e.util.toQuotedString(i),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,m?r+="' + "+l+" + '":r+=""+e.util.escapeQuotes(i),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",m?r+="validate.schema"+P:r+=""+e.util.toQuotedString(i),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var v=r;return r=y.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",f&&(r+=" else { "),r},Xi=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="errs__"+s,l=e.util.copy(e),c="";l.level++;var y="valid"+l.level,v="key"+s,E="idx"+s,D=l.dataLevel=e.dataLevel+1,_="data"+D,I="dataProperties"+s,O=Object.keys(i||{}).filter(K),N=e.schema.patternProperties||{},z=Object.keys(N).filter(K),$=e.schema.additionalProperties,x=O.length||z.length,C=$===!1,V=typeof $=="object"&&Object.keys($).length,L=e.opts.removeAdditional,R=C||V||L,A=e.opts.ownProperties,k=e.baseId,j=e.schema.required;if(j&&!(e.opts.$data&&j.$data)&&j.length<e.opts.loopRequired)var T=e.util.toHash(j);function K(Ne){return Ne!=="__proto__"}if(r+="var "+m+" = errors;var "+y+" = true;",A&&(r+=" var "+I+" = undefined;"),R){if(A?r+=" "+I+" = "+I+" || Object.keys("+h+"); for (var "+E+"=0; "+E+"<"+I+".length; "+E+"++) { var "+v+" = "+I+"["+E+"]; ":r+=" for (var "+v+" in "+h+") { ",x){if(r+=" var isAdditional"+s+" = !(false ",O.length)if(O.length>8)r+=" || validate.schema"+P+".hasOwnProperty("+v+") ";else{var Q=O;if(Q)for(var U,Z=-1,te=Q.length-1;Z<te;)U=Q[Z+=1],r+=" || "+v+" == "+e.util.toQuotedString(U)+" "}if(z.length){var ye=z;if(ye)for(var G,Ae=-1,De=ye.length-1;Ae<De;)G=ye[Ae+=1],r+=" || "+e.usePattern(G)+".test("+v+") "}r+=" ); if (isAdditional"+s+") { "}if(L=="all")r+=" delete "+h+"["+v+"]; ";else{var le=e.errorPath,Pe="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),C)if(L)r+=" delete "+h+"["+v+"]; ";else{r+=" "+y+" = false; ";var Re=d;d=e.errSchemaPath+"/additionalProperties";var ve=ve||[];ve.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { additionalProperty: '"+Pe+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var ue=r;r=ve.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+ue+"]); ":r+=" validate.errors = ["+ue+"]; return false; ":r+=" var err = "+ue+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=Re,f&&(r+=" break; ")}else if(V)if(L=="failing"){r+=" var "+m+" = errors;  ";var Ie=e.compositeRule;e.compositeRule=l.compositeRule=!0,l.schema=$,l.schemaPath=e.schemaPath+".additionalProperties",l.errSchemaPath=e.errSchemaPath+"/additionalProperties",l.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var de=h+"["+v+"]";l.dataPathArr[D]=v;var ce=e.validate(l);l.baseId=k,e.util.varOccurences(ce,_)<2?r+=" "+e.util.varReplace(ce,_,de)+" ":r+=" var "+_+" = "+de+"; "+ce+" ",r+=" if (!"+y+") { errors = "+m+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+v+"]; }  ",e.compositeRule=l.compositeRule=Ie}else{l.schema=$,l.schemaPath=e.schemaPath+".additionalProperties",l.errSchemaPath=e.errSchemaPath+"/additionalProperties",l.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var de=h+"["+v+"]";l.dataPathArr[D]=v;var ce=e.validate(l);l.baseId=k,e.util.varOccurences(ce,_)<2?r+=" "+e.util.varReplace(ce,_,de)+" ":r+=" var "+_+" = "+de+"; "+ce+" ",f&&(r+=" if (!"+y+") break; ")}e.errorPath=le}x&&(r+=" } "),r+=" }  ",f&&(r+=" if ("+y+") { ",c+="}")}var M=e.opts.useDefaults&&!e.compositeRule;if(O.length){var q=O;if(q)for(var U,Y=-1,ie=q.length-1;Y<ie;){U=q[Y+=1];var ne=i[U];if(e.opts.strictKeywords?typeof ne=="object"&&Object.keys(ne).length>0||ne===!1:e.util.schemaHasRules(ne,e.RULES.all)){var re=e.util.getProperty(U),de=h+re,se=M&&ne.default!==void 0;l.schema=ne,l.schemaPath=P+re,l.errSchemaPath=d+"/"+e.util.escapeFragment(U),l.errorPath=e.util.getPath(e.errorPath,U,e.opts.jsonPointers),l.dataPathArr[D]=e.util.toQuotedString(U);var ce=e.validate(l);if(l.baseId=k,e.util.varOccurences(ce,_)<2){ce=e.util.varReplace(ce,_,de);var F=de}else{var F=_;r+=" var "+_+" = "+de+"; "}if(se)r+=" "+ce+" ";else{if(T&&T[U]){r+=" if ( "+F+" === undefined ",A&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(U)+"') "),r+=") { "+y+" = false; ";var le=e.errorPath,Re=d,W=e.util.escapeQuotes(U);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(le,U,e.opts.jsonPointers)),d=e.errSchemaPath+"/required";var ve=ve||[];ve.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+W+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+W+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var ue=r;r=ve.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+ue+"]); ":r+=" validate.errors = ["+ue+"]; return false; ":r+=" var err = "+ue+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=Re,e.errorPath=le,r+=" } else { "}else f?(r+=" if ( "+F+" === undefined ",A&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(U)+"') "),r+=") { "+y+" = true; } else { "):(r+=" if ("+F+" !== undefined ",A&&(r+=" &&   Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(U)+"') "),r+=" ) { ");r+=" "+ce+" } "}}f&&(r+=" if ("+y+") { ",c+="}")}}if(z.length){var Ee=z;if(Ee)for(var G,ze=-1,xe=Ee.length-1;ze<xe;){G=Ee[ze+=1];var ne=N[G];if(e.opts.strictKeywords?typeof ne=="object"&&Object.keys(ne).length>0||ne===!1:e.util.schemaHasRules(ne,e.RULES.all)){l.schema=ne,l.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(G),l.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(G),A?r+=" "+I+" = "+I+" || Object.keys("+h+"); for (var "+E+"=0; "+E+"<"+I+".length; "+E+"++) { var "+v+" = "+I+"["+E+"]; ":r+=" for (var "+v+" in "+h+") { ",r+=" if ("+e.usePattern(G)+".test("+v+")) { ",l.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var de=h+"["+v+"]";l.dataPathArr[D]=v;var ce=e.validate(l);l.baseId=k,e.util.varOccurences(ce,_)<2?r+=" "+e.util.varReplace(ce,_,de)+" ":r+=" var "+_+" = "+de+"; "+ce+" ",f&&(r+=" if (!"+y+") break; "),r+=" } ",f&&(r+=" else "+y+" = true; "),r+=" }  ",f&&(r+=" if ("+y+") { ",c+="}")}}}return f&&(r+=" "+c+" if ("+m+" == errors) {"),r},el=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="errs__"+s,l=e.util.copy(e),c="";l.level++;var y="valid"+l.level;if(r+="var "+m+" = errors;",e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){l.schema=i,l.schemaPath=P,l.errSchemaPath=d;var v="key"+s,E="idx"+s,D="i"+s,_="' + "+v+" + '",I=l.dataLevel=e.dataLevel+1,O="data"+I,N="dataProperties"+s,z=e.opts.ownProperties,$=e.baseId;z&&(r+=" var "+N+" = undefined; "),z?r+=" "+N+" = "+N+" || Object.keys("+h+"); for (var "+E+"=0; "+E+"<"+N+".length; "+E+"++) { var "+v+" = "+N+"["+E+"]; ":r+=" for (var "+v+" in "+h+") { ",r+=" var startErrs"+s+" = errors; ";var x=v,C=e.compositeRule;e.compositeRule=l.compositeRule=!0;var V=e.validate(l);l.baseId=$,e.util.varOccurences(V,O)<2?r+=" "+e.util.varReplace(V,O,x)+" ":r+=" var "+O+" = "+x+"; "+V+" ",e.compositeRule=l.compositeRule=C,r+=" if (!"+y+") { for (var "+D+"=startErrs"+s+"; "+D+"<errors; "+D+"++) { vErrors["+D+"].propertyName = "+v+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { propertyName: '"+_+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+_+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),f&&(r+=" break; "),r+=" } }"}return f&&(r+=" "+c+" if ("+m+" == errors) {"),r},rl=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="valid"+s,l=e.opts.$data&&i&&i.$data;l&&(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var c="schema"+s;if(!l)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var y=[],v=i;if(v)for(var E,D=-1,_=v.length-1;D<_;){E=v[D+=1];var I=e.schema.properties[E];I&&(e.opts.strictKeywords?typeof I=="object"&&Object.keys(I).length>0||I===!1:e.util.schemaHasRules(I,e.RULES.all))||(y[y.length]=E)}}else var y=i;if(l||y.length){var O=e.errorPath,N=l||y.length>=e.opts.loopRequired,z=e.opts.ownProperties;if(f)if(r+=" var missing"+s+"; ",N){l||(r+=" var "+c+" = validate.schema"+P+"; ");var $="i"+s,x="schema"+s+"["+$+"]",C="' + "+x+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,x,e.opts.jsonPointers)),r+=" var "+m+" = true; ",l&&(r+=" if (schema"+s+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+s+")) "+m+" = false; else {"),r+=" for (var "+$+" = 0; "+$+" < "+c+".length; "+$+"++) { "+m+" = "+h+"["+c+"["+$+"]] !== undefined ",z&&(r+=" &&   Object.prototype.hasOwnProperty.call("+h+", "+c+"["+$+"]) "),r+="; if (!"+m+") break; } ",l&&(r+="  }  "),r+="  if (!"+m+") {   ";var V=V||[];V.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var L=r;r=V.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var R=y;if(R)for(var A,$=-1,k=R.length-1;$<k;){A=R[$+=1],$&&(r+=" || ");var j=e.util.getProperty(A),T=h+j;r+=" ( ( "+T+" === undefined ",z&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(A)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?A:j)+") ) "}r+=") {  ";var x="missing"+s,C="' + "+x+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,x,!0):O+" + "+x);var V=V||[];V.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var L=r;r=V.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(N){l||(r+=" var "+c+" = validate.schema"+P+"; ");var $="i"+s,x="schema"+s+"["+$+"]",C="' + "+x+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,x,e.opts.jsonPointers)),l&&(r+=" if ("+c+" && !Array.isArray("+c+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+c+" !== undefined) { "),r+=" for (var "+$+" = 0; "+$+" < "+c+".length; "+$+"++) { if ("+h+"["+c+"["+$+"]] === undefined ",z&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", "+c+"["+$+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",l&&(r+="  }  ")}else{var K=y;if(K)for(var A,Q=-1,U=K.length-1;Q<U;){A=K[Q+=1];var j=e.util.getProperty(A),C=e.util.escapeQuotes(A),T=h+j;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,A,e.opts.jsonPointers)),r+=" if ( "+T+" === undefined ",z&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(A)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=O}else f&&(r+=" if (true) {");return r},al=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(o||""),m="valid"+s,l=e.opts.$data&&i&&i.$data,c;if(l?(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",c="schema"+s):c=i,(i||l)&&e.opts.uniqueItems!==!1){l&&(r+=" var "+m+"; if ("+c+" === false || "+c+" === undefined) "+m+" = true; else if (typeof "+c+" != 'boolean') "+m+" = false; else { "),r+=" var i = "+h+".length , "+m+" = true , j; if (i > 1) { ";var y=e.schema.items&&e.schema.items.type,v=Array.isArray(y);if(!y||y=="object"||y=="array"||v&&(y.indexOf("object")>=0||y.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+m+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var E="checkDataType"+(v?"s":"");r+=" if ("+e.util[E](y,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+m+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",l&&(r+="  }  "),r+=" if (!"+m+") {   ";var D=D||[];D.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",l?r+="validate.schema"+P:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var _=r;r=D.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",f&&(r+=" else { ")}else f&&(r+=" if (true) { ");return r},tl={$ref:ji,allOf:zi,anyOf:Ui,$comment:Mi,const:qi,contains:ki,dependencies:Bi,enum:Qi,format:Hi,if:Ki,items:Ji,maximum:Qt,minimum:Qt,maxItems:Ht,minItems:Ht,maxLength:Kt,minLength:Kt,maxProperties:Jt,minProperties:Jt,multipleOf:Gi,not:Wi,oneOf:Yi,pattern:Zi,properties:Xi,propertyNames:el,required:rl,uniqueItems:al,validate:kn},Gt=tl,Da=Sr.toHash,nl=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=Da(t),e.types=Da(r),e.forEach(function(s){s.rules=s.rules.map(function(o){var i;if(typeof o=="object"){var P=Object.keys(o)[0];i=o[P],o=P,i.forEach(function(f){t.push(f),e.all[f]=!0})}t.push(o);var d=e.all[o]={keyword:o,code:Gt[o],implements:i};return d}),e.all.$comment={keyword:"$comment",code:Gt.$comment},s.type&&(e.types[s.type]=s)}),e.keywords=Da(t.concat(n)),e.custom={},e},Wt=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],sl=function(a,e){for(var t=0;t<e.length;t++){a=JSON.parse(JSON.stringify(a));var n=e[t].split("/"),r=a,s;for(s=1;s<n.length;s++)r=r[n[s]];for(s=0;s<Wt.length;s++){var o=Wt[s],i=r[o];i&&(r[o]={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a},ol=ct.MissingRef,il=ts;function ts(a,e,t){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=s(a).then(function(){var i=n._addSchema(a,void 0,e);return i.validate||o(i)});return t&&r.then(function(i){t(null,i)},t),r;function s(i){var P=i.$schema;return P&&!n.getSchema(P)?ts.call(n,{$ref:P},!0):Promise.resolve()}function o(i){try{return n._compile(i)}catch(d){if(d instanceof ol)return P(d);throw d}function P(d){var f=d.missingSchema;if(l(f))throw new Error("Schema "+f+" is loaded but "+d.missingRef+" cannot be resolved");var h=n._loadingSchemas[f];return h||(h=n._loadingSchemas[f]=n._opts.loadSchema(f),h.then(m,m)),h.then(function(c){if(!l(f))return s(c).then(function(){l(f)||n.addSchema(c,f,void 0,e)})}).then(function(){return o(i)});function m(){delete n._loadingSchemas[f]}function l(c){return n._refs[c]||n._schemas[c]}}}}var ll=function(e,t,n){var r=" ",s=e.level,o=e.dataLevel,i=e.schema[t],P=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h,m="data"+(o||""),l="valid"+s,c="errs__"+s,y=e.opts.$data&&i&&i.$data,v;y?(r+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",v="schema"+s):v=i;var E=this,D="definition"+s,_=E.definition,I="",O,N,z,$,x;if(y&&_.$data){x="keywordValidate"+s;var C=_.validateSchema;r+=" var "+D+" = RULES.custom['"+t+"'].definition; var "+x+" = "+D+".validate;"}else{if($=e.useCustomRule(E,i,e.schema,e),!$)return;v="validate.schema"+P,x=$.code,O=_.compile,N=_.inline,z=_.macro}var V=x+".errors",L="i"+s,R="ruleErr"+s,A=_.async;if(A&&!e.async)throw new Error("async keyword in sync schema");if(N||z||(r+=""+V+" = null;"),r+="var "+c+" = errors;var "+l+";",y&&_.$data&&(I+="}",r+=" if ("+v+" === undefined) { "+l+" = true; } else { ",C&&(I+="}",r+=" "+l+" = "+D+".validateSchema("+v+"); if ("+l+") { ")),N)_.statements?r+=" "+$.validate+" ":r+=" "+l+" = "+$.validate+"; ";else if(z){var k=e.util.copy(e),I="";k.level++;var j="valid"+k.level;k.schema=$.validate,k.schemaPath="";var T=e.compositeRule;e.compositeRule=k.compositeRule=!0;var K=e.validate(k).replace(/validate\.schema/g,x);e.compositeRule=k.compositeRule=T,r+=" "+K}else{var Q=Q||[];Q.push(r),r="",r+="  "+x+".call( ",e.opts.passContext?r+="this":r+="self",O||_.schema===!1?r+=" , "+m+" ":r+=" , "+v+" , "+m+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var U=o?"data"+(o-1||""):"parentData",Z=o?e.dataPathArr[o]:"parentDataProperty";r+=" , "+U+" , "+Z+" , rootData )  ";var te=r;r=Q.pop(),_.errors===!1?(r+=" "+l+" = ",A&&(r+="await "),r+=""+te+"; "):A?(V="customErrors"+s,r+=" var "+V+" = null; try { "+l+" = await "+te+"; } catch (e) { "+l+" = false; if (e instanceof ValidationError) "+V+" = e.errors; else throw e; } "):r+=" "+V+" = null; "+l+" = "+te+"; "}if(_.modifying&&(r+=" if ("+U+") "+m+" = "+U+"["+Z+"];"),r+=""+I,_.valid)f&&(r+=" if (true) { ");else{r+=" if ( ",_.valid===void 0?(r+=" !",z?r+=""+j:r+=""+l):r+=" "+!_.valid+" ",r+=") { ",h=E.keyword;var Q=Q||[];Q.push(r),r="";var Q=Q||[];Q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+E.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+E.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var ye=r;r=Q.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+ye+"]); ":r+=" validate.errors = ["+ye+"]; return false; ":r+=" var err = "+ye+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var G=r;r=Q.pop(),N?_.errors?_.errors!="full"&&(r+="  for (var "+L+"="+c+"; "+L+"<errors; "+L+"++) { var "+R+" = vErrors["+L+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+R+".schemaPath === undefined) { "+R+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(r+=" "+R+".schema = "+v+"; "+R+".data = "+m+"; "),r+=" } "):_.errors===!1?r+=" "+G+" ":(r+=" if ("+c+" == errors) { "+G+" } else {  for (var "+L+"="+c+"; "+L+"<errors; "+L+"++) { var "+R+" = vErrors["+L+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+R+".schemaPath === undefined) { "+R+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(r+=" "+R+".schema = "+v+"; "+R+".data = "+m+"; "),r+=" } } "):z?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+E.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+E.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):_.errors===!1?r+=" "+G+" ":(r+=" if (Array.isArray("+V+")) { if (vErrors === null) vErrors = "+V+"; else vErrors = vErrors.concat("+V+"); errors = vErrors.length;  for (var "+L+"="+c+"; "+L+"<errors; "+L+"++) { var "+R+" = vErrors["+L+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+e.errorPath+";  "+R+'.schemaPath = "'+d+'";  ',e.opts.verbose&&(r+=" "+R+".schema = "+v+"; "+R+".data = "+m+"; "),r+=" } } else { "+G+" } "),r+=" } ",f&&(r+=" else { ")}return r};const ul="http://json-schema.org/draft-07/schema#",cl="http://json-schema.org/draft-07/schema#",fl="Core schema meta-schema",dl={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},hl=["object","boolean"],ml={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ns={$schema:ul,$id:cl,title:fl,definitions:dl,type:hl,properties:ml,default:!0};var Yt=ns,vl={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Yt.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Yt.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},pl=/^[a-z_$][a-z0-9_$-]*$/i,gl=ll,yl=vl,Pl={add:El,get:Sl,remove:bl,validate:Ha};function El(a,e){var t=this.RULES;if(t.keywords[a])throw new Error("Keyword "+a+" is already defined");if(!pl.test(a))throw new Error("Keyword "+a+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var r=0;r<n.length;r++)o(a,n[r],e);else o(a,n,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}t.keywords[a]=t.all[a]=!0;function o(i,P,d){for(var f,h=0;h<t.length;h++){var m=t[h];if(m.type==P){f=m;break}}f||(f={type:P,rules:[]},t.push(f));var l={keyword:i,definition:d,custom:!0,code:gl,implements:d.implements};f.rules.push(l),t.custom[i]=l}return this}function Sl(a){var e=this.RULES.custom[a];return e?e.definition:this.RULES.keywords[a]||!1}function bl(a){var e=this.RULES;delete e.keywords[a],delete e.all[a],delete e.custom[a];for(var t=0;t<e.length;t++)for(var n=e[t].rules,r=0;r<n.length;r++)if(n[r].keyword==a){n.splice(r,1);break}return this}function Ha(a,e){Ha.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(yl,!0);if(t(a))return!0;if(Ha.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}const _l="http://json-schema.org/draft-07/schema#",wl="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",$l="Meta-schema for $data reference (JSON Schema extension proposal)",Al="object",Dl=["$data"],Rl={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Il=!1,Ol={$schema:_l,$id:wl,description:$l,type:Al,required:Dl,properties:Rl,additionalProperties:Il};var ss=gi,cr=ut,xl=wi,os=jn,Nl=qn,Fl=xi,Cl=nl,is=sl,ls=Sr,Vl=be;be.prototype.validate=Tl;be.prototype.compile=jl;be.prototype.addSchema=zl;be.prototype.addMetaSchema=Ul;be.prototype.validateSchema=Ml;be.prototype.getSchema=kl;be.prototype.removeSchema=Ql;be.prototype.addFormat=Xl;be.prototype.errorsText=Zl;be.prototype._addSchema=Hl;be.prototype._compile=Kl;be.prototype.compileAsync=il;var Pa=Pl;be.prototype.addKeyword=Pa.add;be.prototype.getKeyword=Pa.get;be.prototype.removeKeyword=Pa.remove;be.prototype.validateKeyword=Pa.validate;var us=ct;be.ValidationError=us.Validation;be.MissingRefError=us.MissingRef;be.$dataMetaSchema=is;var sa="http://json-schema.org/draft-07/schema",Zt=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Ll=["/properties"];function be(a){if(!(this instanceof be))return new be(a);a=this._opts=ls.copy(a)||{},su(this),this._schemas={},this._refs={},this._fragments={},this._formats=Fl(a.format),this._cache=a.cache||new xl,this._loadingSchemas={},this._compilations=[],this.RULES=Cl(),this._getId=Jl(a),a.loopRequired=a.loopRequired||1/0,a.errorDataPath=="property"&&(a._errorDataPathProperty=!0),a.serialize===void 0&&(a.serialize=Nl),this._metaOpts=nu(this),a.formats&&au(this),a.keywords&&tu(this),eu(this),typeof a.meta=="object"&&this.addMetaSchema(a.meta),a.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),ru(this)}function Tl(a,e){var t;if(typeof a=="string"){if(t=this.getSchema(a),!t)throw new Error('no schema with key or ref "'+a+'"')}else{var n=this._addSchema(a);t=n.validate||this._compile(n)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}function jl(a,e){var t=this._addSchema(a,void 0,e);return t.validate||this._compile(t)}function zl(a,e,t,n){if(Array.isArray(a)){for(var r=0;r<a.length;r++)this.addSchema(a[r],void 0,t,n);return this}var s=this._getId(a);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return e=cr.normalizeId(e||s),fs(this,e),this._schemas[e]=this._addSchema(a,t,n,!0),this}function Ul(a,e,t){return this.addSchema(a,e,t,!0),this}function Ml(a,e){var t=a.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||ql(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(t,a);if(!n&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return n}function ql(a){var e=a._opts.meta;return a._opts.defaultMeta=typeof e=="object"?a._getId(e)||e:a.getSchema(sa)?sa:void 0,a._opts.defaultMeta}function kl(a){var e=cs(this,a);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return Bl(this,a)}}function Bl(a,e){var t=cr.schema.call(a,{schema:{}},e);if(t){var n=t.schema,r=t.root,s=t.baseId,o=ss.call(a,n,r,void 0,s);return a._fragments[e]=new os({ref:e,fragment:!0,schema:n,root:r,baseId:s,validate:o}),o}}function cs(a,e){return e=cr.normalizeId(e),a._schemas[e]||a._refs[e]||a._fragments[e]}function Ql(a){if(a instanceof RegExp)return Br(this,this._schemas,a),Br(this,this._refs,a),this;switch(typeof a){case"undefined":return Br(this,this._schemas),Br(this,this._refs),this._cache.clear(),this;case"string":var e=cs(this,a);return e&&this._cache.del(e.cacheKey),delete this._schemas[a],delete this._refs[a],this;case"object":var t=this._opts.serialize,n=t?t(a):a;this._cache.del(n);var r=this._getId(a);r&&(r=cr.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function Br(a,e,t){for(var n in e){var r=e[n];!r.meta&&(!t||t.test(n))&&(a._cache.del(r.cacheKey),delete e[n])}}function Hl(a,e,t,n){if(typeof a!="object"&&typeof a!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,s=r?r(a):a,o=this._cache.get(s);if(o)return o;n=n||this._opts.addUsedSchema!==!1;var i=cr.normalizeId(this._getId(a));i&&n&&fs(this,i);var P=this._opts.validateSchema!==!1&&!e,d;P&&!(d=i&&i==cr.normalizeId(a.$schema))&&this.validateSchema(a,!0);var f=cr.ids.call(this,a),h=new os({id:i,schema:a,localRefs:f,cacheKey:s,meta:t});return i[0]!="#"&&n&&(this._refs[i]=h),this._cache.put(s,h),P&&d&&this.validateSchema(a,!0),h}function Kl(a,e){if(a.compiling)return a.validate=r,r.schema=a.schema,r.errors=null,r.root=e||r,a.schema.$async===!0&&(r.$async=!0),r;a.compiling=!0;var t;a.meta&&(t=this._opts,this._opts=this._metaOpts);var n;try{n=ss.call(this,a.schema,e,a.localRefs)}catch(s){throw delete a.validate,s}finally{a.compiling=!1,a.meta&&(this._opts=t)}return a.validate=n,a.refs=n.refs,a.refVal=n.refVal,a.root=n.root,n;function r(){var s=a.validate,o=s.apply(this,arguments);return r.errors=s.errors,o}}function Jl(a){switch(a.schemaId){case"auto":return Yl;case"id":return Gl;default:return Wl}}function Gl(a){return a.$id&&this.logger.warn("schema $id ignored",a.$id),a.id}function Wl(a){return a.id&&this.logger.warn("schema id ignored",a.id),a.$id}function Yl(a){if(a.$id&&a.id&&a.$id!=a.id)throw new Error("schema $id is different from id");return a.$id||a.id}function Zl(a,e){if(a=a||this.errors,!a)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,r="",s=0;s<a.length;s++){var o=a[s];o&&(r+=n+o.dataPath+" "+o.message+t)}return r.slice(0,-t.length)}function Xl(a,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[a]=e,this}function eu(a){var e;if(a._opts.$data&&(e=Ol,a.addMetaSchema(e,e.$id,!0)),a._opts.meta!==!1){var t=ns;a._opts.$data&&(t=is(t,Ll)),a.addMetaSchema(t,sa,!0),a._refs["http://json-schema.org/schema"]=sa}}function ru(a){var e=a._opts.schemas;if(e)if(Array.isArray(e))a.addSchema(e);else for(var t in e)a.addSchema(e[t],t)}function au(a){for(var e in a._opts.formats){var t=a._opts.formats[e];a.addFormat(e,t)}}function tu(a){for(var e in a._opts.keywords){var t=a._opts.keywords[e];a.addKeyword(e,t)}}function fs(a,e){if(a._schemas[e]||a._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function nu(a){for(var e=ls.copy(a._opts),t=0;t<Zt.length;t++)delete e[Zt[t]];return e}function su(a){var e=a._opts.logger;if(e===!1)a.logger={log:Ra,warn:Ra,error:Ra};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");a.logger=e}}function Ra(){}const ou=Rs(Vl);function me(a){return a!=null&&typeof a=="object"&&a["@@functional/placeholder"]===!0}function Ce(a){return function e(t){return arguments.length===0||me(t)?e:a.apply(this,arguments)}}function Be(a){return function e(t,n){switch(arguments.length){case 0:return e;case 1:return me(t)?e:Ce(function(r){return a(t,r)});default:return me(t)&&me(n)?e:me(t)?Ce(function(r){return a(r,n)}):me(n)?Ce(function(r){return a(t,r)}):a(t,n)}}}function dt(a,e){switch(a){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,s){return e.apply(this,arguments)};case 5:return function(t,n,r,s,o){return e.apply(this,arguments)};case 6:return function(t,n,r,s,o,i){return e.apply(this,arguments)};case 7:return function(t,n,r,s,o,i,P){return e.apply(this,arguments)};case 8:return function(t,n,r,s,o,i,P,d){return e.apply(this,arguments)};case 9:return function(t,n,r,s,o,i,P,d,f){return e.apply(this,arguments)};case 10:return function(t,n,r,s,o,i,P,d,f,h){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function ds(a,e,t){return function(){for(var n=[],r=0,s=a,o=0;o<e.length||r<arguments.length;){var i;o<e.length&&(!me(e[o])||r>=arguments.length)?i=e[o]:(i=arguments[r],r+=1),n[o]=i,me(i)||(s-=1),o+=1}return s<=0?t.apply(this,n):dt(s,ds(a,n,t))}}var iu=Be(function(e,t){return e===1?Ce(t):dt(e,ds(e,[],t))});function lu(a){return function e(t,n,r){switch(arguments.length){case 0:return e;case 1:return me(t)?e:Be(function(s,o){return a(t,s,o)});case 2:return me(t)&&me(n)?e:me(t)?Be(function(s,o){return a(s,n,o)}):me(n)?Be(function(s,o){return a(t,s,o)}):Ce(function(s){return a(t,n,s)});default:return me(t)&&me(n)&&me(r)?e:me(t)&&me(n)?Be(function(s,o){return a(s,o,r)}):me(t)&&me(r)?Be(function(s,o){return a(s,n,o)}):me(n)&&me(r)?Be(function(s,o){return a(t,s,o)}):me(t)?Ce(function(s){return a(s,n,r)}):me(n)?Ce(function(s){return a(t,s,r)}):me(r)?Ce(function(s){return a(t,n,s)}):a(t,n,r)}}}const uu=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function oa(a,e){return Object.prototype.hasOwnProperty.call(e,a)}var Xt=Object.prototype.toString,cu=function(){return Xt.call(arguments)==="[object Arguments]"?function(e){return Xt.call(e)==="[object Arguments]"}:function(e){return oa("callee",e)}}(),fu=!{toString:null}.propertyIsEnumerable("toString"),en=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],rn=function(){return arguments.propertyIsEnumerable("length")}(),du=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},hu=Ce(typeof Object.keys=="function"&&!rn?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var t,n,r=[],s=rn&&cu(e);for(t in e)oa(t,e)&&(!s||t!=="length")&&(r[r.length]=t);if(fu)for(n=en.length-1;n>=0;)t=en[n],oa(t,e)&&!du(r,t)&&(r[r.length]=t),n-=1;return r});const mu=hu;function vu(a){return Object.prototype.toString.call(a)==="[object String]"}var pu=Ce(function(e){return uu(e)?!0:!e||typeof e!="object"||vu(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),an=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function gu(a,e,t){return function(r,s,o){if(pu(o))return a(r,s,o);if(o==null)return s;if(typeof o["fantasy-land/reduce"]=="function")return e(r,s,o,"fantasy-land/reduce");if(o[an]!=null)return t(r,s,o[an]());if(typeof o.next=="function")return t(r,s,o);if(typeof o.reduce=="function")return e(r,s,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function yu(a,e,t){for(var n=0,r=t.length;n<r;){if(e=a["@@transducer/step"](e,t[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return a["@@transducer/result"](e)}var Pu=Be(function(e,t){return dt(e.length,function(){return e.apply(t,arguments)})});function Eu(a,e,t){for(var n=t.next();!n.done;){if(e=a["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=t.next()}return a["@@transducer/result"](e)}function Su(a,e,t,n){return a["@@transducer/result"](t[n](Pu(a["@@transducer/step"],a),e))}var bu=gu(yu,Su,Eu),_u=function(){function a(e){this.f=e}return a.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},a.prototype["@@transducer/result"]=function(e){return e},a.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},a}();function wu(a){return new _u(a)}var $u=lu(function(a,e,t){return bu(typeof a=="function"?wu(a):a,e,t)});const Au=$u;var tn=Ce(function(e){return e==null}),Du=Ce(function(e){return iu(e.length,e)});const Ru=Du;var Iu=Be(function(e,t){if(e.length===0||tn(t))return!1;for(var n=t,r=0;r<e.length;)if(!tn(n)&&oa(e[r],n))n=n[e[r]],r+=1;else return!1;return!0}),Ou=Be(function(e,t){return Iu([e],t)});const xu=Ou,pr="http://json-schema.org/draft-07/schema#",Nu=new ou,nn=a=>{let e;try{e=Nu.validateSchema(a)}catch(t){console.log(t)}return e},Fu=[{name:"date-time"},{name:"date"},{name:"time"},{name:"email"},{name:"hostname"},{name:"ipv4"},{name:"ipv6"},{name:"uri"},{name:"regex"}],hs=["string","number","array","object","boolean","integer"];var hr=(a=>(a.string="string",a.number="number",a.array="arrray",a.object="object",a.boolean="boolean",a.integer="integer",a))(hr||{});const Xe=(a,e)=>{switch(a){case"number":return e?{$schema:pr,type:"number",title:"",description:"",properties:{}}:{type:"number",title:"",description:"",properties:{}};case"boolean":return e?{$schema:pr,type:"boolean",title:"",description:"",properties:{}}:{type:"boolean",title:"",description:"",properties:{}};case"integer":return e?{$schema:pr,type:"integer",title:"",description:"",properties:{}}:{type:"integer",title:"",description:"",properties:{}};case"arrray":return e?{$schema:pr,type:"array",title:"",description:"",items:{type:"string",title:"",description:""}}:{type:"array",title:"",description:"",items:{type:"string",title:"",description:""}};case"object":return e?{$schema:pr,type:"object",title:"",description:"",properties:{},required:[]}:{type:"object",title:"",description:"",properties:{},required:[]};case"string":default:return e?{$schema:pr,type:"string",title:"",description:"",properties:{}}:{type:"string",title:"",description:"",properties:{}}}},xr=()=>Math.random().toString(36).substring(2,6),ht=(a,e)=>{switch(a){case"array":return Xe("arrray",e);case"object":return Xe("object",e);default:return Xe(hr[a],e)}},Cu=Ru((a,e)=>Au((t,n)=>{const r=xu(n,a)?a[n]:n;return t[r]=e[n],t},{},mu(e))),Vu=(a,e)=>(delete e[a],e),ms=a=>!a||a.length===new Set(a).size,Ka=({path:a,item:e})=>{const{handleChange:t}=ee.useContext(er),[n,r]=ee.useState(),s=d=>{const f=d.split(`
`);return f.length===0||f.length===1&&!f[0]?null:f},o=e.enum!==void 0,i=e.enum?e.enum:[],P=i==null?void 0:i.join(`
`);return Se(Oe,{direction:"column",w:"100%",wrap:"nowrap",children:[w(Qe,{align:"stretch",justify:"center",m:1,children:w(ur,{label:`${B.t("archbase:Default value")}`,size:"sm",defaultValue:e.default!==void 0?Number(e.default):"",value:e.default!==void 0?Number(e.default):"",placeholder:`${B.t("archbase:Default value")}`,onChange:d=>{d!==""?t(`${a}.default`,Number(d),"ASSIGN_VALUE"):t(`${a}.default`,null,"REMOVE")}})}),w(Qe,{align:"stretch",justify:"center",m:1,children:Se(Oe,{justify:"space-between",children:[w(ur,{label:`${B.t("archbase:Min Value")}`,size:"sm",defaultValue:e.minimum!==void 0?Number(e.minimum):"",value:e.minimum!==void 0?Number(e.minimum):"",onChange:d=>{d!==""?t(`${a}.minimum`,Number(d),"ASSIGN_VALUE"):t(`${a}.minimum`,null,"REMOVE")}}),w(ur,{label:`${B.t("archbase:Max Value")}`,size:"sm",defaultValue:e.maximum!==void 0?Number(e.maximum):"",value:e.maximum!==void 0?Number(e.maximum):"",onChange:d=>{d!==""?t(`${a}.maximum`,Number(d),"ASSIGN_VALUE"):t(`${a}.maximum`,null,"REMOVE")}})]})}),w(Qe,{align:"stretch",justify:"center",mt:8,children:Se(Oe,{align:"center",justify:"space-between",children:[w(Gr,{children:`${B.t("archbase:Enum")}`}),w(Vr,{mx:16,checked:o,onChange:d=>{d.target.checked?t(`${a}.enum`,[""],"ASSIGN_VALUE"):t(`${a}.enum`,null,"REMOVE")}}),w(He.Wrapper,{w:"100%",error:n,children:w(gn,{value:P,disabled:!o,placeholder:`${B.t("archbase:ENUM Values - One Entry Per Line")}`,datatype:"number",onChange:d=>{const f=/^[0-9\n]+$/;if(d.target.value===""||f.test(d.target.value)){const h=s(d.target.value);ms(h)?h===null?t(`${a}.enum`,null,"REMOVE"):t(`${a}.enum`,h,"ASSIGN_VALUE"):r(`${B.t("archbase:Enum must not have duplicate values")}`)}}})})]})})]})};try{Ka.displayName="AdvancedNumber",Ka.__docgenInfo={description:"",displayName:"AdvancedNumber",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}}}}}catch{}const Ja=({path:a,item:e})=>{const{handleChange:t}=ee.useContext(er),[n,r]=ee.useState(),s=d=>{if(!d)return null;d=d.trim();const f=d.split(`
`);return f.length===0||f.length===1&&!f[0]?null:f},o=e.enum!==void 0,i=e.enum?e.enum:[];let P=i==null?void 0:i.join(`
`);return P.length>0&&(P=P.concat(`
`)),Se(Oe,{direction:"column",w:"100%",wrap:"nowrap",children:[w(Qe,{align:"stretch",justify:"center",m:1,children:w(Wr,{id:"default",label:`${B.t("archbase:Default value")}`,placeholder:`${B.t("archbase:Default value")}`,value:e.default??"",onChange:d=>{t(`${a}.default`,d.target.value,"ASSIGN_VALUE")}})}),w(Qe,{align:"stretch",justify:"center",m:1,children:Se(Oe,{justify:"space-between",children:[w(ur,{label:`${B.t("archbase:Min Length")}`,size:"sm",defaultValue:e.minLength!==void 0?Number(e.minLength):"",value:e.minLength!==void 0?Number(e.minLength):"",onChange:d=>{d!==""?t(`${a}.minLength`,Number(d),"ASSIGN_VALUE"):t(`${a}.minLength`,null,"REMOVE")}}),w(ur,{label:`${B.t("archbase:Max Length")}`,size:"sm",defaultValue:e.maxLength!==void 0?Number(e.maxLength):"",value:e.maxLength!==void 0?Number(e.maxLength):"",onChange:d=>{d!==""?t(`${a}.maxLength`,Number(d),"ASSIGN_VALUE"):t(`${a}.maxLength`,null,"REMOVE")}})]})}),w(Qe,{align:"stretch",justify:"center",m:1,children:w(Wr,{id:"pattern",label:`${B.t("archbase:Pattern")}`,placeholder:`${B.t("archbase:Must be a valid regular expression")}`,value:e.pattern??"",onChange:d=>{t(`${a}.pattern`,d.target.value,"ASSIGN_VALUE")}})}),w(Qe,{align:"stretch",justify:"center",mt:8,children:Se(Oe,{align:"center",justify:"space-between",children:[w(Gr,{children:`${B.t("archbase:Enum")}`}),w(Vr,{mx:16,checked:o,onChange:d=>{d.target.checked?t(`${a}.enum`,[""],"ASSIGN_VALUE"):t(`${a}.enum`,null,"REMOVE")}}),w(He.Wrapper,{w:"100%",error:n,children:w(gn,{value:P||"",disabled:!o,placeholder:`${B.t("archbase:ENUM Values - One Entry Per Line")}`,onChange:d=>{const f=s(d.target.value);ms(f)?(r(""),f===null?t(`${a}.enum`,null,"REMOVE"):t(`${a}.enum`,f,"ASSIGN_VALUE")):r(`${B.t("archbase:Enum must not have duplicate values")}`)}})})]})}),w(Qe,{align:"stretch",justify:"center",m:1,children:w(Cr,{label:`${B.t("archbase:Format1")}`,value:e.format??"",size:"sm",m:2,placeholder:`${B.t("archbase:Choose data type")}`,onChange:d=>{d===""?t(`${a}.format`,null,"REMOVE"):t(`${a}.format`,d,"ASSIGN_VALUE")},data:Fu.map(d=>({label:d.name,value:d.name}))})})]})};try{Ja.displayName="AdvancedString",Ja.__docgenInfo={description:"",displayName:"AdvancedString",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}}}}}catch{}const ia=({path:a,item:e})=>w(Oe,{children:(n=>{switch(e.type){case"string":return w(Ja,{path:n,item:e});case"number":case"integer":return w(Ka,{path:n,item:e});case"boolean":return w(ja,{path:n,item:e});default:return}})(a)});try{ia.displayName="AdvancedSettings",ia.__docgenInfo={description:"",displayName:"AdvancedSettings",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}}}}}catch{}function Lu(a,e,t){var n=this,r=ee.useRef(null),s=ee.useRef(0),o=ee.useRef(null),i=ee.useRef([]),P=ee.useRef(),d=ee.useRef(),f=ee.useRef(a),h=ee.useRef(!0);f.current=a;var m=typeof window<"u",l=!e&&e!==0&&m;if(typeof a!="function")throw new TypeError("Expected a function");e=+e||0;var c=!!(t=t||{}).leading,y=!("trailing"in t)||!!t.trailing,v="maxWait"in t,E="debounceOnServer"in t&&!!t.debounceOnServer,D=v?Math.max(+t.maxWait||0,e):null;ee.useEffect(function(){return h.current=!0,function(){h.current=!1}},[]);var _=ee.useMemo(function(){var I=function(C){var V=i.current,L=P.current;return i.current=P.current=null,s.current=C,d.current=f.current.apply(L,V)},O=function(C,V){l&&cancelAnimationFrame(o.current),o.current=l?requestAnimationFrame(C):setTimeout(C,V)},N=function(C){if(!h.current)return!1;var V=C-r.current;return!r.current||V>=e||V<0||v&&C-s.current>=D},z=function(C){return o.current=null,y&&i.current?I(C):(i.current=P.current=null,d.current)},$=function C(){var V=Date.now();if(N(V))return z(V);if(h.current){var L=e-(V-r.current),R=v?Math.min(L,D-(V-s.current)):L;O(C,R)}},x=function(){if(m||E){var C=Date.now(),V=N(C);if(i.current=[].slice.call(arguments),P.current=n,r.current=C,V){if(!o.current&&h.current)return s.current=r.current,O($,e),c?I(r.current):d.current;if(v)return O($,e),I(r.current)}return o.current||O($,e),d.current}};return x.cancel=function(){o.current&&(l?cancelAnimationFrame(o.current):clearTimeout(o.current)),s.current=0,i.current=r.current=P.current=o.current=null},x.isPending=function(){return!!o.current},x.flush=function(){return o.current?z(Date.now()):d.current},x},[c,v,e,D,y,l,m,E]);return _}const Ga=({itemPath:a,parentPath:e,parent:t,item:n,isReadOnly:r})=>{const{handleChange:s}=ee.useContext(er);return r?w("div",{}):t?Se(Sa,{position:"bottom",withArrow:!0,shadow:"md",withinPortal:!0,children:[w(Sa.Target,{children:w(ir,{size:"sm",mt:2,mb:2,mr:2,variant:"subtle",color:"green","aria-label":`${B.t("archbase:Add Child Node")}`,children:w(ca,{})})}),w(Sa.Dropdown,{w:"120px",color:"white",children:Se(Qe,{children:[w(Yr,{color:"blue",variant:"outline",size:"xs",onClick:()=>{const o=`field_${xr()}`;s(`${e}.properties.${o}`,Xe(hr.string),"ASSIGN_VALUE")},children:`${B.t("archbase:Sibling Node")}`}),w(Yr,{size:"xs",color:"orange",variant:"outline",onClick:()=>{if(n.properties){const o=`field_${xr()}`;s(`${a}.properties.${o}`,Xe(hr.string),"ASSIGN_VALUE")}},children:`${B.t("archbase:Child Node")}`})]})})]}):w(yr,{})};try{Ga.displayName="DropPlus",Ga.__docgenInfo={description:"",displayName:"DropPlus",props:{itemPath:{defaultValue:null,description:"",name:"itemPath",required:!0,type:{name:"string"}},parentPath:{defaultValue:null,description:"",name:"parentPath",required:!0,type:{name:"string"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"JSONSchema7"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Tu=hs.map(a=>({value:a,label:a})),Wa=({name:a,showadvanced:e,jsonSchema:t,itemPath:n,parentPath:r,isReadOnly:s})=>{const{handleChange:o}=ee.useContext(er),[i,P]=ee.useState(),d=t.required,f=t.properties[a],m={paddingLeft:`${20*(On(r)-(r.match(/(properties)/g)?r.match(/(properties)/g).length:0)+1)}px`},l=Lu(c=>{if(t.properties&&t.properties[c])P(`${B.t("archbase:Duplicate Properties, the property already exists")}`);else{const y=a,v=c,E=Cu({[y]:v},t.properties);o(`${r}.properties`,JSON.parse(JSON.stringify(E)),"ASSIGN_VALUE"),P("")}},1e3);return f?Se("div",{children:[Se(Oe,{align:"center",direction:"row",wrap:"nowrap",className:"schema-item",style:m,children:[w(He.Wrapper,{error:i,children:w(He,{readOnly:s,defaultValue:a,size:"sm",m:2,placeholder:`${B.t("archbase:Enter property name")}`,onChange:c=>{l(c.target.value)}})}),w(Vr,{disabled:s,checked:d?d.length>0&&d.includes(a):!1,m:2,color:"blue",onChange:c=>{c.target.checked?o(`${r}.required`,a,"PUSH_ITEM_TO_ARRAY"):o(`${r}.required`,a,"REMOVE_ITEM_FROM_ARRAY")}}),w(Cr,{readOnly:s,value:f.type.toString(),size:"sm",m:2,placeholder:`${B.t("archbase:Choose data type")}`,onChange:c=>{const y=ht(c,!1);o(`${n}`,y,"ASSIGN_VALUE")},data:Tu}),w(He,{readOnly:s,value:f.title||"",size:"sm",m:2,placeholder:`${B.t("archbase:Add Title")}`,onChange:c=>{o(`${n}.title`,c.target.value,"ASSIGN_VALUE")}}),w(He,{readOnly:s,value:f.description||"",size:"sm",m:2,placeholder:`${B.t("archbase:Add Description")}`,onChange:c=>{o(`${n}.description`,c.target.value,"ASSIGN_VALUE")}}),f.type!=="object"&&f.type!=="array"&&w(lr,{"aria-label":`${B.t("archbase:Advanced Settings")}`,label:`${B.t("archbase:Advanced Settings")}`,position:"top",children:w(ir,{disabled:s,size:"sm",mt:2,mb:2,ml:1,"aria-label":`${B.t("archbase:Advanced Settings")}`,onClick:()=>{e(a)},children:w(yn,{})})}),w(lr,{"aria-label":`${B.t("archbase:Remove Node")}`,label:`${B.t("archbase:Remove Node")}`,position:"top",children:w(ir,{disabled:s,size:"sm",mt:2,mb:2,ml:1,color:"red","aria-label":`${B.t("archbase:Remove Node")}`,onClick:()=>{const c=Vu(a,JSON.parse(JSON.stringify(t.properties)));o(`${r}.properties`,c,"ASSIGN_VALUE")},children:w(zs,{})})}),f.type==="object"?w(Ga,{parentPath:r,itemPath:n,item:f,parent:t,isReadOnly:s}):w(lr,{"aria-label":`${B.t("archbase:Add Sibling Node")}`,label:`${B.t("archbase:Add Sibling Node")}`,position:"top",children:w(ir,{disabled:s,size:"sm",mt:2,mb:2,mr:2,variant:"subtle",color:"green","aria-label":`${B.t("archbase:Add Sibling Node")}`,onClick:()=>{if(t.properties){const c=`field_${xr()}`;o(`${r}.properties.${c}`,Xe(hr.string),"ASSIGN_VALUE")}},children:w(ca,{})})})]}),f.type==="object"&&w(Nr,{path:n,jsonSchema:f,isReadOnly:s}),f.type==="array"&&w(Fr,{path:n,jsonSchema:f,isReadOnly:s})]}):w(yr,{})};try{Wa.displayName="SchemaItem",Wa.__docgenInfo={description:"",displayName:"SchemaItem",props:{jsonSchema:{defaultValue:null,description:"",name:"jsonSchema",required:!0,type:{name:"JSONSchema7"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},itemPath:{defaultValue:null,description:"",name:"itemPath",required:!0,type:{name:"string"}},parentPath:{defaultValue:null,description:"",name:"parentPath",required:!0,type:{name:"string"}},showadvanced:{defaultValue:null,description:"",name:"showadvanced",required:!0,type:{name:"(item: string) => void"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Nr=({path:a,jsonSchema:e,isReadOnly:t})=>{const[n,r]=ee.useState(!1),[s,o]=ee.useState(""),i=()=>{r(!1)},P=f=>{r(!0),o(f)},d=ee.useRef(null);return e.properties?Se("div",{className:"object-style",children:[Object.keys(e.properties).map(f=>w(Wa,{parentPath:a,itemPath:`${a}.properties.${f}`,name:f,showadvanced:P,jsonSchema:e,isReadOnly:t},String(f))),w("div",{ref:d,children:Se(Pn,{opened:n,size:"lg",onClose:i,title:`${B.t("archbase:Advanced Schema Settings")}`,children:[w(ia,{path:`${a}.properties.${s}`,item:e.properties[s]}),w(Oe,{justify:"flex-end",children:w(Yr,{mr:3,onClick:i,children:`${B.t("archbase:Close")}`})})]})})]}):w(yr,{})};try{Nr.displayName="SchemaObject",Nr.__docgenInfo={description:"",displayName:"SchemaObject",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},jsonSchema:{defaultValue:null,description:"",name:"jsonSchema",required:!0,type:{name:"JSONSchema7"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const ju=hs.map(a=>({value:a,label:a})),Fr=({path:a,jsonSchema:e,isReadOnly:t})=>{const{handleChange:n}=ee.useContext(er),[r,s]=ee.useState(!1),o=e.items,P={paddingLeft:`${20*(On(a)-(a.match(/(properties)/g)?a.match(/(properties)/g).length:0)+1)}px`},d=()=>{s(!1)},f=()=>{s(!0)},h=ee.useRef(null);return Se(yr,{children:[Se(Oe,{direction:"row",align:"center",wrap:"nowrap",className:"array-item",mt:2,mr:5,style:P,children:[w(He,{style:{flexShrink:1},disabled:!0,value:`${B.t("archbase:Items")}`,size:"sm",m:2,variant:"outline"},"Items"),w(Vr,{disabled:!0,m:2,color:"blue"}),w(Cr,{readOnly:t,value:o.type,size:"sm",m:2,placeholder:`${B.t("archbase:Choose data type")}`,onChange:m=>{const l=ht(m,!1);n(`${a}.items`,l,"ASSIGN_VALUE")},data:ju}),w(He,{value:o.title,readOnly:t,size:"sm",m:2,placeholder:`${B.t("archbase:Add Title")}`,onChange:m=>{n(`${a}.items.title`,m.target.value,"ASSIGN_VALUE")}}),w(He,{value:o.description,readOnly:t,size:"sm",m:2,placeholder:`${B.t("archbase:Add Description")}`,onChange:m=>{n(`${a}.items.description`,m.target.value,"ASSIGN_VALUE")}}),w(lr,{"aria-label":`${B.t("archbase:Advanced Settings")}`,label:`${B.t("archbase:Advanced Settings")}`,position:"top",children:w(ir,{disabled:t,size:"sm",mt:2,mb:2,ml:1,color:"blue","aria-label":`${B.t("archbase:Advanced Settings")}`,onClick:()=>{f()},children:w(yn,{})})}),o.type==="object"&&w(lr,{"aria-label":`${B.t("archbase:Add Child Node")}`,label:`${B.t("archbase:Add Child Node")}`,position:"top",children:w(ir,{disabled:t,size:"sm",mt:2,mb:2,mr:2,color:"green","aria-label":`${B.t("archbase:Add Child Node")}`,onClick:()=>{const m=`field_${xr()}`;n(`${a}.items.properties.${m}`,Xe(hr.string),"ASSIGN_VALUE")},children:w(ca,{})})})]}),o.type==="object"&&w(Nr,{path:`${a}.items`,jsonSchema:o,isReadOnly:t}),o.type==="array"&&w(Fr,{path:`${a}.items`,jsonSchema:o,isReadOnly:t}),w("div",{ref:h,children:Se(Pn,{opened:r,size:"lg",onClose:d,title:`${B.t("archbase:Advanced Schema Settings")}`,children:[w(ia,{path:`${a}.items`,item:o}),w(Oe,{justify:"flex-end",children:w(Yr,{mr:3,onClick:d,children:`${B.t("archbase:Close")}`})})]})})]})};try{Fr.displayName="SchemaArray",Fr.__docgenInfo={description:"",displayName:"SchemaArray",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},jsonSchema:{defaultValue:null,description:"",name:"jsonSchema",required:!0,type:{name:"JSONSchema7"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Ya=({path:a,jsonSchema:e,isReadOnly:t})=>{const{handleChange:n}=ee.useContext(er);return w(yr,{children:Se(Oe,{"data-testid":"jsonschema-editor",direction:"row",align:"center",wrap:"nowrap",mt:2,mr:5,children:[w(He,{disabled:!0,placeholder:`${B.t("archbase:root")}`,m:2}),w(lr,{"aria-label":`${B.t("archbase:All Required")}`,label:`${B.t("archbase:All Required")}`,position:"top",children:w(Vr,{disabled:t,m:2,width:20,color:"blue"})}),w(Cr,{readOnly:t,value:e.type.toString(),size:"sm",m:2,placeholder:`${B.t("archbase:Choose root data type")}`,onChange:r=>{const s=ht(r,!1);n(`${a}`,s,"ASSIGN_VALUE")},data:[{value:"object",label:"object"},{value:"array",label:"array"}]}),w(Wr,{value:e.title??"",readOnly:t,size:"sm",m:2,placeholder:`${B.t("archbase:Add Title")}`,onChange:r=>{n(`${a}.title`,r.currentTarget.value,"ASSIGN_VALUE")}}),w(Wr,{value:e.description??"",readOnly:t,size:"sm",m:2,placeholder:`${B.t("archbase:Add Description")}`,onChange:r=>{n(`${a}.description`,r.currentTarget.value,"ASSIGN_VALUE")}}),e.type==="object"&&w(yr,{children:w(lr,{"aria-label":`${B.t("archbase:Add Child Node")}`,label:`${B.t("archbase:Add Child Node")}`,position:"top",children:w(ir,{disabled:t,size:"sm",mt:2,mb:2,mr:2,color:"green","aria-label":`${B.t("archbase:Add Child Node")}`,onClick:()=>{const r=`field_${xr()}`;n(`${a}.properties.${r}`,Xe(hr.string),"ASSIGN_VALUE")},children:w(ca,{})})})})]})})};try{Ya.displayName="SchemaRoot",Ya.__docgenInfo={description:"",displayName:"SchemaRoot",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},jsonSchema:{defaultValue:null,description:"",name:"jsonSchema",required:!0,type:{name:"JSONSchema7"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Ia={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"title",description:"",properties:{},required:[]},la=({rootSchema:a,defaultRootSchema:e,onRootSchemaChange:t,readOnly:n=!1})=>{var P,d;const[r,s]=pn({value:{jsonSchema:a??Ia,isReadOnly:n,fieldId:0},defaultValue:{jsonSchema:e??Ia,isReadOnly:n,fieldId:0},finalValue:Ia,onChange:f=>t(f.jsonSchema,nn(f.jsonSchema))}),{ready:o}=Us(),i=(f,h,m)=>{const l=Lo(c=>{_o(c,f,h,m)},r);a===void 0&&s(l()),t&&t(l().jsonSchema,nn(r.jsonSchema))};if(o)return w(Ta,{value:{handleChange:i},children:Se(Oe,{m:2,direction:"column",children:[w(Ya,{path:"jsonSchema",jsonSchema:r.jsonSchema,isReadOnly:r.isReadOnly}),((P=r==null?void 0:r.jsonSchema)==null?void 0:P.type)==="object"&&w(Nr,{path:"jsonSchema",jsonSchema:r.jsonSchema,isReadOnly:r.isReadOnly}),((d=r==null?void 0:r.jsonSchema)==null?void 0:d.type)==="array"&&w(Fr,{path:"jsonSchema",jsonSchema:r.jsonSchema,isReadOnly:r.isReadOnly})]})})};try{la.displayName="ArchbaseJsonSchemaEditor",la.__docgenInfo={description:"",displayName:"ArchbaseJsonSchemaEditor",props:{rootSchema:{defaultValue:null,description:"",name:"rootSchema",required:!1,type:{name:"JSONSchema7"}},defaultRootSchema:{defaultValue:null,description:"",name:"defaultRootSchema",required:!1,type:{name:"JSONSchema7"}},onRootSchemaChange:{defaultValue:null,description:"",name:"onRootSchemaChange",required:!1,type:{name:"(schema: JSONSchema7, isValid: boolean) => void"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}}}}}catch{}const mt=({data:a,readonly:e})=>{const[t,n]=ee.useState(a||void 0),[r,s]=ee.useState(!0);return Se(Oe,{direction:"column",children:[Se(Mr,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,m:20,children:[w(Mr.Section,{withBorder:!0,inheritPadding:!0,py:"xs",mb:"1rem",children:w(Rt,{justify:"space-between",children:w(Gr,{fw:500,children:"JSON Schema Editor Component"})})}),Se(It,{h:300,children:[w(Ms,{color:r?"green":"red",children:r?"Schema Vlido":"Schema Invlido"}),w(la,{rootSchema:t,onRootSchemaChange:(o,i)=>{n(o),s(i),console.log(o,i)},defaultRootSchema:a,readOnly:e})]})]}),Se(Mr,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,m:20,mt:0,children:[w(Mr.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:w(Rt,{justify:"space-between",children:w(Gr,{fw:500,children:"Schema do JSON"})})}),w(It,{h:300,children:w(qs,{data:t})})]})]})},Wc={title:"Editores/JsonSchemaEditor",component:la},vs={$schema:"http://json-schema.org/draft-07/schema",$id:"#/io/knack/avro/item",type:"object",title:"Item",description:"The schema for item info.",required:["id","name"],properties:{id:{$id:"#/string",type:"string",title:"string",description:"The unique identifier of the item."},name:{$id:"#/string",type:"string",title:"string",description:"The display name of the item."},info:{$id:"#/io/knack/avro/info",type:"object",title:"info",description:"The info for the item.",required:["timestamp","active"],properties:{timestamp:{$id:"#/long",type:"number",title:"long",description:"The info timestamp."},active:{$id:"#/boolean",type:"boolean",title:"boolean",description:"The info active flag"},notes:{$id:"#/string",type:"string",title:"string",description:"The display name of the item."}}},tags:{$id:"#/array",type:"array",title:"array",description:"Tags for grouping and filtering items.",items:{$id:"#/string",type:"string",title:"string",description:""}},boxes:{$id:"#/array",type:"array",title:"array",description:"Boxes this item supports",items:{$id:"#/io/knack/avro/box/record",type:"object",title:"boxRecord",description:"",required:["height","width"],properties:{height:{$id:"#/int",type:"integer",title:"int",description:"The box height."},width:{$id:"#/int",type:"integer",title:"int",description:"The box width."},color:{$id:"#/string",type:"string",title:"string",description:"The box color."}}}}}},Qr={name:"Novo JsonSchema",render:()=>w(mt,{})},Hr={name:"JsonSchema com dados",render:()=>w(mt,{data:vs})},Kr={name:"JsonSchema com dados e somente leitura",render:()=>w(mt,{data:vs,readonly:!0})};var sn,on,ln;Qr.parameters={...Qr.parameters,docs:{...(sn=Qr.parameters)==null?void 0:sn.docs,source:{originalSource:`{
  name: 'Novo JsonSchema',
  render: () => <ArchbaseJsonSchemaEditorExample />
}`,...(ln=(on=Qr.parameters)==null?void 0:on.docs)==null?void 0:ln.source}}};var un,cn,fn;Hr.parameters={...Hr.parameters,docs:{...(un=Hr.parameters)==null?void 0:un.docs,source:{originalSource:`{
  name: 'JsonSchema com dados',
  render: () => <ArchbaseJsonSchemaEditorExample data={initialSchemaWithData} />
}`,...(fn=(cn=Hr.parameters)==null?void 0:cn.docs)==null?void 0:fn.source}}};var dn,hn,mn;Kr.parameters={...Kr.parameters,docs:{...(dn=Kr.parameters)==null?void 0:dn.docs,source:{originalSource:`{
  name: 'JsonSchema com dados e somente leitura',
  render: () => <ArchbaseJsonSchemaEditorExample data={initialSchemaWithData} readonly={true} />
}`,...(mn=(hn=Kr.parameters)==null?void 0:hn.docs)==null?void 0:mn.source}}};const Yc=["NewJsonSchema","WithData","WithDataAndReadOnly"];export{Qr as NewJsonSchema,Hr as WithData,Kr as WithDataAndReadOnly,Yc as __namedExportsOrder,Wc as default};
