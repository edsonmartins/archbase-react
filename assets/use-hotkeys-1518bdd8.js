import{r as E}from"./index-8b3efc3f.js";function p(t){const e=t.toLowerCase().split("+").map(n=>n.trim()),r={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift"),plus:e.includes("[plus]")},a=["alt","ctrl","meta","shift","mod"],s=e.find(n=>!a.includes(n));return{...r,key:s==="[plus]"?"+":s}}function k(t,e,r){const{alt:a,ctrl:s,meta:n,mod:i,shift:u,key:l}=t,{altKey:c,ctrlKey:o,metaKey:f,shiftKey:d,key:m,code:y}=e;if(a!==c)return!1;if(i){if(!o&&!f)return!1}else if(s!==o||n!==f)return!1;return u!==d?!1:!!(l&&(!r&&m.toLowerCase()===l.toLowerCase()||y.replace("Key","").toLowerCase()===l.toLowerCase()))}function K(t,e){return r=>k(p(t),r,e)}function L(t,e,r=!1){return t.target instanceof HTMLElement?(r||!t.target.isContentEditable)&&!e.includes(t.target.tagName):!0}function w(t,e=["INPUT","TEXTAREA","SELECT"],r=!1){E.useEffect(()=>{const a=s=>{t.forEach(([n,i,u={preventDefault:!0,usePhysicalKeys:!1}])=>{K(n,u.usePhysicalKeys)(s)&&L(s,e,r)&&(u.preventDefault&&s.preventDefault(),i(s))})};return document.documentElement.addEventListener("keydown",a),()=>document.documentElement.removeEventListener("keydown",a)},[t])}export{w as u};
