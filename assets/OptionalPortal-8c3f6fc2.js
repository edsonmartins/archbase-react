import{r as i}from"./index-8b3efc3f.js";import{j as u,F as c}from"./jsx-runtime-c9381026.js";import{a as y}from"./Mantine.context-41afb47e.js";import{f as l,u as g}from"./polymorphic-factory-bf652503.js";import{r as b}from"./index-a38d0dca.js";import{u as P}from"./use-isomorphic-effect-aa890e3d.js";import{a as N}from"./use-merged-ref-a374cf59.js";function q(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==i.Fragment:!1}const x={app:100,modal:200,popover:300,overlay:400,max:9999};function D(t){return x[t]}function s(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function E({target:t,reuseTargetNode:e,...a}){if(t)return typeof t=="string"?document.querySelector(t)||s(a):t;if(e){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const n=s(a);return n.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(n),n}return s(a)}const h={},d=l((t,e)=>{const{children:a,target:r,reuseTargetNode:n,...f}=g("Portal",h,t),[m,p]=i.useState(!1),o=i.useRef(null);return P(()=>(p(!0),o.current=E({target:r,reuseTargetNode:n,...f}),N(e,o.current),!r&&!n&&o.current&&document.body.appendChild(o.current),()=>{!r&&!n&&o.current&&document.body.removeChild(o.current)}),[r]),!m||!o.current?null:b.createPortal(u(c,{children:a}),o.current)});d.displayName="@mantine/core/Portal";const j=l(({withinPortal:t=!0,children:e,...a},r)=>y()==="test"||!t?u(c,{children:e}):u(d,{ref:r,...a,children:e}));j.displayName="@mantine/core/OptionalPortal";export{j as O,D as g,q as i};
