import{r as u,R as f}from"./index-76fb7be0.js";import{u as B,B as M,f as $,h as re,i as ne,r as le}from"./polymorphic-factory-e212381f.js";import{c as q}from"./create-safe-context-978e3819.js";import{u as se}from"./use-isomorphic-effect-f46ba680.js";import{u as H}from"./use-merged-ref-962e80ee.js";import{u as ce}from"./DirectionProvider-3f93a9e9.js";function A(e){const o=u.useRef(e);return u.useEffect(()=>{o.current=e}),u.useMemo(()=>(...t)=>{var n;return(n=o.current)==null?void 0:n.call(o,...t)},[])}function Y(e,o){const t=A(e),n=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),u.useCallback((...r)=>{window.clearTimeout(n.current),n.current=window.setTimeout(()=>t(...r),o)},[t,o])}const[ae,y]=q("ScrollArea.Root component was not found in tree");function W(e,o){const t=A(o);se(()=>{let n=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return r.observe(e),()=>{window.cancelAnimationFrame(n),r.unobserve(e)}}},[e,t])}const ie=f.forwardRef((e,o)=>{const{style:t,...n}=e,r=y(),[l,s]=f.useState(0),[c,m]=f.useState(0),i=!!(l&&c);return W(r.scrollbarX,()=>{var h;const a=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(a),m(a)}),W(r.scrollbarY,()=>{var h;const a=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(a),s(a)}),i?f.createElement("div",{...n,ref:o,style:{...t,width:l,height:c}}):null}),ue=f.forwardRef((e,o)=>{const t=y(),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?f.createElement(ie,{...e,ref:o}):null}),de={scrollHideDelay:1e3,type:"hover"},j=u.forwardRef((e,o)=>{const t=B("ScrollAreaRoot",de,e),{type:n,scrollHideDelay:r,scrollbars:l,...s}=t,[c,m]=u.useState(null),[i,a]=u.useState(null),[h,b]=u.useState(null),[d,S]=u.useState(null),[R,g]=u.useState(null),[v,T]=u.useState(0),[z,P]=u.useState(0),[w,C]=u.useState(!1),[x,p]=u.useState(!1),E=H(o,L=>m(L));return f.createElement(ae,{value:{type:n,scrollHideDelay:r,scrollArea:c,viewport:i,onViewportChange:a,content:h,onContentChange:b,scrollbarX:d,onScrollbarXChange:S,scrollbarXEnabled:w,onScrollbarXEnabledChange:C,scrollbarY:R,onScrollbarYChange:g,scrollbarYEnabled:x,onScrollbarYEnabledChange:p,onCornerWidthChange:T,onCornerHeightChange:P}},f.createElement(M,{...s,ref:E,__vars:{"--sa-corner-width":l!=="xy"?"0px":`${v}px`,"--sa-corner-height":l!=="xy"?"0px":`${z}px`}}))});j.displayName="@mantine/core/ScrollAreaRoot";function G(e,o){const t=e/o;return Number.isNaN(t)?0:t}function U(e){const o=G(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-t)*o;return Math.max(n,18)}function J(e,o){return t=>{if(e[0]===e[1]||o[0]===o[1])return o[0];const n=(o[1]-o[0])/(e[1]-e[0]);return o[0]+n*(t-e[0])}}function fe(e,[o,t]){return Math.min(t,Math.max(o,e))}function _(e,o,t="ltr"){const n=U(o),r=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,l=o.scrollbar.size-r,s=o.content-o.viewport,c=l-n,m=t==="ltr"?[0,s]:[s*-1,0],i=fe(e,m);return J([0,s],[0,c])(i)}function he(e,o,t,n="ltr"){const r=U(t),l=r/2,s=o||l,c=r-s,m=t.scrollbar.paddingStart+s,i=t.scrollbar.size-t.scrollbar.paddingEnd-c,a=t.content-t.viewport,h=n==="ltr"?[0,a]:[a*-1,0];return J([m,i],h)(e)}function K(e,o){return e>0&&e<o}function X(e){return e?parseInt(e,10):0}function D(e,o,{checkForDefaultPrevented:t=!0}={}){return n=>{e==null||e(n),(t===!1||!n.defaultPrevented)&&(o==null||o(n))}}const[me,Q]=q("ScrollAreaScrollbar was not found in tree"),Z=u.forwardRef((e,o)=>{const{sizes:t,hasThumb:n,onThumbChange:r,onThumbPointerUp:l,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:m,onWheelScroll:i,onResize:a,...h}=e,b=y(),[d,S]=f.useState(null),R=H(o,p=>S(p)),g=f.useRef(null),v=f.useRef(""),{viewport:T}=b,z=t.content-t.viewport,P=A(i),w=A(c),C=Y(a,10),x=p=>{if(g.current){const E=p.clientX-g.current.left,L=p.clientY-g.current.top;m({x:E,y:L})}};return u.useEffect(()=>{const p=E=>{const L=E.target;(d==null?void 0:d.contains(L))&&P(E,z)};return document.addEventListener("wheel",p,{passive:!1}),()=>document.removeEventListener("wheel",p,{passive:!1})},[T,d,z,P]),u.useEffect(w,[t,w]),W(d,C),W(b.content,C),f.createElement(me,{value:{scrollbar:d,hasThumb:n,onThumbChange:A(r),onThumbPointerUp:A(l),onThumbPositionChange:w,onThumbPointerDown:A(s)}},f.createElement("div",{...h,ref:R,style:{position:"absolute",...h.style},onPointerDown:D(e.onPointerDown,p=>{p.button===0&&(p.target.setPointerCapture(p.pointerId),g.current=d.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x(p))}),onPointerMove:D(e.onPointerMove,x),onPointerUp:D(e.onPointerUp,p=>{const E=p.target;E.hasPointerCapture(p.pointerId)&&E.releasePointerCapture(p.pointerId),document.body.style.webkitUserSelect=v.current,g.current=null})}))}),be=u.forwardRef((e,o)=>{const{sizes:t,onSizesChange:n,style:r,...l}=e,s=y(),[c,m]=u.useState(),i=u.useRef(null),a=H(o,i,s.onScrollbarXChange);return u.useEffect(()=>{i.current&&m(getComputedStyle(i.current))},[i]),f.createElement(Z,{"data-orientation":"horizontal",...l,ref:a,sizes:t,style:{...r,"--sa-thumb-width":`${U(t)}px`},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,b)=>{if(s.viewport){const d=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(d),K(d,b)&&h.preventDefault()}},onResize:()=>{i.current&&s.viewport&&c&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:X(c.paddingLeft),paddingEnd:X(c.paddingRight)}})}})}),Se=u.forwardRef((e,o)=>{const{sizes:t,onSizesChange:n,style:r,...l}=e,s=y(),[c,m]=f.useState(),i=u.useRef(null),a=H(o,i,s.onScrollbarYChange);return u.useEffect(()=>{i.current&&m(getComputedStyle(i.current))},[i]),f.createElement(Z,{...l,"data-orientation":"vertical",ref:a,sizes:t,style:{"--sa-thumb-height":`${U(t)}px`,...r},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,b)=>{if(s.viewport){const d=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(d),K(d,b)&&h.preventDefault()}},onResize:()=>{i.current&&s.viewport&&c&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:X(c.paddingTop),paddingEnd:X(c.paddingBottom)}})}})}),F=u.forwardRef((e,o)=>{const{orientation:t="vertical",...n}=e,{dir:r}=ce(),l=y(),s=u.useRef(null),c=u.useRef(0),[m,i]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),a=G(m.viewport,m.content),h={...n,sizes:m,onSizesChange:i,hasThumb:a>0&&a<1,onThumbChange:d=>{s.current=d},onThumbPointerUp:()=>{c.current=0},onThumbPointerDown:d=>{c.current=d}},b=(d,S)=>he(d,c.current,m,S);return t==="horizontal"?f.createElement(be,{...h,ref:o,onThumbPositionChange:()=>{if(l.viewport&&s.current){const d=l.viewport.scrollLeft,S=_(d,m,r);s.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:d=>{l.viewport&&(l.viewport.scrollLeft=d)},onDragScroll:d=>{l.viewport&&(l.viewport.scrollLeft=b(d,r))}}):t==="vertical"?f.createElement(Se,{...h,ref:o,onThumbPositionChange:()=>{if(l.viewport&&s.current){const d=l.viewport.scrollTop,S=_(d,m);s.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:d=>{l.viewport&&(l.viewport.scrollTop=d)},onDragScroll:d=>{l.viewport&&(l.viewport.scrollTop=b(d))}}):null}),ee=u.forwardRef((e,o)=>{const t=y(),{forceMount:n,...r}=e,[l,s]=u.useState(!1),c=e.orientation==="horizontal",m=Y(()=>{if(t.viewport){const i=t.viewport.offsetWidth<t.viewport.scrollWidth,a=t.viewport.offsetHeight<t.viewport.scrollHeight;s(c?i:a)}},10);return W(t.viewport,m),W(t.content,m),n||l?f.createElement(F,{"data-state":l?"visible":"hidden",...r,ref:o}):null}),pe=u.forwardRef((e,o)=>{const{forceMount:t,...n}=e,r=y(),[l,s]=u.useState(!1);return u.useEffect(()=>{const{scrollArea:c}=r;let m=0;if(c){const i=()=>{window.clearTimeout(m),s(!0)},a=()=>{m=window.setTimeout(()=>s(!1),r.scrollHideDelay)};return c.addEventListener("pointerenter",i),c.addEventListener("pointerleave",a),()=>{window.clearTimeout(m),c.removeEventListener("pointerenter",i),c.removeEventListener("pointerleave",a)}}},[r.scrollArea,r.scrollHideDelay]),t||l?f.createElement(ee,{"data-state":l?"visible":"hidden",...n,ref:o}):null}),ve=u.forwardRef((e,o)=>{const{forceMount:t,...n}=e,r=y(),l=e.orientation==="horizontal",[s,c]=u.useState("hidden"),m=Y(()=>c("idle"),100);return u.useEffect(()=>{if(s==="idle"){const i=window.setTimeout(()=>c("hidden"),r.scrollHideDelay);return()=>window.clearTimeout(i)}},[s,r.scrollHideDelay]),u.useEffect(()=>{const{viewport:i}=r,a=l?"scrollLeft":"scrollTop";if(i){let h=i[a];const b=()=>{const d=i[a];h!==d&&(c("scrolling"),m()),h=d};return i.addEventListener("scroll",b),()=>i.removeEventListener("scroll",b)}},[r.viewport,l,m]),t||s!=="hidden"?f.createElement(F,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:o,onPointerEnter:D(e.onPointerEnter,()=>c("interacting")),onPointerLeave:D(e.onPointerLeave,()=>c("idle"))}):null}),k=f.forwardRef((e,o)=>{const{forceMount:t,...n}=e,r=y(),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:s}=r,c=e.orientation==="horizontal";return f.useEffect(()=>(c?l(!0):s(!0),()=>{c?l(!1):s(!1)}),[c,l,s]),r.type==="hover"?f.createElement(pe,{...n,ref:o,forceMount:t}):r.type==="scroll"?f.createElement(ve,{...n,ref:o,forceMount:t}):r.type==="auto"?f.createElement(ee,{...n,ref:o,forceMount:t}):r.type==="always"?f.createElement(F,{...n,ref:o}):null});function we(e,o=()=>{}){let t={left:e.scrollLeft,top:e.scrollTop},n=0;return function r(){const l={left:e.scrollLeft,top:e.scrollTop},s=t.left!==l.left,c=t.top!==l.top;(s||c)&&o(),t=l,n=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(n)}const ge=u.forwardRef((e,o)=>{const{style:t,...n}=e,r=y(),l=Q(),{onThumbPositionChange:s}=l,c=H(o,a=>l.onThumbChange(a)),m=u.useRef(),i=Y(()=>{m.current&&(m.current(),m.current=void 0)},100);return u.useEffect(()=>{const{viewport:a}=r;if(a){const h=()=>{if(i(),!m.current){const b=we(a,s);m.current=b,s()}};return s(),a.addEventListener("scroll",h),()=>a.removeEventListener("scroll",h)}},[r.viewport,i,s]),f.createElement("div",{"data-state":l.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...t},onPointerDownCapture:D(e.onPointerDownCapture,a=>{const b=a.target.getBoundingClientRect(),d=a.clientX-b.left,S=a.clientY-b.top;l.onThumbPointerDown({x:d,y:S})}),onPointerUp:D(e.onPointerUp,l.onThumbPointerUp)})}),O=f.forwardRef((e,o)=>{const{forceMount:t,...n}=e,r=Q();return t||r.hasThumb?f.createElement(ge,{ref:o,...n}):null}),te=u.forwardRef(({children:e,style:o,...t},n)=>{const r=y(),l=H(n,r.onViewportChange);return f.createElement(M,{...t,ref:l,style:{overflowX:r.scrollbarXEnabled?"scroll":"hidden",overflowY:r.scrollbarYEnabled?"scroll":"hidden",...o}},f.createElement("div",{style:{minWidth:"100%",display:"table"},ref:r.onContentChange},e))});te.displayName="@mantine/core/ScrollAreaViewport";var N={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const oe={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},ye=ne((e,{scrollbarSize:o})=>({root:{"--scrollarea-scrollbar-size":le(o)}})),V=$((e,o)=>{const t=B("ScrollArea",oe,e),{classNames:n,className:r,style:l,styles:s,unstyled:c,scrollbarSize:m,vars:i,type:a,scrollHideDelay:h,viewportProps:b,viewportRef:d,onScrollPositionChange:S,children:R,offsetScrollbars:g,scrollbars:v,...T}=t,[z,P]=u.useState(!1),w=re({name:"ScrollArea",props:t,classes:N,className:r,style:l,classNames:n,styles:s,unstyled:c,vars:i,varsResolver:ye});return f.createElement(j,{type:a==="never"?"always":a,scrollHideDelay:h,ref:o,scrollbars:v,...w("root"),...T},f.createElement(te,{...b,...w("viewport",{style:b==null?void 0:b.style}),ref:d,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":v||void 0,onScroll:C=>{var x;(x=b==null?void 0:b.onScroll)==null||x.call(b,C),S==null||S({x:C.currentTarget.scrollLeft,y:C.currentTarget.scrollTop})}},R),(v==="xy"||v==="x")&&f.createElement(k,{...w("scrollbar"),orientation:"horizontal","data-hidden":a==="never"||void 0,forceMount:!0,onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1)},f.createElement(O,{...w("thumb")})),(v==="xy"||v==="y")&&f.createElement(k,{...w("scrollbar"),orientation:"vertical","data-hidden":a==="never"||void 0,forceMount:!0,onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1)},f.createElement(O,{...w("thumb")})),f.createElement(ue,{...w("corner"),"data-hovered":z||void 0,"data-hidden":a==="never"||void 0}))});V.displayName="@mantine/core/ScrollArea";const I=$((e,o)=>{const{children:t,classNames:n,styles:r,scrollbarSize:l,scrollHideDelay:s,type:c,dir:m,offsetScrollbars:i,viewportRef:a,onScrollPositionChange:h,unstyled:b,variant:d,viewportProps:S,scrollbars:R,style:g,vars:v,...T}=B("ScrollAreaAutosize",oe,e);return f.createElement(M,{...T,ref:o,style:[{display:"flex",overflow:"auto"},g]},f.createElement(M,{style:{display:"flex",flexDirection:"column",flex:1}},f.createElement(V,{classNames:n,styles:r,scrollHideDelay:s,scrollbarSize:l,type:c,dir:m,offsetScrollbars:i,viewportRef:a,onScrollPositionChange:h,unstyled:b,variant:d,viewportProps:S,vars:v,scrollbars:R},t)))});V.classes=N;I.displayName="@mantine/core/ScrollAreaAutosize";I.classes=N;V.Autosize=I;export{V as S};
