import{j as d,F as Pe,a as G}from"./jsx-runtime-c9381026.js";import{r as p}from"./index-8b3efc3f.js";import{d as O}from"./dayjs.min-5b59225a.js";import{I as Ce}from"./input-30511812.js";import{u as Ie}from"./use-input-props-6fde7f4d.js";import{u as Fe,C as ke,H as He,p as _e}from"./pick-calendar-levels-props-639cbed7.js";import{u as Q}from"./use-uncontrolled-f56237fb.js";import{C as Ne}from"./CloseButton-0a4bfd29.js";import{u as Te}from"./use-did-update-bccd292e.js";import{I as R}from"./Input-3eceb214.js";import{P as W}from"./Popover-743e2c67.js";import{F as we}from"./Flex-94975d16.js";import{I as X,a as Ae}from"./IconCalendar-cbd6718a.js";const L="ArchbaseDateTimePickerEdit",H={"DD/MM/YYYY HH:MM:SS":{mask:"00/00/0000 00:00:00",format:e=>{if(!e)return"";const n=String(e.getDate()).padStart(2,"0"),l=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),t=String(e.getMinutes()).padStart(2,"0"),u=String(e.getSeconds()).padStart(2,"0"),o=e.getFullYear();let r=[n,l,o].join("/");return(Number(s)>0||Number(t)>0||Number(u)>0)&&(r=r.concat(" ").concat(s).concat(":").concat(t).concat(":").concat(u)),r},parse:e=>{const n=e.substring(0,10),l=e.substring(11),[s,t,u]=n.split("/"),[o,r,c]=l.split(":");return new Date(u,t-1,s,o,r,c,0)}},"DD-MM-YYYY HH:MM:SS":{mask:"00-00-0000 00:00:00",format:e=>{if(!e)return"";const n=String(e.getDate()).padStart(2,"0"),l=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),t=String(e.getMinutes()).padStart(2,"0"),u=String(e.getSeconds()).padStart(2,"0"),o=e.getFullYear();let r=[n,l,o].join("/");return(Number(s)>0||Number(t)>0||Number(u)>0)&&(r=r.concat(" ").concat(s).concat(":").concat(t).concat(":").concat(u)),r},parse:e=>{const n=e.substring(0,10),l=e.substring(11),[s,t,u]=n.split("-"),[o,r,c]=l.split(":");return new Date(u,t-1,s,o,r,c,0)}},"YYYY/MM/DD HH:MM:SS":{mask:"`0000/00/00 00:00:00",format:e=>{if(!e)return"";const n=String(e.getDate()).padStart(2,"0"),l=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),t=String(e.getMinutes()).padStart(2,"0"),u=String(e.getSeconds()).padStart(2,"0"),o=e.getFullYear();let r=[n,l,o].join("/");return(Number(s)>0||Number(t)>0||Number(u)>0)&&(r=r.concat(" ").concat(s).concat(":").concat(t).concat(":").concat(u)),r},parse:e=>{const n=e.substring(0,10),l=e.substring(11),[s,t,u]=n.split("/"),[o,r,c]=l.split(":");return new Date(s,t-1,u,o,r,c,0)}},"YYYY-MM-DD HH:MM:SS":{mask:"`0000-00-00 00:00:00",format:e=>{if(!e)return"";const n=String(e.getDate()).padStart(2,"0"),l=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),t=String(e.getMinutes()).padStart(2,"0"),u=String(e.getSeconds()).padStart(2,"0"),o=e.getFullYear();let r=[n,l,o].join("/");return(Number(s)>0||Number(t)>0||Number(u)>0)&&(r=r.concat(" ").concat(s).concat(":").concat(t).concat(":").concat(u)),r},parse:e=>{const n=e.substring(0,10),l=e.substring(11),[s,t,u]=n.split("-"),[o,r,c]=l.split(":");return new Date(s,t-1,u,o,r,c,0)}}};function xe(e){const n=new Date(e);return Number.isNaN(n.getTime())||!e?null:n}function Z(e,n){if(!e||!n)return n;const l=e.getHours(),s=e.getMinutes(),t=e.getSeconds(),u=e.getMilliseconds(),o=new Date(n);return o.setHours(l),o.setMinutes(s),o.setSeconds(t),o.setMilliseconds(u),o}function $({date:e,maxDate:n,minDate:l}){return!(e==null||Number.isNaN(e.getTime())||n&&O(e).isAfter(n,"date")||l&&O(e).isBefore(l,"date"))}const Re={fixOnBlur:!0,preserveTime:!0,size:"sm",readOnly:!1,disabled:!1,clearable:!0,required:!1,placeholderChar:"_",showPlaceholderFormat:!0,dateFormat:"DD/MM/YYYY HH:MM:SS"},_=p.forwardRef((e,n)=>{const{inputProps:l,wrapperProps:s,value:t,defaultValue:u,onChange:o,clearable:r,clearButtonProps:c,popoverProps:j,getDayProps:y,locale:M,dateParser:E,minDate:V,maxDate:Y,fixOnBlur:B,onFocus:P,onBlur:C,onClick:I,readOnly:S,name:N,form:z,rightSection:T,unstyled:m,classNames:F,styles:ae,allowDeselect:te,preserveTime:ne,date:re,defaultDate:oe,onDateChange:le,showPlaceholderFormat:ue,placeholderChar:se,dateFormat:k,...ie}=Ie(L,Re,e),[de,D]=p.useState(e.error),{calendarProps:ce,others:pe}=_e(ie),me=Fe(),fe=a=>{const i=H[k].parse(a);return Number.isNaN(i.getTime())?xe(a):i},ge=p.useRef(),he=E||fe,w=r||te,b=a=>a?H[k].format(a):"",[f,h,q]=Q({value:t,defaultValue:u,finalValue:null,onChange:o}),[K,A]=Q({value:re,defaultValue:u||oe,finalValue:null,onChange:le});p.useEffect(()=>{D(void 0)},[f,K]),p.useEffect(()=>{q&&A(t)},[q,t]);const[ve,v]=p.useState(b(f));p.useEffect(()=>{v(b(f))},[me.getLocale(M)]);const[J,x]=p.useState(!1),ye=a=>{D(void 0);const i=a.currentTarget.value;if(v(i),i.trim()===""&&w)h(null);else{const g=he(i);$({date:g,minDate:V,maxDate:Y})&&(h(g),A(g))}},Ee=a=>{if(D(void 0),a.trim()===""&&w)h(null),o(null);else if(a&&a.length===H[k].mask.length){const i=H[k].parse(a);$({date:i,minDate:V,maxDate:Y})&&(h(i),A(i),o(i),!q&&v(b(i)))}},Se=a=>{var i;D(void 0),h(Z(f,a)),(i=ge.current)==null||i.focus()},De=(a,i)=>{D(void 0),i.masked.rawInputValue===""&&w&&(h(null),A(null),!q&&v(""))},be=a=>{D(void 0),C==null||C(a),x(!1),B&&v(b(f))},qe=a=>{P==null||P(a),x(!0)},Me=a=>{I==null||I(a),x(!0)},Ve=a=>({...y==null?void 0:y(a),selected:O(f).isSame(a,"day"),onClick:()=>{const i=ne?Z(f,a):a,g=w&&O(f).isSame(a,"day")?null:i;h(g),!q&&v(b(g)),x(!1)}}),Ye=T||(r&&f&&!S?d(Ne,{variant:"transparent",onMouseDown:a=>a.preventDefault(),tabIndex:-1,onClick:()=>{h(null),!q&&v("")},unstyled:m,...c}):null);return Te(()=>{t!==void 0&&!J&&v(b(t))},[t]),d(Pe,{children:G(R.Wrapper,{...s,error:de,children:[G(W,{opened:J,trapFocus:!1,position:"bottom-start",disabled:S,withRoles:!1,withinPortal:!0,...j,children:[d(W.Target,{children:d(R.Wrapper,{required:e.required,__staticSelector:L,children:d(R,{"data-dates-input":!0,"data-read-only":S||void 0,autoComplete:"off",ref:n,component:Ce,rightSection:Ye,lazy:!ue,placeholderChar:se,mask:H[k].mask,onBlur:be,onFocus:qe,onClick:Me,onComplete:Ee,onChange:ye,onAccept:De,readOnly:S,value:ve,...l,...pe,format:a=>{if(!a)return"";const i=String(a.getDate()).padStart(2,"0"),g=String(a.getMonth()+1).padStart(2,"0"),U=a.getFullYear();return[i,g,U].join("/")},parse:a=>{const[i,g,U]=a.split("/");return new Date(U,g-1,i)}})})}),d(W.Dropdown,{onMouseDown:a=>a.preventDefault(),"data-dates-dropdown":!0,children:d(ke,{__staticSelector:L,...ce,classNames:F,styles:ae,unstyled:m,__preventFocus:!0,minDate:V,maxDate:Y,locale:M,getDayProps:Ve,size:l.size,date:K||void 0,onDateChange:Se})})]}),d(He,{name:N||"",form:z||"",value:f,type:"default"})]})})});_.displayName=L;try{_.displayName="ArchbaseDateTimePickerEdit",_.__docgenInfo={description:"",displayName:"ArchbaseDateTimePickerEdit",props:{dateParser:{defaultValue:null,description:"Analisa a entrada do usuário para convertê-la em um objeto Date",name:"dateParser",required:!1,type:{name:"(value: string) => Date"}},value:{defaultValue:null,description:"Valor do componente controlado",name:"value",required:!1,type:{name:"Date"}},defaultValue:{defaultValue:null,description:"Valor padrão para componente não controlado",name:"defaultValue",required:!1,type:{name:"Date"}},onChange:{defaultValue:null,description:"Chamado quando o valor muda",name:"onChange",required:!1,type:{name:"(value: Date) => void"}},popoverProps:{defaultValue:null,description:"Adereços adicionados ao componente Popover",name:"popoverProps",required:!1,type:{name:'Partial<Omit<PopoverProps, "children">>'}},clearable:{defaultValue:null,description:"Determina se o valor de entrada pode ser limpo, adiciona o botão limpar à seção direita, falso por padrão",name:"clearable",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"Adereços adicionados ao botão limpar",name:"clearButtonProps",required:!1,type:{name:"CloseButtonProps"}},fixOnBlur:{defaultValue:null,description:"Determina se o valor de entrada deve ser revertido para o último valor válido conhecido no desfoque, verdadeiro por padrão",name:"fixOnBlur",required:!1,type:{name:"boolean"}},allowDeselect:{defaultValue:null,description:"Determina se o valor pode ser desmarcado quando o usuário clica na data selecionada no calendário ou apaga o conteúdo da entrada, verdadeiro se prop limpável estiver definido, falso por padrão",name:"allowDeselect",required:!1,type:{name:"boolean"}},preserveTime:{defaultValue:null,description:"Determina se o tempo (horas, minutos, segundos e milissegundos) deve ser preservado quando uma nova data é escolhida, verdadeiro por padrão",name:"preserveTime",required:!1,type:{name:"boolean"}},maxLevel:{defaultValue:null,description:"Nível máximo que o usuário pode atingir (década, ano, mês), o padrão é década",name:"maxLevel",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"year"'},{value:'"decade"'}]}},defaultLevel:{defaultValue:null,description:"Nível inicial exibido ao usuário (década, ano, mês), usado para componente não controlado",name:"defaultLevel",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"year"'},{value:'"decade"'}]}},level:{defaultValue:null,description:"Nível atual exibido ao usuário (década, ano, mês), usado para componente controlado",name:"level",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"year"'},{value:'"decade"'}]}},onLevelChange:{defaultValue:null,description:"Chamado quando o nível muda",name:"onLevelChange",required:!1,type:{name:"(level: CalendarLevel) => void"}},disabled:{defaultValue:null,description:"Sets `disabled` attribute on the `input` element",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},dateFormat:{defaultValue:null,description:"",name:"dateFormat",required:!1,type:{name:"enum",value:[{value:'"DD/MM/YYYY HH:MM:SS"'},{value:'"DD-MM-YYYY HH:MM:SS"'},{value:'"YYYY/MM/DD HH:MM:SS"'},{value:'"YYYY-MM-DD HH:MM:SS"'}]}},placeholderChar:{defaultValue:null,description:"",name:"placeholderChar",required:!1,type:{name:"string"}},showPlaceholderFormat:{defaultValue:null,description:"",name:"showPlaceholderFormat",required:!1,type:{name:"boolean"}},onFocusExit:{defaultValue:null,description:"",name:"onFocusExit",required:!1,type:{name:"FocusEvent<HTMLInputElement, Element>"}},onFocusEnter:{defaultValue:null,description:"",name:"onFocusEnter",required:!1,type:{name:"FocusEvent<HTMLInputElement, Element>"}},required:{defaultValue:null,description:"Indica se o date time picker tem o preenchimento obrigatório",name:"required",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"Último erro ocorrido no date timer picker",name:"error",required:!1,type:{name:"string"}}}}}catch{}function ee({label:e,disabled:n,readOnly:l,size:s,width:t,style:u,description:o,onSelectDateRange:r,placeholderStart:c,placeholderEnd:j,onFocusExit:y,onFocusEnter:M,icon:E,innerRefStart:V,innerRefEnd:Y,error:B}){const[P,C]=p.useState(),[I,S]=p.useState(),[N,z]=p.useState(B),T=(m,F)=>{C(m),S(F),r&&m&&F&&r([m,F])};return d(R.Wrapper,{label:e,size:s,error:N,description:o,style:{width:t,...u},children:G(we,{gap:"sm",justify:"flex-start",align:"center",direction:"row",children:[d(_,{clearable:!0,rightSection:E||d(X,{}),readOnly:l,placeholder:c,disabled:n,ref:V,onFocusEnter:M,onFocusExit:y,onChange:m=>T(m,I),style:{width:t||180}}),d(Ae,{size:"1rem"}),d(_,{clearable:!0,rightSection:E||d(X,{}),placeholder:j,readOnly:l,disabled:n,ref:Y,onFocusEnter:M,onFocusExit:y,onChange:m=>T(P,m),style:{width:t||180}})]})})}try{ee.displayName="ArchbaseDateTimePickerRange",ee.__docgenInfo={description:"",displayName:"ArchbaseDateTimePickerRange",props:{disabled:{defaultValue:null,description:"Indicador se o date picker range está desabilitado",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"Indicador se o date picker range é somente leitura. Obs: usado em conjunto com o status da fonte de dados",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"Indicador se o preenchimento do date picker range é obrigatório",name:"required",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"Valor inicial",name:"value",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Estilo do date picker range",name:"style",required:!1,type:{name:"CSSProperties"}},size:{defaultValue:null,description:"Tamanho do date picker range",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},width:{defaultValue:null,description:"Largura do date picker range",name:"width",required:!1,type:{name:"string | number"}},icon:{defaultValue:null,description:"Icone à direita",name:"icon",required:!1,type:{name:"ReactNode"}},placeholderStart:{defaultValue:null,description:"Texto sugestão do date picker range",name:"placeholderStart",required:!1,type:{name:"string"}},placeholderEnd:{defaultValue:null,description:"Texto sugestão do date picker range",name:"placeholderEnd",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Título do date picker range",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Descrição do date picker range",name:"description",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Último erro ocorrido no date picker range",name:"error",required:!1,type:{name:"string"}},onFocusExit:{defaultValue:null,description:"Evento quando o foco sai do date picker range",name:"onFocusExit",required:!1,type:{name:"FocusEvent<HTMLInputElement, Element>"}},onFocusEnter:{defaultValue:null,description:"Evento quando o date picker range recebe o foco",name:"onFocusEnter",required:!1,type:{name:"FocusEvent<HTMLInputElement, Element>"}},onSelectDateRange:{defaultValue:null,description:"Evento quando o valor do range do date picker range é alterado",name:"onSelectDateRange",required:!1,type:{name:"(value: Date[]) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: any) => void"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"(event: any) => void"}},innerRefStart:{defaultValue:null,description:"Referência para o componente interno data inicial",name:"innerRefStart",required:!1,type:{name:"RefObject<HTMLInputElement>"}},innerRefEnd:{defaultValue:null,description:"Referência para o componente interno data final",name:"innerRefEnd",required:!1,type:{name:"RefObject<HTMLInputElement>"}}}}}catch{}export{ee as A,_ as a};
