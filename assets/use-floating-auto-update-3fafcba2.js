import{r as p,a as Et}from"./index-8b3efc3f.js";import{r as Ct}from"./index-a38d0dca.js";import{j as Pt}from"./jsx-runtime-c9381026.js";import{u as At}from"./DirectionProvider-1e219af7.js";import{r as me}from"./polymorphic-factory-8fbd487e.js";import{u as je}from"./use-did-update-bccd292e.js";function ce(e){return lt(e)?(e.nodeName||"").toLowerCase():"#document"}function B(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function U(e){var t;return(t=(lt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lt(e){return e instanceof Node||e instanceof B(e).Node}function F(e){return e instanceof Element||e instanceof B(e).Element}function N(e){return e instanceof HTMLElement||e instanceof B(e).HTMLElement}function Pe(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof B(e).ShadowRoot}function de(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=K(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function Tt(e){return["table","td","th"].includes(ce(e))}function Me(e){const t=De(),n=K(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Lt(e){let t=X(e);for(;N(t)&&!Z(t);){if(Me(t))return t;t=X(t)}return null}function De(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Z(e){return["html","body","#document"].includes(ce(e))}function K(e){return B(e).getComputedStyle(e)}function we(e){return F(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function X(e){if(ce(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pe(e)&&e.host||U(e);return Pe(t)?t.host:t}function ut(e){const t=X(e);return Z(t)?e.ownerDocument?e.ownerDocument.body:e.body:N(t)&&de(t)?t:ut(t)}function Q(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=ut(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=B(r);return i?t.concat(s,s.visualViewport||[],de(r)?r:[],s.frameElement&&n?Q(s.frameElement):[]):t.concat(r,Q(r,[],n))}function Ye(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function ae(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Pe(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function ft(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function at(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}function Ot(e){return St()?!1:!Xe()&&e.width===0&&e.height===0||Xe()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Mt(){return/apple/i.test(navigator.vendor)}function Xe(){const e=/android/i;return e.test(ft())||e.test(at())}function Dt(){return ft().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function St(){return at().includes("jsdom/")}function Ae(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function kt(e){return"nativeEvent"in e}function It(e){return e.matches("html,body")}function te(e){return(e==null?void 0:e.ownerDocument)||document}function be(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function re(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Ft="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function $t(e){return N(e)&&e.matches(Ft)}const W=Math.min,_=Math.max,ve=Math.round,ge=Math.floor,ee=e=>({x:e,y:e}),_t={left:"right",right:"left",bottom:"top",top:"bottom"},Bt={start:"end",end:"start"};function Te(e,t,n){return _(e,W(t,n))}function z(e,t){return typeof e=="function"?e(t):e}function j(e){return e.split("-")[0]}function le(e){return e.split("-")[1]}function Se(e){return e==="x"?"y":"x"}function ke(e){return e==="y"?"height":"width"}function oe(e){return["top","bottom"].includes(j(e))?"y":"x"}function Ie(e){return Se(oe(e))}function Wt(e,t,n){n===void 0&&(n=!1);const o=le(e),r=Ie(e),i=ke(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=ye(s)),[s,ye(s)]}function Nt(e){const t=ye(e);return[Le(e),t,Le(t)]}function Le(e){return e.replace(/start|end/g,t=>Bt[t])}function Ht(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:s;default:return[]}}function Vt(e,t,n,o){const r=le(e);let i=Ht(j(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(Le)))),i}function ye(e){return e.replace(/left|right|bottom|top/g,t=>_t[t])}function Kt(e){return{top:0,right:0,bottom:0,left:0,...e}}function Fe(e){return typeof e!="number"?Kt(e):{top:e,right:e,bottom:e,left:e}}function se(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function ze(e,t,n){let{reference:o,floating:r}=e;const i=oe(t),s=Ie(t),c=ke(s),l=j(t),a=i==="y",d=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,m=o[c]/2-r[c]/2;let u;switch(l){case"top":u={x:d,y:o.y-r.height};break;case"bottom":u={x:d,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:f};break;case"left":u={x:o.x-r.width,y:f};break;default:u={x:o.x,y:o.y}}switch(le(t)){case"start":u[s]-=m*(n&&a?-1:1);break;case"end":u[s]+=m*(n&&a?-1:1);break}return u}const jt=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:f}=ze(a,o,l),m=o,u={},g=0;for(let v=0;v<c.length;v++){const{name:y,fn:b}=c[v],{x:E,y:x,data:C,reset:P}=await b({x:d,y:f,initialPlacement:o,placement:m,strategy:r,middlewareData:u,rects:a,platform:s,elements:{reference:e,floating:t}});d=E??d,f=x??f,u={...u,[y]:{...u[y],...C}},P&&g<=50&&(g++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(a=P.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):P.rects),{x:d,y:f}=ze(a,m,l)),v=-1)}return{x:d,y:f,placement:m,strategy:r,middlewareData:u}};async function $e(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:c,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:u=0}=z(t,e),g=Fe(u),y=c[m?f==="floating"?"reference":"floating":f],b=se(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:d,strategy:l})),E=f==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),C=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},P=se(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:x,strategy:l}):E);return{top:(b.top-P.top+g.top)/C.y,bottom:(P.bottom-b.bottom+g.bottom)/C.y,left:(b.left-P.left+g.left)/C.x,right:(P.right-b.right+g.right)/C.x}}const Yt=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:i,platform:s,elements:c,middlewareData:l}=t,{element:a,padding:d=0}=z(e,t)||{};if(a==null)return{};const f=Fe(d),m={x:n,y:o},u=Ie(r),g=ke(u),v=await s.getDimensions(a),y=u==="y",b=y?"top":"left",E=y?"bottom":"right",x=y?"clientHeight":"clientWidth",C=i.reference[g]+i.reference[u]-m[u]-i.floating[g],P=m[u]-i.reference[u],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let S=M?M[x]:0;(!S||!await(s.isElement==null?void 0:s.isElement(M)))&&(S=c.floating[x]||i.floating[g]);const I=C/2-P/2,$=S/2-v[g]/2-1,O=W(f[b],$),k=W(f[E],$),D=O,T=S-v[g]-k,h=S/2-v[g]/2+I,R=Te(D,h,T),A=!l.arrow&&le(r)!=null&&h!==R&&i.reference[g]/2-(h<D?O:k)-v[g]/2<0,w=A?h<D?h-D:h-T:0;return{[u]:m[u]+w,data:{[u]:R,centerOffset:h-R-w,...A&&{alignmentOffset:w}},reset:A}}}),Xt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:a}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=z(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=j(r),E=j(c)===c,x=await(l.isRTL==null?void 0:l.isRTL(a.floating)),C=m||(E||!v?[ye(c)]:Nt(c));!m&&g!=="none"&&C.push(...Vt(c,v,g,x));const P=[c,...C],M=await $e(t,y),S=[];let I=((o=i.flip)==null?void 0:o.overflows)||[];if(d&&S.push(M[b]),f){const D=Wt(r,s,x);S.push(M[D[0]],M[D[1]])}if(I=[...I,{placement:r,overflows:S}],!S.every(D=>D<=0)){var $,O;const D=((($=i.flip)==null?void 0:$.index)||0)+1,T=P[D];if(T)return{data:{index:D,overflows:I},reset:{placement:T}};let h=(O=I.filter(R=>R.overflows[0]<=0).sort((R,A)=>R.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!h)switch(u){case"bestFit":{var k;const R=(k=I.map(A=>[A.placement,A.overflows.filter(w=>w>0).reduce((w,L)=>w+L,0)]).sort((A,w)=>A[1]-w[1])[0])==null?void 0:k[0];R&&(h=R);break}case"initialPlacement":h=c;break}if(r!==h)return{reset:{placement:h}}}return{}}}};function dt(e){const t=W(...e.map(i=>i.left)),n=W(...e.map(i=>i.top)),o=_(...e.map(i=>i.right)),r=_(...e.map(i=>i.bottom));return{x:t,y:n,width:o-t,height:r-n}}function zt(e){const t=e.slice().sort((r,i)=>r.y-i.y),n=[];let o=null;for(let r=0;r<t.length;r++){const i=t[r];!o||i.y-o.y>o.height/2?n.push([i]):n[n.length-1].push(i),o=i}return n.map(r=>se(dt(r)))}const Ut=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:o,rects:r,platform:i,strategy:s}=t,{padding:c=2,x:l,y:a}=z(e,t),d=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(o.reference))||[]),f=zt(d),m=se(dt(d)),u=Fe(c);function g(){if(f.length===2&&f[0].left>f[1].right&&l!=null&&a!=null)return f.find(y=>l>y.left-u.left&&l<y.right+u.right&&a>y.top-u.top&&a<y.bottom+u.bottom)||m;if(f.length>=2){if(oe(n)==="y"){const O=f[0],k=f[f.length-1],D=j(n)==="top",T=O.top,h=k.bottom,R=D?O.left:k.left,A=D?O.right:k.right,w=A-R,L=h-T;return{top:T,bottom:h,left:R,right:A,width:w,height:L,x:R,y:T}}const y=j(n)==="left",b=_(...f.map(O=>O.right)),E=W(...f.map(O=>O.left)),x=f.filter(O=>y?O.left===E:O.right===b),C=x[0].top,P=x[x.length-1].bottom,M=E,S=b,I=S-M,$=P-C;return{top:C,bottom:P,left:M,right:S,width:I,height:$,x:M,y:C}}return m}const v=await i.getElementRects({reference:{getBoundingClientRect:g},floating:o.floating,strategy:s});return r.reference.x!==v.reference.x||r.reference.y!==v.reference.y||r.reference.width!==v.reference.width||r.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}};async function Gt(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=j(n),c=le(n),l=oe(n)==="y",a=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,f=z(t,e);let{mainAxis:m,crossAxis:u,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&typeof g=="number"&&(u=c==="end"?g*-1:g),l?{x:u*d,y:m*a}:{x:m*a,y:u*d}}const qt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:s,middlewareData:c}=t,l=await Gt(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:s}}}}},Jt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:y=>{let{x:b,y:E}=y;return{x:b,y:E}}},...l}=z(e,t),a={x:n,y:o},d=await $e(t,l),f=oe(j(r)),m=Se(f);let u=a[m],g=a[f];if(i){const y=m==="y"?"top":"left",b=m==="y"?"bottom":"right",E=u+d[y],x=u-d[b];u=Te(E,u,x)}if(s){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",E=g+d[y],x=g-d[b];g=Te(E,g,x)}const v=c.fn({...t,[m]:u,[f]:g});return{...v,data:{x:v.x-n,y:v.y-o}}}}},Qt=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:r,rects:i,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:a=!0}=z(e,t),d={x:n,y:o},f=oe(r),m=Se(f);let u=d[m],g=d[f];const v=z(c,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=m==="y"?"height":"width",C=i.reference[m]-i.floating[x]+y.mainAxis,P=i.reference[m]+i.reference[x]-y.mainAxis;u<C?u=C:u>P&&(u=P)}if(a){var b,E;const x=m==="y"?"width":"height",C=["top","left"].includes(j(r)),P=i.reference[f]-i.floating[x]+(C&&((b=s.offset)==null?void 0:b[f])||0)+(C?0:y.crossAxis),M=i.reference[f]+i.reference[x]+(C?0:((E=s.offset)==null?void 0:E[f])||0)-(C?y.crossAxis:0);g<P?g=P:g>M&&(g=M)}return{[m]:u,[f]:g}}}},Zt=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:o,platform:r,elements:i}=t,{apply:s=()=>{},...c}=z(e,t),l=await $e(t,c),a=j(n),d=le(n),f=oe(n)==="y",{width:m,height:u}=o.floating;let g,v;a==="top"||a==="bottom"?(g=a,v=d===(await(r.isRTL==null?void 0:r.isRTL(i.floating))?"start":"end")?"left":"right"):(v=a,g=d==="end"?"top":"bottom");const y=u-l.top-l.bottom,b=m-l.left-l.right,E=W(u-l[g],y),x=W(m-l[v],b),C=!t.middlewareData.shift;let P=E,M=x;if(f?M=d||C?W(x,b):b:P=d||C?W(E,y):y,C&&!d){const I=_(l.left,0),$=_(l.right,0),O=_(l.top,0),k=_(l.bottom,0);f?M=m-2*(I!==0||$!==0?I+$:_(l.left,l.right)):P=u-2*(O!==0||k!==0?O+k:_(l.top,l.bottom))}await s({...t,availableWidth:M,availableHeight:P});const S=await r.getDimensions(i.floating);return m!==S.width||u!==S.height?{reset:{rects:!0}}:{}}}};function mt(e){const t=K(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=N(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,c=ve(n)!==i||ve(o)!==s;return c&&(n=i,o=s),{width:n,height:o,$:c}}function _e(e){return F(e)?e:e.contextElement}function ie(e){const t=_e(e);if(!N(t))return ee(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=mt(t);let s=(i?ve(n.width):n.width)/o,c=(i?ve(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const en=ee(0);function gt(e){const t=B(e);return!De()||!t.visualViewport?en:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==B(e)?!1:t}function ne(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=_e(e);let s=ee(1);t&&(o?F(o)&&(s=ie(o)):s=ie(e));const c=tn(i,n,o)?gt(i):ee(0);let l=(r.left+c.x)/s.x,a=(r.top+c.y)/s.y,d=r.width/s.x,f=r.height/s.y;if(i){const m=B(i),u=o&&F(o)?B(o):o;let g=m,v=g.frameElement;for(;v&&o&&u!==g;){const y=ie(v),b=v.getBoundingClientRect(),E=K(v),x=b.left+(v.clientLeft+parseFloat(E.paddingLeft))*y.x,C=b.top+(v.clientTop+parseFloat(E.paddingTop))*y.y;l*=y.x,a*=y.y,d*=y.x,f*=y.y,l+=x,a+=C,g=B(v),v=g.frameElement}}return se({width:d,height:f,x:l,y:a})}const nn=[":popover-open",":modal"];function Be(e){return nn.some(t=>{try{return e.matches(t)}catch{return!1}})}function on(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=U(o),c=t?Be(t.floating):!1;if(o===s||c&&i)return n;let l={scrollLeft:0,scrollTop:0},a=ee(1);const d=ee(0),f=N(o);if((f||!f&&!i)&&((ce(o)!=="body"||de(s))&&(l=we(o)),N(o))){const m=ne(o);a=ie(o),d.x=m.x+o.clientLeft,d.y=m.y+o.clientTop}return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-l.scrollLeft*a.x+d.x,y:n.y*a.y-l.scrollTop*a.y+d.y}}function rn(e){return Array.from(e.getClientRects())}function pt(e){return ne(U(e)).left+we(e).scrollLeft}function sn(e){const t=U(e),n=we(e),o=e.ownerDocument.body,r=_(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=_(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+pt(e);const c=-n.scrollTop;return K(o).direction==="rtl"&&(s+=_(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:c}}function cn(e,t){const n=B(e),o=U(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,c=0,l=0;if(r){i=r.width,s=r.height;const a=De();(!a||a&&t==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:i,height:s,x:c,y:l}}function ln(e,t){const n=ne(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=N(e)?ie(e):ee(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,l=r*i.x,a=o*i.y;return{width:s,height:c,x:l,y:a}}function Ue(e,t,n){let o;if(t==="viewport")o=cn(e,n);else if(t==="document")o=sn(U(e));else if(F(t))o=ln(t,n);else{const r=gt(e);o={...t,x:t.x-r.x,y:t.y-r.y}}return se(o)}function ht(e,t){const n=X(e);return n===t||!F(n)||Z(n)?!1:K(n).position==="fixed"||ht(n,t)}function un(e,t){const n=t.get(e);if(n)return n;let o=Q(e,[],!1).filter(c=>F(c)&&ce(c)!=="body"),r=null;const i=K(e).position==="fixed";let s=i?X(e):e;for(;F(s)&&!Z(s);){const c=K(s),l=Me(s);!l&&c.position==="fixed"&&(r=null),(i?!l&&!r:!l&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||de(s)&&!l&&ht(e,s))?o=o.filter(d=>d!==s):r=c,s=X(s)}return t.set(e,o),o}function fn(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?Be(t)?[]:un(t,this._c):[].concat(n),o],c=s[0],l=s.reduce((a,d)=>{const f=Ue(t,d,r);return a.top=_(f.top,a.top),a.right=W(f.right,a.right),a.bottom=W(f.bottom,a.bottom),a.left=_(f.left,a.left),a},Ue(t,c,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function an(e){const{width:t,height:n}=mt(e);return{width:t,height:n}}function dn(e,t,n){const o=N(t),r=U(t),i=n==="fixed",s=ne(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=ee(0);if(o||!o&&!i)if((ce(t)!=="body"||de(r))&&(c=we(t)),o){const f=ne(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else r&&(l.x=pt(r));const a=s.left+c.scrollLeft-l.x,d=s.top+c.scrollTop-l.y;return{x:a,y:d,width:s.width,height:s.height}}function Re(e){return K(e).position==="static"}function Ge(e,t){return!N(e)||K(e).position==="fixed"?null:t?t(e):e.offsetParent}function vt(e,t){const n=B(e);if(Be(e))return n;if(!N(e)){let r=X(e);for(;r&&!Z(r);){if(F(r)&&!Re(r))return r;r=X(r)}return n}let o=Ge(e,t);for(;o&&Tt(o)&&Re(o);)o=Ge(o,t);return o&&Z(o)&&Re(o)&&!Me(o)?n:o||Lt(e)||n}const mn=async function(e){const t=this.getOffsetParent||vt,n=this.getDimensions,o=await n(e.floating);return{reference:dn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function gn(e){return K(e).direction==="rtl"}const pn={convertOffsetParentRelativeRectToViewportRelativeRect:on,getDocumentElement:U,getClippingRect:fn,getOffsetParent:vt,getElementRects:mn,getClientRects:rn,getDimensions:an,getScale:ie,isElement:F,isRTL:gn};function hn(e,t){let n=null,o;const r=U(e);function i(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:a,top:d,width:f,height:m}=e.getBoundingClientRect();if(c||t(),!f||!m)return;const u=ge(d),g=ge(r.clientWidth-(a+f)),v=ge(r.clientHeight-(d+m)),y=ge(a),E={rootMargin:-u+"px "+-g+"px "+-v+"px "+-y+"px",threshold:_(0,W(1,l))||1};let x=!0;function C(P){const M=P[0].intersectionRatio;if(M!==l){if(!x)return s();M?s(!1,M):o=setTimeout(()=>{s(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(C,{...E,root:r.ownerDocument})}catch{n=new IntersectionObserver(C,E)}n.observe(e)}return s(!0),i}function vn(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,a=_e(e),d=r||i?[...a?Q(a):[],...Q(t)]:[];d.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=a&&c?hn(a,n):null;let m=-1,u=null;s&&(u=new ResizeObserver(b=>{let[E]=b;E&&E.target===a&&u&&(u.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=u)==null||x.observe(t)})),n()}),a&&!l&&u.observe(a),u.observe(t));let g,v=l?ne(e):null;l&&y();function y(){const b=ne(e);v&&(b.x!==v.x||b.y!==v.y||b.width!==v.width||b.height!==v.height)&&n(),v=b,g=requestAnimationFrame(y)}return n(),()=>{var b;d.forEach(E=>{r&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),f==null||f(),(b=u)==null||b.disconnect(),u=null,l&&cancelAnimationFrame(g)}}const yn=qt,xn=Jt,wn=Xt,bn=Zt,qe=Yt,Rn=Ut,En=Qt,Cn=(e,t,n)=>{const o=new Map,r={platform:pn,...n},i={...r.platform,_c:o};return jt(e,t,{...r,platform:i})};var pe=typeof document<"u"?p.useLayoutEffect:p.useEffect;function xe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!xe(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!xe(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function yt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Je(e,t){const n=yt(e);return Math.round(t*n)/n}function Qe(e){const t=p.useRef(e);return pe(()=>{t.current=e}),t}function Pn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:l,open:a}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,u]=p.useState(o);xe(m,o)||u(o);const[g,v]=p.useState(null),[y,b]=p.useState(null),E=p.useCallback(w=>{w!==M.current&&(M.current=w,v(w))},[]),x=p.useCallback(w=>{w!==S.current&&(S.current=w,b(w))},[]),C=i||g,P=s||y,M=p.useRef(null),S=p.useRef(null),I=p.useRef(d),$=l!=null,O=Qe(l),k=Qe(r),D=p.useCallback(()=>{if(!M.current||!S.current)return;const w={placement:t,strategy:n,middleware:m};k.current&&(w.platform=k.current),Cn(M.current,S.current,w).then(L=>{const H={...L,isPositioned:!0};T.current&&!xe(I.current,H)&&(I.current=H,Ct.flushSync(()=>{f(H)}))})},[m,t,n,k]);pe(()=>{a===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(w=>({...w,isPositioned:!1})))},[a]);const T=p.useRef(!1);pe(()=>(T.current=!0,()=>{T.current=!1}),[]),pe(()=>{if(C&&(M.current=C),P&&(S.current=P),C&&P){if(O.current)return O.current(C,P,D);D()}},[C,P,D,O,$]);const h=p.useMemo(()=>({reference:M,floating:S,setReference:E,setFloating:x}),[E,x]),R=p.useMemo(()=>({reference:C,floating:P}),[C,P]),A=p.useMemo(()=>{const w={position:n,left:0,top:0};if(!R.floating)return w;const L=Je(R.floating,d.x),H=Je(R.floating,d.y);return c?{...w,transform:"translate("+L+"px, "+H+"px)",...yt(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:H}},[n,c,R.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:D,refs:h,elements:R,floatingStyles:A}),[d,D,h,R,A])}const An=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:r}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?qe({element:o.current,padding:r}).fn(n):{}:o?qe({element:o,padding:r}).fn(n):{}}}},qn=(e,t)=>({...yn(e),options:[e,t]}),Jn=(e,t)=>({...xn(e),options:[e,t]}),Qn=(e,t)=>({...En(e),options:[e,t]}),Zn=(e,t)=>({...wn(e),options:[e,t]}),eo=(e,t)=>({...bn(e),options:[e,t]}),to=(e,t)=>({...Rn(e),options:[e,t]}),no=(e,t)=>({...An(e),options:[e,t]}),xt={...Et},Tn=xt.useInsertionEffect,Ln=Tn||(e=>e());function J(e){const t=p.useRef(()=>{});return Ln(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var Y=typeof document<"u"?p.useLayoutEffect:p.useEffect;let Ze=!1,On=0;const et=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+On++;function Mn(){const[e,t]=p.useState(()=>Ze?et():void 0);return Y(()=>{e==null&&t(et())},[]),p.useEffect(()=>{Ze=!0},[]),e}const Dn=xt.useId,wt=Dn||Mn;function Sn(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const kn=p.createContext(null),In=p.createContext(null),We=()=>{var e;return((e=p.useContext(kn))==null?void 0:e.id)||null},Ne=()=>p.useContext(In);function He(e){return"data-floating-ui-"+e}function tt(e){const t=p.useRef(e);return Y(()=>{t.current=e}),t}const nt=He("safe-polygon");function he(e,t,n){return n&&!Ae(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function oo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,dataRef:r,events:i,elements:{domReference:s,floating:c}}=e,{enabled:l=!0,delay:a=0,handleClose:d=null,mouseOnly:f=!1,restMs:m=0,move:u=!0}=t,g=Ne(),v=We(),y=tt(d),b=tt(a),E=p.useRef(),x=p.useRef(-1),C=p.useRef(),P=p.useRef(-1),M=p.useRef(!0),S=p.useRef(!1),I=p.useRef(()=>{}),$=p.useCallback(()=>{var T;const h=(T=r.current.openEvent)==null?void 0:T.type;return(h==null?void 0:h.includes("mouse"))&&h!=="mousedown"},[r]);p.useEffect(()=>{if(!l)return;function T(h){let{open:R}=h;R||(clearTimeout(x.current),clearTimeout(P.current),M.current=!0)}return i.on("openchange",T),()=>{i.off("openchange",T)}},[l,i]),p.useEffect(()=>{if(!l||!y.current||!n)return;function T(R){$()&&o(!1,R,"hover")}const h=te(c).documentElement;return h.addEventListener("mouseleave",T),()=>{h.removeEventListener("mouseleave",T)}},[c,n,o,l,y,$]);const O=p.useCallback(function(T,h,R){h===void 0&&(h=!0),R===void 0&&(R="hover");const A=he(b.current,"close",E.current);A&&!C.current?(clearTimeout(x.current),x.current=window.setTimeout(()=>o(!1,T,R),A)):h&&(clearTimeout(x.current),o(!1,T,R))},[b,o]),k=J(()=>{I.current(),C.current=void 0}),D=J(()=>{if(S.current){const T=te(c).body;T.style.pointerEvents="",T.removeAttribute(nt),S.current=!1}});return p.useEffect(()=>{if(!l)return;function T(){return r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1}function h(w){if(clearTimeout(x.current),M.current=!1,f&&!Ae(E.current)||m>0&&!he(b.current,"open"))return;const L=he(b.current,"open",E.current);L?x.current=window.setTimeout(()=>{o(!0,w,"hover")},L):o(!0,w,"hover")}function R(w){if(T())return;I.current();const L=te(c);if(clearTimeout(P.current),y.current&&r.current.floatingContext){n||clearTimeout(x.current),C.current=y.current({...r.current.floatingContext,tree:g,x:w.clientX,y:w.clientY,onClose(){D(),k(),O(w,!0,"safe-polygon")}});const G=C.current;L.addEventListener("mousemove",G),I.current=()=>{L.removeEventListener("mousemove",G)};return}(E.current==="touch"?!ae(c,w.relatedTarget):!0)&&O(w)}function A(w){T()||r.current.floatingContext&&(y.current==null||y.current({...r.current.floatingContext,tree:g,x:w.clientX,y:w.clientY,onClose(){D(),k(),O(w)}})(w))}if(F(s)){const w=s;return n&&w.addEventListener("mouseleave",A),c==null||c.addEventListener("mouseleave",A),u&&w.addEventListener("mousemove",h,{once:!0}),w.addEventListener("mouseenter",h),w.addEventListener("mouseleave",R),()=>{n&&w.removeEventListener("mouseleave",A),c==null||c.removeEventListener("mouseleave",A),u&&w.removeEventListener("mousemove",h),w.removeEventListener("mouseenter",h),w.removeEventListener("mouseleave",R)}}},[s,c,l,e,f,m,u,O,k,D,o,n,g,b,y,r]),Y(()=>{var T;if(l&&n&&(T=y.current)!=null&&T.__options.blockPointerEvents&&$()){const R=te(c).body;if(R.setAttribute(nt,""),R.style.pointerEvents="none",S.current=!0,F(s)&&c){var h;const A=s,w=g==null||(h=g.nodesRef.current.find(L=>L.id===v))==null||(h=h.context)==null?void 0:h.elements.floating;return w&&(w.style.pointerEvents=""),A.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{A.style.pointerEvents="",c.style.pointerEvents=""}}}},[l,n,v,c,s,g,y,$]),Y(()=>{n||(E.current=void 0,k(),D())},[n,k,D]),p.useEffect(()=>()=>{k(),clearTimeout(x.current),clearTimeout(P.current),D()},[l,s,k,D]),p.useMemo(()=>{if(!l)return{};function T(h){E.current=h.pointerType}return{reference:{onPointerDown:T,onPointerEnter:T,onMouseMove(h){function R(){M.current||o(!0,h.nativeEvent,"hover")}f&&!Ae(E.current)||n||m===0||(clearTimeout(P.current),E.current==="touch"?R():P.current=window.setTimeout(R,m))}},floating:{onMouseEnter(){clearTimeout(x.current)},onMouseLeave(h){O(h.nativeEvent,!1)}}}},[l,f,n,m,o,O])}const Oe=()=>{},bt=p.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Oe,setState:Oe,isInstantPhase:!1}),Fn=()=>p.useContext(bt);function ro(e){const{children:t,delay:n,timeoutMs:o=0}=e,[r,i]=p.useReducer((l,a)=>({...l,...a}),{delay:n,timeoutMs:o,initialDelay:n,currentId:null,isInstantPhase:!1}),s=p.useRef(null),c=p.useCallback(l=>{i({currentId:l})},[]);return Y(()=>{r.currentId?s.current===null?s.current=r.currentId:r.isInstantPhase||i({isInstantPhase:!0}):(r.isInstantPhase&&i({isInstantPhase:!1}),s.current=null)},[r.currentId,r.isInstantPhase]),p.createElement(bt.Provider,{value:p.useMemo(()=>({...r,setState:i,setCurrentId:c}),[r,c])},t)}function io(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,floatingId:r}=e,{id:i}=t,s=i??r,c=Fn(),{currentId:l,setCurrentId:a,initialDelay:d,setState:f,timeoutMs:m}=c;return Y(()=>{l&&(f({delay:{open:1,close:he(d,"close")}}),l!==s&&o(!1))},[s,o,f,l,d]),Y(()=>{function u(){o(!1),f({delay:d,currentId:null})}if(l&&!n&&l===s){if(m){const g=window.setTimeout(u,m);return()=>{clearTimeout(g)}}u()}},[n,f,l,s,o,d,m]),Y(()=>{a===Oe||!n||a(s)},[n,a,s]),c}function Ee(e,t){let n=e.filter(r=>{var i;return r.parentId===t&&((i=r.context)==null?void 0:i.open)}),o=n;for(;o.length;)o=e.filter(r=>{var i;return(i=o)==null?void 0:i.some(s=>{var c;return r.parentId===s.id&&((c=r.context)==null?void 0:c.open)})}),n=n.concat(o);return n}const $n={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},_n={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ot=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function so(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,elements:{reference:r,domReference:i,floating:s},dataRef:c}=e,{enabled:l=!0,escapeKey:a=!0,outsidePress:d=!0,outsidePressEvent:f="pointerdown",referencePress:m=!1,referencePressEvent:u="pointerdown",ancestorScroll:g=!1,bubbles:v,capture:y}=t,b=Ne(),E=J(typeof d=="function"?d:()=>!1),x=typeof d=="function"?E:d,C=p.useRef(!1),P=p.useRef(!1),{escapeKey:M,outsidePress:S}=ot(v),{escapeKey:I,outsidePress:$}=ot(y),O=J(h=>{var R;if(!n||!l||!a||h.key!=="Escape")return;const A=(R=c.current.floatingContext)==null?void 0:R.nodeId,w=b?Ee(b.nodesRef.current,A):[];if(!M&&(h.stopPropagation(),w.length>0)){let L=!0;if(w.forEach(H=>{var G;if((G=H.context)!=null&&G.open&&!H.context.dataRef.current.__escapeKeyBubbles){L=!1;return}}),!L)return}o(!1,kt(h)?h.nativeEvent:h,"escape-key")}),k=J(h=>{var R;const A=()=>{var w;O(h),(w=re(h))==null||w.removeEventListener("keydown",A)};(R=re(h))==null||R.addEventListener("keydown",A)}),D=J(h=>{var R;const A=C.current;C.current=!1;const w=P.current;if(P.current=!1,f==="click"&&w||A||typeof x=="function"&&!x(h))return;const L=re(h),H="["+He("inert")+"]",G=te(s).querySelectorAll(H);let ue=F(L)?L:null;for(;ue&&!Z(ue);){const V=X(ue);if(Z(V)||!F(V))break;ue=V}if(G.length&&F(L)&&!It(L)&&!ae(L,s)&&Array.from(G).every(V=>!ae(ue,V)))return;if(N(L)&&s){const V=L.clientWidth>0&&L.scrollWidth>L.clientWidth,q=L.clientHeight>0&&L.scrollHeight>L.clientHeight;let fe=q&&h.offsetX>L.clientWidth;if(q&&K(L).direction==="rtl"&&(fe=h.offsetX<=L.offsetWidth-L.clientWidth),fe||V&&h.offsetY>L.clientHeight)return}const Ve=(R=c.current.floatingContext)==null?void 0:R.nodeId,Rt=b&&Ee(b.nodesRef.current,Ve).some(V=>{var q;return be(h,(q=V.context)==null?void 0:q.elements.floating)});if(be(h,s)||be(h,i)||Rt)return;const Ke=b?Ee(b.nodesRef.current,Ve):[];if(Ke.length>0){let V=!0;if(Ke.forEach(q=>{var fe;if((fe=q.context)!=null&&fe.open&&!q.context.dataRef.current.__outsidePressBubbles){V=!1;return}}),!V)return}o(!1,h,"outside-press")}),T=J(h=>{var R;const A=()=>{var w;D(h),(w=re(h))==null||w.removeEventListener(f,A)};(R=re(h))==null||R.addEventListener(f,A)});return p.useEffect(()=>{if(!n||!l)return;c.current.__escapeKeyBubbles=M,c.current.__outsidePressBubbles=S;function h(w){o(!1,w,"ancestor-scroll")}const R=te(s);a&&R.addEventListener("keydown",I?k:O,I),x&&R.addEventListener(f,$?T:D,$);let A=[];return g&&(F(i)&&(A=Q(i)),F(s)&&(A=A.concat(Q(s))),!F(r)&&r&&r.contextElement&&(A=A.concat(Q(r.contextElement)))),A=A.filter(w=>{var L;return w!==((L=R.defaultView)==null?void 0:L.visualViewport)}),A.forEach(w=>{w.addEventListener("scroll",h,{passive:!0})}),()=>{a&&R.removeEventListener("keydown",I?k:O,I),x&&R.removeEventListener(f,$?T:D,$),A.forEach(w=>{w.removeEventListener("scroll",h)})}},[c,s,i,r,a,x,f,n,o,g,l,M,S,O,I,k,D,$,T]),p.useEffect(()=>{C.current=!1},[x,f]),p.useMemo(()=>l?{reference:{onKeyDown:O,[$n[u]]:h=>{m&&o(!1,h.nativeEvent,"reference-press")}},floating:{onKeyDown:O,onMouseDown(){P.current=!0},onMouseUp(){P.current=!0},[_n[f]]:()=>{C.current=!0}}}:{},[l,m,f,u,o,O])}function Bn(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=wt(),i=p.useRef({}),[s]=p.useState(()=>Sn()),c=We()!=null,[l,a]=p.useState(o.reference),d=J((u,g,v)=>{i.current.openEvent=u?g:void 0,s.emit("openchange",{open:u,event:g,reason:v,nested:c}),n==null||n(u,g,v)}),f=p.useMemo(()=>({setPositionReference:a}),[]),m=p.useMemo(()=>({reference:l||o.reference||null,floating:o.floating||null,domReference:o.reference}),[l,o.reference,o.floating]);return p.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:m,events:s,floatingId:r,refs:f}),[t,d,m,s,r,f])}function co(e){e===void 0&&(e={});const{nodeId:t}=e,n=Bn({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[i,s]=p.useState(null),[c,l]=p.useState(null),d=(r==null?void 0:r.reference)||i,f=p.useRef(null),m=Ne();Y(()=>{d&&(f.current=d)},[d]);const u=Pn({...e,elements:{...r,...c&&{reference:c}}}),g=p.useCallback(x=>{const C=F(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(C),u.refs.setReference(C)},[u.refs]),v=p.useCallback(x=>{(F(x)||x===null)&&(f.current=x,s(x)),(F(u.refs.reference.current)||u.refs.reference.current===null||x!==null&&!F(x))&&u.refs.setReference(x)},[u.refs]),y=p.useMemo(()=>({...u.refs,setReference:v,setPositionReference:g,domReference:f}),[u.refs,v,g]),b=p.useMemo(()=>({...u.elements,domReference:d}),[u.elements,d]),E=p.useMemo(()=>({...u,...o,refs:y,elements:b,nodeId:t}),[u,y,b,t,o]);return Y(()=>{o.dataRef.current.floatingContext=E;const x=m==null?void 0:m.nodesRef.current.find(C=>C.id===t);x&&(x.context=E)}),p.useMemo(()=>({...u,context:E,refs:y,elements:b}),[u,y,b,E])}function lo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,events:r,dataRef:i,elements:{domReference:s}}=e,{enabled:c=!0,visibleOnly:l=!0}=t,a=p.useRef(!1),d=p.useRef(),f=p.useRef(!0);return p.useEffect(()=>{if(!c)return;const m=B(s);function u(){!n&&N(s)&&s===Ye(te(s))&&(a.current=!0)}function g(){f.current=!0}return m.addEventListener("blur",u),m.addEventListener("keydown",g,!0),()=>{m.removeEventListener("blur",u),m.removeEventListener("keydown",g,!0)}},[s,n,c]),p.useEffect(()=>{if(!c)return;function m(u){let{reason:g}=u;(g==="reference-press"||g==="escape-key")&&(a.current=!0)}return r.on("openchange",m),()=>{r.off("openchange",m)}},[r,c]),p.useEffect(()=>()=>{clearTimeout(d.current)},[]),p.useMemo(()=>c?{reference:{onPointerDown(m){Ot(m.nativeEvent)||(f.current=!1)},onMouseLeave(){a.current=!1},onFocus(m){if(a.current)return;const u=re(m.nativeEvent);if(l&&F(u))try{if(Mt()&&Dt())throw Error();if(!u.matches(":focus-visible"))return}catch{if(!f.current&&!$t(u))return}o(!0,m.nativeEvent,"focus")},onBlur(m){a.current=!1;const u=m.relatedTarget,g=F(u)&&u.hasAttribute(He("focus-guard"))&&u.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var v;const y=Ye(s?s.ownerDocument:document);!u&&y===s||ae((v=i.current.floatingContext)==null?void 0:v.refs.floating.current,y)||ae(s,y)||g||o(!1,m.nativeEvent,"focus")})}}}:{},[c,l,i,s,o])}const rt="active",it="selected";function Ce(e,t,n){const o=new Map,r=n==="item";let i=e;if(r&&e){const{[rt]:s,[it]:c,...l}=e;i=l}return{...n==="floating"&&{tabIndex:-1},...i,...t.map(s=>{const c=s?s[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((s,c)=>(c&&Object.entries(c).forEach(l=>{let[a,d]=l;if(!(r&&[rt,it].includes(a)))if(a.indexOf("on")===0){if(o.has(a)||o.set(a,[]),typeof d=="function"){var f;(f=o.get(a))==null||f.push(d),s[a]=function(){for(var m,u=arguments.length,g=new Array(u),v=0;v<u;v++)g[v]=arguments[v];return(m=o.get(a))==null?void 0:m.map(y=>y(...g)).find(y=>y!==void 0)}}}else s[a]=d}),s),{})}}function uo(e){e===void 0&&(e=[]);const t=e,n=p.useCallback(i=>Ce(i,e,"reference"),t),o=p.useCallback(i=>Ce(i,e,"floating"),t),r=p.useCallback(i=>Ce(i,e,"item"),e.map(i=>i==null?void 0:i.item));return p.useMemo(()=>({getReferenceProps:n,getFloatingProps:o,getItemProps:r}),[n,o,r])}const Wn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function fo(e,t){var n;t===void 0&&(t={});const{open:o,floatingId:r}=e,{enabled:i=!0,role:s="dialog"}=t,c=(n=Wn.get(s))!=null?n:s,l=wt(),d=We()!=null;return p.useMemo(()=>{if(!i)return{};const f={id:r,...c&&{role:c}};return c==="tooltip"||s==="label"?{reference:{["aria-"+(s==="label"?"labelledby":"describedby")]:o?r:void 0},floating:f}:{reference:{"aria-expanded":o?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":o?r:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:l},...c==="menu"&&d&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},floating:{...f,...c==="menu"&&{"aria-labelledby":l}},item(m){let{active:u,selected:g}=m;const v={role:"option",...u&&{id:r+"-option"}};switch(s){case"select":return{...v,"aria-selected":u&&g};case"combobox":return{...v,...u&&{"aria-selected":!0}}}return{}}}},[i,s,c,o,r,l,d])}function ao(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,o]=t.split("-"),r=n==="right"?"left":"right";return o===void 0?r:`${r}-${o}`}return t}function st(e,t,n,o){return e==="center"||o==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function ct(e,t,n,o,r){return e==="center"||o==="center"?{left:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const Nn={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Hn({position:e,arrowSize:t,arrowOffset:n,arrowRadius:o,arrowPosition:r,arrowX:i,arrowY:s,dir:c}){const[l,a="center"]=e.split("-"),d={width:me(t),height:me(t),transform:"rotate(45deg)",position:"absolute",[Nn[l]]:me(o)},f=me(-t/2);return l==="left"?{...d,...st(a,s,n,r),right:f,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...d,...st(a,s,n,r),left:f,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...d,...ct(a,i,n,r,c),bottom:f,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...d,...ct(a,i,n,r,c),top:f,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const Vn=p.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:o,arrowPosition:r,visible:i,arrowX:s,arrowY:c,style:l,...a},d)=>{const{dir:f}=At();return i?Pt("div",{...a,ref:d,style:{...l,...Hn({position:e,arrowSize:t,arrowOffset:n,arrowRadius:o,arrowPosition:r,dir:f,arrowX:s,arrowY:c})}}):null});Vn.displayName="@mantine/core/FloatingArrow";function mo({opened:e,floating:t,position:n,positionDependencies:o}){const[r,i]=p.useState(0);p.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return vn(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,r,n]),je(()=>{t.update()},o),je(()=>{i(s=>s+1)},[e])}export{ro as F,Fn as a,no as b,uo as c,oo as d,lo as e,Zn as f,Q as g,fo as h,to as i,so as j,io as k,mo as l,ao as m,Vn as n,qn as o,Qn as p,eo as q,Jn as s,co as u};
