import{j as i,a as f}from"./jsx-runtime-29545a09.js";import{b as H,d as z,c as W,u as J,a as K}from"./useArchbaseDataSource-0bdc03a6.js";import{D as t,u as Q}from"./useArchbaseDataSourceListener-cbed610e.js";import"./index-1076ae77.js";import{r as n}from"./index-76fb7be0.js";import{u as X}from"./use-force-update-df6d2b99.js";import{C as Y}from"./Chip-f9127cca.js";import{G as h,C as l}from"./Grid-72b79d89.js";import{G as x}from"./Group-ec80c87c.js";import{T as A}from"./Text-052cbebe.js";import{B as Z}from"./polymorphic-factory-e212381f.js";import{S as $}from"./ScrollArea-d1e51cef.js";import{A as ee}from"./ArchbaseObjectInspector-39e1a2c0.js";import{p as re}from"./pessoasData-6b8000da.js";import"./i18next-a4b2730f.js";import"./lodash-4d0be66a.js";import"./_commonjsHelpers-de833af9.js";import"./index-83127612.js";import"./CheckIcon-a0984784.js";import"./create-optional-context-e52a7171.js";import"./use-uncontrolled-625105b4.js";import"./use-id-9525279e.js";import"./use-isomorphic-effect-f46ba680.js";import"./Paper-9304c07a.js";import"./create-safe-context-978e3819.js";import"./get-sorted-breakpoints-91e0685a.js";import"./px-90b8b31c.js";import"./Mantine.context-0732ca39.js";import"./use-merged-ref-962e80ee.js";import"./DirectionProvider-3f93a9e9.js";import"./use-mantine-color-scheme-940af2ab.js";import"./use-media-query-404d9c84.js";import"./types-5decf4ed.js";function u({dataSource:a,dataField:e,disabled:p=!1,readOnly:y=!1,required:B=!1,style:O,trueValue:c=!0,falseValue:b=!1,isChecked:R,width:I,label:j,size:L,radius:_,error:k,onFocusExit:E=()=>{},onFocusEnter:C=()=>{},onChangeValue:g=()=>{},innerRef:T}){const[m,V]=n.useState(!!R),P=T||n.useRef(),[oe,U]=n.useState(k),G=X(),s=()=>{let r=m;if(a&&e){const o=a.getFieldValue(e);o!=null&&(r=o===c)}V(r)},v=n.useCallback(()=>{s()},[]),q=n.useCallback(r=>{a&&e&&((r.type===t.dataChanged||r.type===t.recordChanged||r.type===t.afterScroll||r.type===t.afterCancel||r.type===t.afterEdit)&&(s(),G()),r.type===t.onFieldError&&r.fieldName===e&&U(r.error))},[]);H(()=>{s(),a&&e&&(a.addListener(q),a.addFieldChangeListener(e,v))}),z(()=>{a&&e&&(a.removeListener(q),a.removeFieldChangeListener(e,v))}),W(()=>{s()},[]);const M=r=>{const o=r?c:b;V(r),a&&!a.isBrowsing()&&e&&a.getFieldValue(e)!==o&&a.setFieldValue(e,o),g&&g(o)},N=r=>{E&&E(r)},S=r=>{C&&C(r)};return i(Y,{disabled:p,readOnly:(()=>{let r=y;return a&&!y&&(r=a.isBrowsing()),r})(),required:B,style:{...O,width:I},checked:m,ref:P,value:m?c:b,onChange:M,onBlur:N,onFocus:S,size:L,radius:_,children:j})}try{u.displayName="ArchbaseChip",u.__docgenInfo={description:"",displayName:"ArchbaseChip",props:{dataSource:{defaultValue:null,description:"Fonte de dados onde será atribuido o valor do chip",name:"dataSource",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},dataField:{defaultValue:null,description:"Campo onde deverá ser atribuido o valor do chip na fonte de dados",name:"dataField",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Indicador se o chip está desabilitado",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"Indicador se o chip é somente leitura. Obs: usado em conjunto com o status da fonte de dados",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"Indicador se o preenchimento do chip é obrigatório",name:"required",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"Estilo do chip",name:"style",required:!1,type:{name:"CSSProperties"}},radius:{defaultValue:null,description:"Chave de theme.radius ou qualquer valor CSS válido para definir border-radius, theme.defaultRadius por padrão",name:"radius",required:!1,type:{name:"string | number"}},trueValue:{defaultValue:{value:"true"},description:"Valor quando o chip estiver true",name:"trueValue",required:!1,type:{name:"any"}},falseValue:{defaultValue:{value:"false"},description:"Valor quando o chip estiver false",name:"falseValue",required:!1,type:{name:"any"}},isChecked:{defaultValue:null,description:"Indicador se o chip está marcado",name:"isChecked",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Título do chip",name:"label",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Largura do chip",name:"width",required:!1,type:{name:"string | number"}},size:{defaultValue:null,description:"Valor de tamanho predefinido",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},onFocusExit:{defaultValue:{value:"() => {}"},description:"Evento quando o foco sai do chip",name:"onFocusExit",required:!1,type:{name:"FocusEventHandler<T>"}},onFocusEnter:{defaultValue:{value:"() => {}"},description:"Evento quando o chip recebe o foco",name:"onFocusEnter",required:!1,type:{name:"FocusEventHandler<T>"}},onChangeValue:{defaultValue:{value:"() => {}"},description:"Evento quando o valor do chip é alterado",name:"onChangeValue",required:!1,type:{name:"(value: any) => void"}},innerRef:{defaultValue:null,description:"Referência para o componente interno",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},error:{defaultValue:null,description:"Último erro ocorrido no chip",name:"error",required:!1,type:{name:"string"}}}}}catch{}const ae=()=>{const a=J(),{dataSource:e}=K({initialData:ie,name:"dsPessoas"});return e!=null&&e.isBrowsing()&&!(e!=null&&e.isEmpty())&&e.edit(),Q({dataSource:e,listener:p=>{switch(p.type){case t.fieldChanged:{a();break}}}}),f(h,{children:[i(h.Col,{offset:1,span:4,children:f(l,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[i(l.Section,{withBorder:!0,inheritPadding:!0,py:"xs",mb:"1rem",children:i(x,{justify:"space-between",children:i(A,{fw:500,children:"Chip Component"})})}),i(Z,{style:{height:100},children:i(u,{label:"Masculino",dataSource:e,dataField:"sexo",trueValue:"Masculino",falseValue:"Feminino"})})]})}),i(h.Col,{span:4,children:f(l,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[i(l.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:i(x,{justify:"space-between",children:i(A,{fw:500,children:"DataSource dsPessoas"})})}),i($,{style:{height:500},children:i(ee,{data:e})})]})})]})},Ue={title:"Editores/Chip",component:u},ie=[re[0]],d={name:"Exemplo básico",render:()=>i(ae,{})};var w,D,F;d.parameters={...d.parameters,docs:{...(w=d.parameters)==null?void 0:w.docs,source:{originalSource:`{
  name: 'Exemplo básico',
  render: () => <ArchbaseChipExample />
}`,...(F=(D=d.parameters)==null?void 0:D.docs)==null?void 0:F.source}}};export{d as Primary,Ue as default};
