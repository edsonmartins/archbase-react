import{j as $,F as h}from"./jsx-runtime-c9381026.js";import{r,b as S}from"./polymorphic-factory-0b25d542.js";import{r as m}from"./index-8b3efc3f.js";import{R as D}from"./index-a38d0dca.js";import{u as k}from"./use-reduced-motion-98306cff.js";import{u as A}from"./use-did-update-bccd292e.js";const c=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${r(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),d={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${r(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${r(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${r(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${r(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${r(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${r(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${r(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${r(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...c("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...c("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...c("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...c("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...c("top"),common:{transformOrigin:"top right"}}},F={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function j({transition:t,state:i,duration:e,timingFunction:o}){const n={transitionDuration:`${e}ms`,transitionTimingFunction:o};return typeof t=="string"?t in d?{transitionProperty:d[t].transitionProperty,...n,...d[t].common,...d[t][F[i]]}:{}:{transitionProperty:t.transitionProperty,...n,...t.common,...t[F[i]]}}function q({duration:t,exitDuration:i,timingFunction:e,mounted:o,onEnter:n,onExit:s,onEntered:P,onExited:Y}){const O=S(),w=k(),p=O.respectReducedMotion?w:!1,[f,y]=m.useState(p?0:t),[T,u]=m.useState(o?"entered":"exited"),x=m.useRef(-1),b=m.useRef(-1),R=a=>{const l=a?n:s,g=a?P:Y;window.clearTimeout(x.current);const X=p?0:a?t:i;y(X),X===0?(typeof l=="function"&&l(),typeof g=="function"&&g(),u(a?"entered":"exited")):b.current=requestAnimationFrame(()=>{D.flushSync(()=>{u(a?"pre-entering":"pre-exiting")}),b.current=requestAnimationFrame(()=>{typeof l=="function"&&l(),u(a?"entering":"exiting"),x.current=window.setTimeout(()=>{typeof g=="function"&&g(),u(a?"entered":"exited")},X)})})};return A(()=>{R(o)},[o]),m.useEffect(()=>()=>{window.clearTimeout(x.current),cancelAnimationFrame(b.current)},[]),{transitionDuration:f,transitionStatus:T,transitionTimingFunction:e||"ease"}}function E({keepMounted:t,transition:i="fade",duration:e=250,exitDuration:o=e,mounted:n,children:s,timingFunction:P="ease",onExit:Y,onEntered:O,onEnter:w,onExited:p}){const{transitionDuration:f,transitionStatus:y,transitionTimingFunction:T}=q({mounted:n,exitDuration:o,duration:e,timingFunction:P,onExit:Y,onEntered:O,onEnter:w,onExited:p});return f===0?n?$(h,{children:s({})}):t?s({display:"none"}):null:y==="exited"?t?s({display:"none"}):null:$(h,{children:s(j({transition:i,duration:f,state:y,timingFunction:T}))})}E.displayName="@mantine/core/Transition";export{E as T};
