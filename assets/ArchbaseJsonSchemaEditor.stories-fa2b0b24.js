import{j as I,a as Oe,F as rr}from"./jsx-runtime-c9381026.js";import{R as kt,r as X}from"./index-8b3efc3f.js";import{i as L}from"./i18next-a4b2730f.js";import{F as Ge}from"./Flex-ffd42070.js";import{S as ht}from"./Stack-ac31e4d3.js";import{S as Ir}from"./Select-77291262.js";import{c as Fs,g as zs}from"./_commonjsHelpers-de833af9.js";import{f as ho}from"./index-14a07bae.js";import{f as Us,u as Ls,h as qs,t as xs,i as Ks,q as Gs}from"./polymorphic-factory-bf652503.js";import{n as mi}from"./noop-1bad6ac0.js";import{u as Bs}from"./use-resolved-styles-api-07b5b463.js";import{I as mo}from"./InputBase-46c7ce5b.js";import{U as pi}from"./UnstyledButton-5ea781f1.js";import{u as po}from"./use-uncontrolled-f56237fb.js";import{a as Js,u as Hs}from"./use-merged-ref-a374cf59.js";import{c as Fr}from"./clamp-73f6bef2.js";import{T as Yr}from"./Text-70cb1fd9.js";import{C as Rr}from"./Checkbox-8a9a3d4a.js";import{I as pt}from"./Input-7a6e621e.js";import{T as vo}from"./Textarea-050fec8b.js";import{T as Qr}from"./TextInput-7248445a.js";import{P as Nn}from"./Popover-62e4c870.js";import{A as zt}from"./ActionIcon-aabf0409.js";import{c as Ws}from"./createReactComponent-60e598cf.js";import{B as en}from"./Button-04a737e5.js";import{T as Ut}from"./Tooltip-051468cd.js";import{I as go}from"./IconSettings-6cb5d8c7.js";import{I as Xs}from"./IconTrash-6b16e91d.js";import{M as yo}from"./Modal-0c51d204.js";import{u as Zs}from"./useTranslation-263f67a6.js";import{C as zr}from"./Card-171745c8.js";import{G as vi}from"./Group-5b3c182b.js";import{S as gi}from"./ScrollArea-518af3d9.js";import{B as Ys}from"./Badge-9d9d4017.js";import{A as Qs}from"./ArchbaseObjectInspector-191de42c.js";import"./OptionsDropdown-64d05981.js";import"./CheckIcon-c538e622.js";import"./Combobox-614068dc.js";import"./create-safe-context-941c9e18.js";import"./OptionalPortal-8c3f6fc2.js";import"./Mantine.context-41afb47e.js";import"./index-a38d0dca.js";import"./use-isomorphic-effect-aa890e3d.js";import"./use-floating-auto-update-002b1cce.js";import"./DirectionProvider-1e219af7.js";import"./floating-ui.react-e0c547c4.js";import"./use-did-update-bccd292e.js";import"./use-id-f896cdc5.js";import"./use-input-props-5361677b.js";import"./get-contrast-color-8b9a39df.js";import"./get-auto-contrast-value-58024fc4.js";import"./InputsGroupFieldset-d2b47ae0.js";import"./create-optional-context-86e78b6c.js";import"./extends-4c19d496.js";import"./objectWithoutPropertiesLoose-68193569.js";import"./FocusTrap-c341c68f.js";import"./Transition-e462ee3e.js";import"./use-reduced-motion-73d958ef.js";import"./use-media-query-91643880.js";import"./Loader-a46c68a6.js";import"./index-9d475cdf.js";import"./get-style-object-71cabcb5.js";import"./Paper-e7399838.js";import"./use-window-event-860a85e7.js";import"./context-3b2264a0.js";import"./use-mantine-color-scheme-12883fe8.js";function _o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}var Sr;(function(e){e.event="event",e.props="prop"})(Sr||(Sr={}));function Nt(){}function ec(e){var t,r=void 0;return function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return t&&n.length===t.length&&n.every(function(i,o){return i===t[o]})||(t=n,r=e.apply(void 0,n)),r}}function br(e){return!!(e||"").match(/\d/)}function Qt(e){return e==null}function tc(e){return typeof e=="number"&&isNaN(e)}function $o(e){return Qt(e)||tc(e)||typeof e=="number"&&!isFinite(e)}function So(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function rc(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function nc(e,t,r){var n=rc(r),a=e.search(/[1-9]/);return a=a===-1?e.length:a,e.substring(0,a)+e.substring(a,e.length).replace(n,"$1"+t)}function ac(e){var t=X.useRef(e);t.current=e;var r=X.useRef(function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return t.current.apply(t,n)});return r.current}function sa(e,t){t===void 0&&(t=!0);var r=e[0]==="-",n=r&&t;e=e.replace("-","");var a=e.split("."),i=a[0],o=a[1]||"";return{beforeDecimal:i,afterDecimal:o,hasNegation:r,addNegation:n}}function ic(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",a=r[1]||"";return(t?"-":"")+n+(a?"."+a:"")}function bo(e,t,r){for(var n="",a=r?"0":"",i=0;i<=t-1;i++)n+=e[i]||a;return n}function yi(e,t){return Array(t+1).join(e)}function wo(e){var t=e+"",r=t[0]==="-"?"-":"";r&&(t=t.substring(1));var n=t.split(/[eE]/g),a=n[0],i=n[1];if(i=Number(i),!i)return r+a;a=a.replace(".","");var o=1+i,u=a.length;return o<0?a="0."+yi("0",Math.abs(o))+a:o>=u?a=a+yi("0",o-u):a=(a.substring(0,o)||"0")+"."+a.substring(o),r+a}function _i(e,t,r){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||r)&&t,a=sa(e),i=a.beforeDecimal,o=a.afterDecimal,u=a.hasNegation,f=parseFloat("0."+(o||"0")),c=o.length<=t?"0."+o:f.toFixed(t),d=c.split("."),v=i;i&&Number(d[0])&&(v=i.split("").reverse().reduce(function(S,_,h){return S.length>h?(Number(S[0])+Number(_)).toString()+S.substring(1,S.length):_+S},d[0]));var w=bo(d[1]||"",t,r),b=u?"-":"",y=n?".":"";return""+b+v+y+w}function jt(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var Eo=ec(function(e,t){for(var r=0,n=0,a=e.length,i=t.length;e[r]===t[r]&&r<a;)r++;for(;e[a-1-n]===t[i-1-n]&&i-n>r&&a-n>r;)n++;return{from:{start:r,end:a-n},to:{start:r,end:i-n}}}),oc=function(e,t){var r=Math.min(e.selectionStart,t);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:t}}};function sc(e,t,r){return Math.min(Math.max(e,t),r)}function Pn(e){return Math.max(e.selectionStart,e.selectionEnd)}function cc(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function uc(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function lc(e){var t=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,a=e.formattedValueIndex;return t[n]===r[a]}function dc(e,t,r,n,a,i,o){o===void 0&&(o=lc);var u=a.findIndex(function(k){return k}),f=e.slice(0,u);!t&&!r.startsWith(f)&&(t=f,r=f+r,n=n+f.length);for(var c=r.length,d=e.length,v={},w=new Array(c),b=0;b<c;b++){w[b]=-1;for(var y=0,S=d;y<S;y++){var _=o({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:b,formattedValueIndex:y});if(_&&v[y]!==!0){w[b]=y,v[y]=!0;break}}}for(var h=n;h<c&&(w[h]===-1||!i(r[h]));)h++;var E=h===c||w[h]===-1?d:w[h];for(h=n-1;h>0&&w[h]===-1;)h--;var R=h===-1||w[h]===-1?0:w[h]+1;return R>E?E:n-R<E-n?R:E}function $i(e,t,r,n){var a=e.length;if(t=sc(t,0,a),n==="left"){for(;t>=0&&!r[t];)t--;t===-1&&(t=r.indexOf(!0))}else{for(;t<=a&&!r[t];)t++;t>a&&(t=r.lastIndexOf(!0))}return t===-1&&(t=a),t}function fc(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=!!(br(e[r])||br(e[r-1]));return t}function No(e,t,r,n,a,i){i===void 0&&(i=Nt);var o=ac(function(y,S){var _,h;return $o(y)?(h="",_=""):typeof y=="number"||S?(h=typeof y=="number"?wo(y):y,_=n(h)):(h=a(y,void 0),_=n(h)),{formattedValue:_,numAsString:h}}),u=X.useState(function(){return o(Qt(e)?t:e,r)}),f=u[0],c=u[1],d=function(y,S){y.formattedValue!==f.formattedValue&&c({formattedValue:y.formattedValue,numAsString:y.value}),i(y,S)},v=e,w=r;Qt(e)&&(v=f.numAsString,w=!0);var b=o(v,w);return X.useMemo(function(){c(b)},[b.formattedValue]),[f,d]}function hc(e){return e.replace(/[^0-9]/g,"")}function mc(e){return e}function pc(e){var t=e.type;t===void 0&&(t="text");var r=e.displayType;r===void 0&&(r="input");var n=e.customInput,a=e.renderText,i=e.getInputRef,o=e.format;o===void 0&&(o=mc);var u=e.removeFormatting;u===void 0&&(u=hc);var f=e.defaultValue,c=e.valueIsNumericString,d=e.onValueChange,v=e.isAllowed,w=e.onChange;w===void 0&&(w=Nt);var b=e.onKeyDown;b===void 0&&(b=Nt);var y=e.onMouseUp;y===void 0&&(y=Nt);var S=e.onFocus;S===void 0&&(S=Nt);var _=e.onBlur;_===void 0&&(_=Nt);var h=e.value,E=e.getCaretBoundary;E===void 0&&(E=fc);var R=e.isValidInputCharacter;R===void 0&&(R=br);var k=e.isCharacterSame,D=_o(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),Z=No(h,f,!!c,o,u,d),ie=Z[0],te=ie.formattedValue,pe=ie.numAsString,oe=Z[1],le=X.useRef(),ue=X.useRef({formattedValue:te,numAsString:pe}),be=function(F,U){ue.current={formattedValue:F.formattedValue,numAsString:F.value},oe(F,U)},_e=X.useState(!1),xe=_e[0],G=_e[1],B=X.useRef(null),me=X.useRef({setCaretTimeout:null,focusTimeout:null});X.useEffect(function(){return G(!0),function(){clearTimeout(me.current.setCaretTimeout),clearTimeout(me.current.focusTimeout)}},[]);var ve=o,T=function(F,U){var H=parseFloat(U);return{formattedValue:F,value:U,floatValue:isNaN(H)?void 0:H}},$=function(F,U,H){F.selectionStart===0&&F.selectionEnd===F.value.length||(jt(F,U),me.current.setCaretTimeout=setTimeout(function(){F.value===H&&F.selectionStart!==U&&jt(F,U)},0))},O=function(F,U,H){return $i(F,U,E(F),H)},N=function(F,U,H){var fe=E(U),Ce=dc(U,te,F,H,fe,R,k);return Ce=$i(U,Ce,fe),Ce},s=function(F){var U=F.formattedValue;U===void 0&&(U="");var H=F.input,fe=F.source,Ce=F.event,ae=F.numAsString,Q;if(H){var M=F.inputValue||H.value,J=Pn(H);H.value=U,Q=N(M,U,J),Q!==void 0&&$(H,Q,U)}U!==te&&be(T(U,ae),{event:Ce,source:fe})};X.useEffect(function(){var F=ue.current,U=F.formattedValue,H=F.numAsString;(te!==U||pe!==H)&&be(T(te,pe),{event:void 0,source:Sr.props})},[te,pe]);var m=B.current?Pn(B.current):void 0,C=typeof window<"u"?X.useLayoutEffect:X.useEffect;C(function(){var F=B.current;if(te!==ue.current.formattedValue&&F){var U=N(ue.current.formattedValue,te,m);F.value=te,$(F,U,te)}},[te]);var j=function(F,U,H){var fe=U.target,Ce=le.current?oc(le.current,fe.selectionEnd):Eo(te,F),ae=Object.assign(Object.assign({},Ce),{lastValue:te}),Q=u(F,ae),M=ve(Q);if(Q=u(M,void 0),v&&!v(T(M,Q))){var J=U.target,ge=Pn(J),Me=N(F,te,ge);return J.value=te,$(J,Me,te),!1}return s({formattedValue:M,numAsString:Q,inputValue:F,event:U,source:H,input:U.target}),!0},V=function(F,U){U===void 0&&(U=0);var H=F.selectionStart,fe=F.selectionEnd;le.current={selectionStart:H,selectionEnd:fe+U}},Y=function(F){var U=F.target,H=U.value,fe=j(H,F,Sr.event);fe&&w(F),le.current=void 0},re=function(F){var U=F.target,H=F.key,fe=U.selectionStart,Ce=U.selectionEnd,ae=U.value;ae===void 0&&(ae="");var Q;H==="ArrowLeft"||H==="Backspace"?Q=Math.max(fe-1,0):H==="ArrowRight"?Q=Math.min(fe+1,ae.length):H==="Delete"&&(Q=fe);var M=0;H==="Delete"&&fe===Ce&&(M=1);var J=H==="ArrowLeft"||H==="ArrowRight";if(Q===void 0||fe!==Ce&&!J){b(F),V(U,M);return}var ge=Q;if(J){var Me=H==="ArrowLeft"?"left":"right";ge=O(ae,Q,Me),ge!==Q&&F.preventDefault()}else H==="Delete"&&!R(ae[Q])?ge=O(ae,Q,"right"):H==="Backspace"&&!R(ae[Q])&&(ge=O(ae,Q,"left"));ge!==Q&&$(U,ge,ae),b(F),V(U,M)},$e=function(F){var U=F.target,H=function(){var fe=U.selectionStart,Ce=U.selectionEnd,ae=U.value;if(ae===void 0&&(ae=""),fe===Ce){var Q=O(ae,fe);Q!==fe&&$(U,Q,ae)}};H(),requestAnimationFrame(function(){H()}),y(F),V(U)},Ve=function(F){F.persist&&F.persist();var U=F.target,H=F.currentTarget;B.current=U,me.current.focusTimeout=setTimeout(function(){var fe=U.selectionStart,Ce=U.selectionEnd,ae=U.value;ae===void 0&&(ae="");var Q=O(ae,fe);Q!==fe&&!(fe===0&&Ce===ae.length)&&$(U,Q,ae),S(Object.assign(Object.assign({},F),{currentTarget:H}))},0)},Qe=function(F){B.current=null,clearTimeout(me.current.focusTimeout),clearTimeout(me.current.setCaretTimeout),_(F)},et=xe&&cc()?"numeric":void 0,We=Object.assign({inputMode:et},D,{type:t,value:te,onChange:Y,onKeyDown:re,onMouseUp:$e,onFocus:Ve,onBlur:Qe});if(r==="text")return a?kt.createElement(kt.Fragment,null,a(te,D)||null):kt.createElement("span",Object.assign({},D,{ref:i}),te);if(n){var ze=n;return kt.createElement(ze,Object.assign({},We,{ref:i}))}return kt.createElement("input",Object.assign({},We,{ref:i}))}function Si(e,t){var r=t.decimalScale,n=t.fixedDecimalScale,a=t.prefix;a===void 0&&(a="");var i=t.suffix;i===void 0&&(i="");var o=t.allowNegative,u=t.thousandsGroupStyle;if(u===void 0&&(u="thousand"),e===""||e==="-")return e;var f=hn(t),c=f.thousandSeparator,d=f.decimalSeparator,v=r!==0&&e.indexOf(".")!==-1||r&&n,w=sa(e,o),b=w.beforeDecimal,y=w.afterDecimal,S=w.addNegation;return r!==void 0&&(y=bo(y,r,!!n)),c&&(b=nc(b,c,u)),a&&(b=a+b),i&&(y=y+i),S&&(b="-"+b),e=b+(v&&d||"")+y,e}function hn(e){var t=e.decimalSeparator;t===void 0&&(t=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:n}}function vc(e,t){e===void 0&&(e="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),a=r.test(e),i=n.test(e);return e=e.replace(/-/g,""),a&&!i&&t&&(e="-"+e),e}function gc(e,t){return new RegExp("(^-)|[0-9]|"+So(e),t?"g":void 0)}function yc(e,t,r){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function _c(e,t,r){var n;t===void 0&&(t=uc(e));var a=r.allowNegative,i=r.prefix;i===void 0&&(i="");var o=r.suffix;o===void 0&&(o="");var u=r.decimalScale,f=t.from,c=t.to,d=c.start,v=c.end,w=hn(r),b=w.allowedDecimalSeparators,y=w.decimalSeparator,S=e[v]===y;if(br(e)&&(e===i||e===o)&&t.lastValue==="")return e;if(v-d===1&&b.indexOf(e[d])!==-1){var _=u===0?"":y;e=e.substring(0,d)+_+e.substring(d+1,e.length)}var h=function(B,me,ve){var T=!1,$=!1;i.startsWith("-")?T=!1:B.startsWith("--")?(T=!1,$=!0):o.startsWith("-")&&B.length===o.length?T=!1:B[0]==="-"&&(T=!0);var O=T?1:0;return $&&(O=2),O&&(B=B.substring(O),me-=O,ve-=O),{value:B,start:me,end:ve,hasNegation:T}},E=h(e,d,v),R=E.hasNegation;n=E,e=n.value,d=n.start,v=n.end;var k=h(t.lastValue,f.start,f.end),D=k.start,Z=k.end,ie=k.value,te=e.substring(d,v);e.length&&ie.length&&(D>ie.length-o.length||Z<i.length)&&!(te&&o.startsWith(te))&&(e=ie);var pe=0;e.startsWith(i)?pe+=i.length:d<i.length&&(pe=d),e=e.substring(pe),v-=pe;var oe=e.length,le=e.length-o.length;e.endsWith(o)?oe=le:(v>le||v>e.length-o.length)&&(oe=v),e=e.substring(0,oe),e=vc(R?"-"+e:e,a),e=(e.match(gc(y,!0))||[]).join("");var ue=e.indexOf(y);e=e.replace(new RegExp(So(y),"g"),function(B,me){return me===ue?".":""});var be=sa(e,a),_e=be.beforeDecimal,xe=be.afterDecimal,G=be.addNegation;return c.end-c.start<f.end-f.start&&_e===""&&S&&!parseFloat(xe)&&(e=G?"-":""),e}function $c(e,t){var r=t.prefix;r===void 0&&(r="");var n=t.suffix;n===void 0&&(n="");var a=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";a.fill(!1,0,r.length+(i?1:0));var o=e.length;return a.fill(!1,o-n.length+1,o+1),a}function Sc(e){var t=hn(e),r=t.thousandSeparator,n=t.decimalSeparator,a=e.prefix;a===void 0&&(a="");var i=e.allowNegative;if(i===void 0&&(i=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return a.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+a+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function bc(e){e=Sc(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,r=e.allowNegative,n=e.allowLeadingZeros,a=e.onKeyDown;a===void 0&&(a=Nt);var i=e.onBlur;i===void 0&&(i=Nt);var o=e.thousandSeparator,u=e.decimalScale,f=e.fixedDecimalScale,c=e.prefix;c===void 0&&(c="");var d=e.defaultValue,v=e.value,w=e.valueIsNumericString,b=e.onValueChange,y=_o(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),S=hn(e),_=S.decimalSeparator,h=S.allowedDecimalSeparators,E=function(G){return Si(G,e)},R=function(G,B){return _c(G,B,e)},k=Qt(v)?d:v,D=w??yc(k,c,t);Qt(v)?Qt(d)||(D=D||typeof d=="number"):D=D||typeof v=="number";var Z=function(G){return $o(G)?G:(typeof G=="number"&&(G=wo(G)),D&&typeof u=="number"?_i(G,u,!!f):G)},ie=No(Z(v),Z(d),!!D,E,R,b),te=ie[0],pe=te.numAsString,oe=te.formattedValue,le=ie[1],ue=function(G){var B=G.target,me=G.key,ve=B.selectionStart,T=B.selectionEnd,$=B.value;if($===void 0&&($=""),(me==="Backspace"||me==="Delete")&&T<c.length){G.preventDefault();return}if(ve!==T){a(G);return}me==="Backspace"&&$[0]==="-"&&ve===c.length+1&&r&&jt(B,1),u&&f&&(me==="Backspace"&&$[ve-1]===_?(jt(B,ve-1),G.preventDefault()):me==="Delete"&&$[ve]===_&&G.preventDefault()),h!=null&&h.includes(me)&&$[ve]===_&&jt(B,ve+1);var O=o===!0?",":o;me==="Backspace"&&$[ve-1]===O&&jt(B,ve-1),me==="Delete"&&$[ve]===O&&jt(B,ve+1),a(G)},be=function(G){var B=pe;if(B.match(/\d/g)||(B=""),n||(B=ic(B)),f&&u&&(B=_i(B,u,f)),B!==pe){var me=Si(B,e);le({formattedValue:me,value:B,floatValue:parseFloat(B)},{event:G,source:Sr.event})}i(G)},_e=function(G){return G===_?!0:br(G)},xe=function(G){var B=G.currentValue,me=G.lastValue,ve=G.formattedValue,T=G.currentValueIndex,$=G.formattedValueIndex,O=B[T],N=ve[$],s=Eo(me,B),m=s.to,C=function(j){return R(j).indexOf(".")+c.length};return v===0&&f&&u&&B[m.start]===_&&C(B)<T&&C(ve)>$?!1:T>=m.start&&T<m.end&&h&&h.includes(O)&&N===_?!0:O===N};return Object.assign(Object.assign({},y),{value:oe,valueIsNumericString:!1,isValidInputCharacter:_e,isCharacterSame:xe,onValueChange:le,format:E,removeFormatting:R,getCaretBoundary:function(G){return $c(G,e)},onKeyDown:ue,onBlur:be})}function wc(e){var t=bc(e);return kt.createElement(pc,Object.assign({},t))}function bi({direction:e,style:t,...r}){return I("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:I("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Mn={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Ec=/^(0\.0*|-0(\.0*)?)$/,Nc=/^-?0\d+(\.\d+)?\.?$/;function Fn(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function An(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||Fn(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function Pc(e){return e.toString().replace(".","").length}function Ac(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&Pc(t)<14&&t!==""}function wi(e,t,r){if(e===void 0)return!0;const n=t===void 0||e>=t,a=r===void 0||e<=r;return n&&a}const Cc={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},Oc=Ks((e,{size:t})=>({controls:{"--ni-chevron-size":Gs(t,"ni-chevron-size")}})),Lt=Us((e,t)=>{const r=Ls("NumberInput",Cc,e),{className:n,classNames:a,styles:i,unstyled:o,vars:u,onChange:f,onValueChange:c,value:d,defaultValue:v,max:w,min:b,step:y,hideControls:S,rightSection:_,isAllowed:h,clampBehavior:E,onBlur:R,allowDecimal:k,decimalScale:D,onKeyDown:Z,onKeyDownCapture:ie,handlersRef:te,startValue:pe,disabled:oe,rightSectionPointerEvents:le,allowNegative:ue,readOnly:be,size:_e,rightSectionWidth:xe,stepHoldInterval:G,stepHoldDelay:B,allowLeadingZeros:me,withKeyboardEvents:ve,trimLeadingZeroesOnBlur:T,...$}=r,O=qs({name:"NumberInput",classes:Mn,props:r,classNames:a,styles:i,unstyled:o,vars:u,varsResolver:Oc}),{resolvedClassNames:N,resolvedStyles:s}=Bs({classNames:a,styles:i,props:r}),[m,C]=po({value:d,defaultValue:v,finalValue:"",onChange:f}),j=B!==void 0&&G!==void 0,V=X.useRef(null),Y=X.useRef(null),re=X.useRef(0),$e=(M,J)=>{J.source==="event"&&C(Ac(M.floatValue,M.value)&&!Ec.test(M.value)&&!(me&&Nc.test(M.value))?M.floatValue:M.value),c==null||c(M,J)},Ve=M=>{const J=String(M).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return J?Math.max(0,(J[1]?J[1].length:0)-(J[2]?+J[2]:0)):0},Qe=M=>{V.current&&typeof M<"u"&&V.current.setSelectionRange(M,M)},et=X.useRef(mi);et.current=()=>{if(!An(m))return;let M;const J=Ve(m),ge=Ve(y),Me=Math.max(J,ge),Be=10**Me;if(!Fn(m)&&(typeof m!="number"||Number.isNaN(m)))M=Fr(pe,b,w);else if(w!==void 0){const Fe=(Math.round(Number(m)*Be)+Math.round(y*Be))/Be;M=Fe<=w?Fe:w}else M=(Math.round(Number(m)*Be)+Math.round(y*Be))/Be;const Ie=M.toFixed(Me);C(parseFloat(Ie)),c==null||c({floatValue:parseFloat(Ie),formattedValue:Ie,value:Ie},{source:"increment"}),setTimeout(()=>{var Fe;return Qe((Fe=V.current)==null?void 0:Fe.value.length)},0)};const We=X.useRef(mi);We.current=()=>{if(!An(m))return;let M;const J=b!==void 0?b:ue?Number.MIN_SAFE_INTEGER:0,ge=Ve(m),Me=Ve(y),Be=Math.max(ge,Me),Ie=10**Be;if(!Fn(m)&&typeof m!="number"||Number.isNaN(m))M=Fr(pe,J,w);else{const St=(Math.round(Number(m)*Ie)-Math.round(y*Ie))/Ie;M=J!==void 0&&St<J?J:St}const Fe=M.toFixed(Be);C(parseFloat(Fe)),c==null||c({floatValue:parseFloat(Fe),formattedValue:Fe,value:Fe},{source:"decrement"}),setTimeout(()=>{var St;return Qe((St=V.current)==null?void 0:St.value.length)},0)};const ze=M=>{Z==null||Z(M),!(be||!ve)&&(M.key==="ArrowUp"&&(M.preventDefault(),et.current()),M.key==="ArrowDown"&&(M.preventDefault(),We.current()))},F=M=>{if(ie==null||ie(M),M.key==="Backspace"){const J=V.current;J.selectionStart===0&&J.selectionStart===J.selectionEnd&&(M.preventDefault(),window.setTimeout(()=>Qe(0),0))}},U=M=>{let J=m;if(E==="blur"&&typeof J=="number"&&(J=Fr(J,b,w)),T&&typeof J=="string"&&Ve(J)<15){const ge=J.toString().replace(/^0+/,""),Me=parseFloat(ge);J=Number.isNaN(Me)||Me>Number.MAX_SAFE_INTEGER?ge:Fr(Me,b,w)}m!==J&&C(J),R==null||R(M)};Js(te,{increment:et.current,decrement:We.current});const H=M=>{M?et.current():We.current(),re.current+=1},fe=M=>{if(H(M),j){const J=typeof G=="number"?G:G(re.current);Y.current=window.setTimeout(()=>fe(M),J)}},Ce=(M,J)=>{var ge;M.preventDefault(),(ge=V.current)==null||ge.focus(),H(J),j&&(Y.current=window.setTimeout(()=>fe(J),B))},ae=()=>{Y.current&&window.clearTimeout(Y.current),Y.current=null,re.current=0},Q=Oe("div",{...O("controls"),children:[I(pi,{...O("control"),tabIndex:-1,"aria-hidden":!0,disabled:oe||typeof m=="number"&&w!==void 0&&m>=w,mod:{direction:"up"},onMouseDown:M=>M.preventDefault(),onPointerDown:M=>{Ce(M,!0)},onPointerUp:ae,onPointerLeave:ae,children:I(bi,{direction:"up"})}),I(pi,{...O("control"),tabIndex:-1,"aria-hidden":!0,disabled:oe||typeof m=="number"&&b!==void 0&&m<=b,mod:{direction:"down"},onMouseDown:M=>M.preventDefault(),onPointerDown:M=>{Ce(M,!1)},onPointerUp:ae,onPointerLeave:ae,children:I(bi,{direction:"down"})})]});return I(mo,{component:wc,allowNegative:ue,className:xs(Mn.root,n),size:_e,...$,readOnly:be,disabled:oe,value:m,getInputRef:Hs(t,V),onValueChange:$e,rightSection:S||be||!An(m)?_:_||Q,classNames:N,styles:s,unstyled:o,__staticSelector:"NumberInput",decimalScale:k?D:0,onKeyDown:ze,onKeyDownCapture:F,rightSectionPointerEvents:le??(oe?"none":void 0),rightSectionWidth:xe??`var(--ni-right-section-width-${_e||"sm"})`,allowLeadingZeros:me,onBlur:U,isAllowed:M=>E==="strict"?h?h(M)&&wi(M.floatValue,b,w):wi(M.floatValue,b,w):h?h(M):!0})});Lt.classes={...mo.classes,...Mn};Lt.displayName="@mantine/core/NumberInput";var mn=Ws("circle-plus","IconCirclePlus",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]);const wr=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},Cn=new Set(["__proto__","prototype","constructor"]),Ic=new Set("0123456789");function ca(e){const t=[];let r="",n="start",a=!1;for(const i of e)switch(i){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");a&&(r+=i),n="property",a=!a;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(a){a=!1,r+=i;break}if(Cn.has(r))return[];t.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(a){a=!1,r+=i;break}if(n==="property"){if(Cn.has(r))return[];t.push(r),r=""}n="index";break}case"]":{if(n==="index"){t.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!Ic.has(i))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),a&&(a=!1,r+="\\"),r+=i}}switch(a&&(r+="\\"),n){case"property":{if(Cn.has(r))return[];t.push(r);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function Po(e,t){if(typeof t!="number"&&Array.isArray(e)){const r=Number.parseInt(t,10);return Number.isInteger(r)&&e[r]===e[t]}return!1}function Ao(e,t){if(Po(e,t))throw new Error("Cannot use string index")}function Co(e,t,r){if(!wr(e)||typeof t!="string")return r===void 0?e:r;const n=ca(t);if(n.length===0)return r;for(let a=0;a<n.length;a++){const i=n[a];if(Po(e,i)?e=a===n.length-1?void 0:null:e=e[i],e==null){if(a!==n.length-1)return r;break}}return e===void 0?r:e}function ua(e,t,r){if(!wr(e)||typeof t!="string")return e;const n=e,a=ca(t);for(let i=0;i<a.length;i++){const o=a[i];Ao(e,o),i===a.length-1?e[o]=r:wr(e[o])||(e[o]=typeof a[i+1]=="number"?[]:{}),e=e[o]}return n}function Rc(e,t){if(!wr(e)||typeof t!="string")return!1;const r=ca(t);for(let n=0;n<r.length;n++){const a=r[n];if(Ao(e,a),n===r.length-1)return delete e[a],!0;if(e=e[a],!wr(e))return!1}}const Tc="PUSH_ITEM_TO_ARRAY",Dc="REMOVE_ITEM_FROM_ARRAY",kc="REMOVE",jc=(e,t,r,n)=>{switch(n){case Tc:Vc(e,t,r);return;case Dc:Mc(e,t,r);return;case kc:Rc(e,t);return;default:if(t===""){e=r;return}ua(e,t,r)}},Vc=(e,t,r)=>{const n=Co(e,t,[]).length;ua(e,`${t}[${n}]`,r)},Mc=(e,t,r)=>{const n=Co(e,t,[]);n.splice(n.indexOf(r),1),ua(e,`${t}`,n)},Oo=e=>e.match(/[.([)]/g)?e.match(/[.([)]/g).length:0;var Io=Symbol.for("immer-nothing"),Ei=Symbol.for("immer-draftable"),Ze=Symbol.for("immer-state");function it(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nr=Object.getPrototypeOf;function ar(e){return!!e&&!!e[Ze]}function qt(e){var t;return e?Ro(e)||Array.isArray(e)||!!e[Ei]||!!((t=e.constructor)!=null&&t[Ei])||vn(e)||gn(e):!1}var Fc=Object.prototype.constructor.toString();function Ro(e){if(!e||typeof e!="object")return!1;const t=nr(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Fc}function tn(e,t){pn(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function pn(e){const t=e[Ze];return t?t.type_:Array.isArray(e)?1:vn(e)?2:gn(e)?3:0}function zn(e,t){return pn(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function To(e,t,r){const n=pn(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function zc(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vn(e){return e instanceof Map}function gn(e){return e instanceof Set}function Dt(e){return e.copy_||e.base_}function Un(e,t){if(vn(e))return new Map(e);if(gn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Ro(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ze];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],u=n[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(nr(e),n)}else{const n=nr(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function la(e,t=!1){return yn(e)||ar(e)||!qt(e)||(pn(e)>1&&(e.set=e.add=e.clear=e.delete=Uc),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>la(n,!0))),e}function Uc(){it(2)}function yn(e){return Object.isFrozen(e)}var Lc={};function xt(e){const t=Lc[e];return t||it(0,e),t}var Er;function Do(){return Er}function qc(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ni(e,t){t&&(xt("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ln(e){qn(e),e.drafts_.forEach(xc),e.drafts_=null}function qn(e){e===Er&&(Er=e.parent_)}function Pi(e){return Er=qc(Er,e)}function xc(e){const t=e[Ze];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ai(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ze].modified_&&(Ln(t),it(4)),qt(e)&&(e=rn(t,e),t.parent_||nn(t,e)),t.patches_&&xt("Patches").generateReplacementPatches_(r[Ze].base_,e,t.patches_,t.inversePatches_)):e=rn(t,r,[]),Ln(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Io?e:void 0}function rn(e,t,r){if(yn(t))return t;const n=t[Ze];if(!n)return tn(t,(a,i)=>Ci(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return nn(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),tn(i,(u,f)=>Ci(e,n,a,u,f,r,o)),nn(e,a,!1),r&&e.patches_&&xt("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Ci(e,t,r,n,a,i,o){if(ar(a)){const u=i&&t&&t.type_!==3&&!zn(t.assigned_,n)?i.concat(n):void 0,f=rn(e,a,u);if(To(r,n,f),ar(f))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(qt(a)&&!yn(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;rn(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&nn(e,a)}}function nn(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&la(t,r)}function Kc(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Do(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=da;r&&(a=[n],i=Nr);const{revoke:o,proxy:u}=Proxy.revocable(a,i);return n.draft_=u,n.revoke_=o,u}var da={get(e,t){if(t===Ze)return e;const r=Dt(e);if(!zn(r,t))return Gc(e,r,t);const n=r[t];return e.finalized_||!qt(n)?n:n===On(e.base_,t)?(In(e),e.copy_[t]=Kn(n,e)):n},has(e,t){return t in Dt(e)},ownKeys(e){return Reflect.ownKeys(Dt(e))},set(e,t,r){const n=ko(Dt(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=On(Dt(e),t),i=a==null?void 0:a[Ze];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(zc(r,a)&&(r!==void 0||zn(e.base_,t)))return!0;In(e),xn(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return On(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,In(e),xn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Dt(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){it(11)},getPrototypeOf(e){return nr(e.base_)},setPrototypeOf(){it(12)}},Nr={};tn(da,(e,t)=>{Nr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nr.deleteProperty=function(e,t){return Nr.set.call(this,e,t,void 0)};Nr.set=function(e,t,r){return da.set.call(this,e[0],t,r,e[0])};function On(e,t){const r=e[Ze];return(r?Dt(r):e)[t]}function Gc(e,t,r){var a;const n=ko(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function ko(e,t){if(!(t in e))return;let r=nr(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=nr(r)}}function xn(e){e.modified_||(e.modified_=!0,e.parent_&&xn(e.parent_))}function In(e){e.copy_||(e.copy_=Un(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Bc=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(f=i,...c){return o.produce(f,d=>r.call(this,d,...c))}}typeof r!="function"&&it(6),n!==void 0&&typeof n!="function"&&it(7);let a;if(qt(t)){const i=Pi(this),o=Kn(t,void 0);let u=!0;try{a=r(o),u=!1}finally{u?Ln(i):qn(i)}return Ni(i,n),Ai(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Io&&(a=void 0),this.autoFreeze_&&la(a,!0),n){const i=[],o=[];xt("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else it(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,f=>t(f,...u));let n,a;return[this.produce(t,r,(o,u)=>{n=o,a=u}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){qt(e)||it(8),ar(e)&&(e=Jc(e));const t=Pi(this),r=Kn(e,void 0);return r[Ze].isManual_=!0,qn(t),r}finishDraft(e,t){const r=e&&e[Ze];(!r||!r.isManual_)&&it(9);const{scope_:n}=r;return Ni(n,t),Ai(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=xt("Patches").applyPatches_;return ar(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Kn(e,t){const r=vn(e)?xt("MapSet").proxyMap_(e,t):gn(e)?xt("MapSet").proxySet_(e,t):Kc(e,t);return(t?t.scope_:Do()).drafts_.push(r),r}function Jc(e){return ar(e)||it(10,e),jo(e)}function jo(e){if(!qt(e)||yn(e))return e;const t=e[Ze];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Un(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Un(e,!0);return tn(r,(n,a)=>{To(r,n,jo(a))}),t&&(t.finalized_=!1),r}var Ye=new Bc,Hc=Ye.produce;Ye.produceWithPatches.bind(Ye);Ye.setAutoFreeze.bind(Ye);Ye.setUseStrictShallowCopy.bind(Ye);Ye.applyPatches.bind(Ye);Ye.createDraft.bind(Ye);Ye.finishDraft.bind(Ye);const Ot=kt.createContext({}),Gn=Ot.Provider;try{Gn.displayName="ArchbaseJsonSchemaEditorProvider",Gn.__docgenInfo={description:"",displayName:"ArchbaseJsonSchemaEditorProvider",props:{}}}catch{}const Bn=({path:e,item:t})=>{const{handleChange:r}=X.useContext(Ot);return I(Ge,{direction:"column",w:"100%",wrap:"nowrap",children:I(ht,{align:"stretch",justify:"center",m:1,children:I(Ir,{label:`${L.t("archbase:Default value")}`,value:t.default??"",size:"sm",m:2,placeholder:`${L.t("archbase:Choose data type")}`,onChange:n=>{r(`${e}.default`,n,"ASSIGN_VALUE")},data:[{value:"true",label:`${L.t("archbase:true")}`},{value:"false",label:`${L.t("archbase:false")}`}]})})})};try{Bn.displayName="AdvancedBoolean",Bn.__docgenInfo={description:"",displayName:"AdvancedBoolean",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}}}}}catch{}var Jn={exports:{}},Vo={},st={},ir={},Tr={},ce={},Pr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((R,k)=>`${R}${k}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((R,k)=>(k instanceof r&&(R[k.str]=(R[k.str]||0)+1),R),{})}}e._Code=n,e.nil=new n("");function a(h,...E){const R=[h[0]];let k=0;for(;k<E.length;)u(R,E[k]),R.push(h[++k]);return new n(R)}e._=a;const i=new n("+");function o(h,...E){const R=[b(h[0])];let k=0;for(;k<E.length;)R.push(i),u(R,E[k]),R.push(i,b(h[++k]));return f(R),new n(R)}e.str=o;function u(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(v(E))}e.addCodeArg=u;function f(h){let E=1;for(;E<h.length-1;){if(h[E]===i){const R=c(h[E-1],h[E+1]);if(R!==void 0){h.splice(E-1,3,R);continue}h[E++]="+"}E++}}function c(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function d(h,E){return E.emptyStr()?h:h.emptyStr()?E:o`${h}${E}`}e.strConcat=d;function v(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:b(Array.isArray(h)?h.join(","):h)}function w(h){return new n(b(h))}e.stringify=w;function b(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=b;function y(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):a`[${h}]`}e.getProperty=y;function S(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=S;function _(h){return new n(h.toString())}e.regexpCode=_})(Pr);var Hn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Pr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(f){f[f.Started=0]="Started",f[f.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:c,parent:d}={}){this._names={},this._prefixes=c,this._parent=d}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const d=this._names[c]||this._nameGroup(c);return`${c}${d.index++}`}_nameGroup(c){var d,v;if(!((v=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||v===void 0)&&v.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=a;class i extends t.Name{constructor(c,d){super(d),this.prefix=c}setValue(c,{property:d,itemIndex:v}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(d)}[${v}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class u extends a{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new i(c,this._newName(c))}value(c,d){var v;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const w=this.toName(c),{prefix:b}=w,y=(v=d.key)!==null&&v!==void 0?v:d.ref;let S=this._values[b];if(S){const E=S.get(y);if(E)return E}else S=this._values[b]=new Map;S.set(y,w);const _=this._scope[b]||(this._scope[b]=[]),h=_.length;return _[h]=d.ref,w.setValue(d,{property:b,itemIndex:h}),w}getValue(c,d){const v=this._values[c];if(v)return v.get(d)}scopeRefs(c,d=this._values){return this._reduceValues(d,v=>{if(v.scopePath===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return(0,t._)`${c}${v.scopePath}`})}scopeCode(c=this._values,d,v){return this._reduceValues(c,w=>{if(w.value===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return w.value.code},d,v)}_reduceValues(c,d,v={},w){let b=t.nil;for(const y in c){const S=c[y];if(!S)continue;const _=v[y]=v[y]||new Map;S.forEach(h=>{if(_.has(h))return;_.set(h,n.Started);let E=d(h);if(E){const R=this.opts.es5?e.varKinds.var:e.varKinds.const;b=(0,t._)`${b}${R} ${h} = ${E};${this.opts._n}`}else if(E=w==null?void 0:w(h))b=(0,t._)`${b}${E}${this.opts._n}`;else throw new r(h);_.set(h,n.Completed)})}return b}}e.ValueScope=u})(Hn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Pr,r=Hn;var n=Pr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Hn;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(s,m){return this}}class o extends i{constructor(s,m,C){super(),this.varKind=s,this.name=m,this.rhs=C}render({es5:s,_n:m}){const C=s?r.varKinds.var:this.varKind,j=this.rhs===void 0?"":` = ${this.rhs}`;return`${C} ${this.name}${j};`+m}optimizeNames(s,m){if(s[this.name.str])return this.rhs&&(this.rhs=_e(this.rhs,s,m)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends i{constructor(s,m,C){super(),this.lhs=s,this.rhs=m,this.sideEffects=C}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,m){if(!(this.lhs instanceof t.Name&&!s[this.lhs.str]&&!this.sideEffects))return this.rhs=_e(this.rhs,s,m),this}get names(){const s=this.lhs instanceof t.Name?{}:{...this.lhs.names};return be(s,this.rhs)}}class f extends u{constructor(s,m,C,j){super(s,C,j),this.op=m}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class c extends i{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class d extends i{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class v extends i{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class w extends i{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,m){return this.code=_e(this.code,s,m),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class b extends i{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((m,C)=>m+C.render(s),"")}optimizeNodes(){const{nodes:s}=this;let m=s.length;for(;m--;){const C=s[m].optimizeNodes();Array.isArray(C)?s.splice(m,1,...C):C?s[m]=C:s.splice(m,1)}return s.length>0?this:void 0}optimizeNames(s,m){const{nodes:C}=this;let j=C.length;for(;j--;){const V=C[j];V.optimizeNames(s,m)||(xe(s,V.names),C.splice(j,1))}return C.length>0?this:void 0}get names(){return this.nodes.reduce((s,m)=>ue(s,m.names),{})}}class y extends b{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class S extends b{}class _ extends y{}_.kind="else";class h extends y{constructor(s,m){super(m),this.condition=s}render(s){let m=`if(${this.condition})`+super.render(s);return this.else&&(m+="else "+this.else.render(s)),m}optimizeNodes(){super.optimizeNodes();const s=this.condition;if(s===!0)return this.nodes;let m=this.else;if(m){const C=m.optimizeNodes();m=this.else=Array.isArray(C)?new _(C):C}if(m)return s===!1?m instanceof h?m:m.nodes:this.nodes.length?this:new h(G(s),m instanceof h?[m]:m.nodes);if(!(s===!1||!this.nodes.length))return this}optimizeNames(s,m){var C;if(this.else=(C=this.else)===null||C===void 0?void 0:C.optimizeNames(s,m),!!(super.optimizeNames(s,m)||this.else))return this.condition=_e(this.condition,s,m),this}get names(){const s=super.names;return be(s,this.condition),this.else&&ue(s,this.else.names),s}}h.kind="if";class E extends y{}E.kind="for";class R extends E{constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,m){if(super.optimizeNames(s,m))return this.iteration=_e(this.iteration,s,m),this}get names(){return ue(super.names,this.iteration.names)}}class k extends E{constructor(s,m,C,j){super(),this.varKind=s,this.name=m,this.from=C,this.to=j}render(s){const m=s.es5?r.varKinds.var:this.varKind,{name:C,from:j,to:V}=this;return`for(${m} ${C}=${j}; ${C}<${V}; ${C}++)`+super.render(s)}get names(){const s=be(super.names,this.from);return be(s,this.to)}}class D extends E{constructor(s,m,C,j){super(),this.loop=s,this.varKind=m,this.name=C,this.iterable=j}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,m){if(super.optimizeNames(s,m))return this.iterable=_e(this.iterable,s,m),this}get names(){return ue(super.names,this.iterable.names)}}class Z extends y{constructor(s,m,C){super(),this.name=s,this.args=m,this.async=C}render(s){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(s)}}Z.kind="func";class ie extends b{render(s){return"return "+super.render(s)}}ie.kind="return";class te extends y{render(s){let m="try"+super.render(s);return this.catch&&(m+=this.catch.render(s)),this.finally&&(m+=this.finally.render(s)),m}optimizeNodes(){var s,m;return super.optimizeNodes(),(s=this.catch)===null||s===void 0||s.optimizeNodes(),(m=this.finally)===null||m===void 0||m.optimizeNodes(),this}optimizeNames(s,m){var C,j;return super.optimizeNames(s,m),(C=this.catch)===null||C===void 0||C.optimizeNames(s,m),(j=this.finally)===null||j===void 0||j.optimizeNames(s,m),this}get names(){const s=super.names;return this.catch&&ue(s,this.catch.names),this.finally&&ue(s,this.finally.names),s}}class pe extends y{constructor(s){super(),this.error=s}render(s){return`catch(${this.error})`+super.render(s)}}pe.kind="catch";class oe extends y{render(s){return"finally"+super.render(s)}}oe.kind="finally";class le{constructor(s,m={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...m,_n:m.lines?`
`:""},this._extScope=s,this._scope=new r.Scope({parent:s}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,m){const C=this._extScope.value(s,m);return(this._values[C.prefix]||(this._values[C.prefix]=new Set)).add(C),C}getScopeValue(s,m){return this._extScope.getValue(s,m)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,m,C,j){const V=this._scope.toName(m);return C!==void 0&&j&&(this._constants[V.str]=C),this._leafNode(new o(s,V,C)),V}const(s,m,C){return this._def(r.varKinds.const,s,m,C)}let(s,m,C){return this._def(r.varKinds.let,s,m,C)}var(s,m,C){return this._def(r.varKinds.var,s,m,C)}assign(s,m,C){return this._leafNode(new u(s,m,C))}add(s,m){return this._leafNode(new f(s,e.operators.ADD,m))}code(s){return typeof s=="function"?s():s!==t.nil&&this._leafNode(new w(s)),this}object(...s){const m=["{"];for(const[C,j]of s)m.length>1&&m.push(","),m.push(C),(C!==j||this.opts.es5)&&(m.push(":"),(0,t.addCodeArg)(m,j));return m.push("}"),new t._Code(m)}if(s,m,C){if(this._blockNode(new h(s)),m&&C)this.code(m).else().code(C).endIf();else if(m)this.code(m).endIf();else if(C)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new h(s))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(h,_)}_for(s,m){return this._blockNode(s),m&&this.code(m).endFor(),this}for(s,m){return this._for(new R(s),m)}forRange(s,m,C,j,V=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(s);return this._for(new k(V,Y,m,C),()=>j(Y))}forOf(s,m,C,j=r.varKinds.const){const V=this._scope.toName(s);if(this.opts.es5){const Y=m instanceof t.Name?m:this.var("_arr",m);return this.forRange("_i",0,(0,t._)`${Y}.length`,re=>{this.var(V,(0,t._)`${Y}[${re}]`),C(V)})}return this._for(new D("of",j,V,m),()=>C(V))}forIn(s,m,C,j=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(s,(0,t._)`Object.keys(${m})`,C);const V=this._scope.toName(s);return this._for(new D("in",j,V,m),()=>C(V))}endFor(){return this._endBlockNode(E)}label(s){return this._leafNode(new c(s))}break(s){return this._leafNode(new d(s))}return(s){const m=new ie;if(this._blockNode(m),this.code(s),m.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ie)}try(s,m,C){if(!m&&!C)throw new Error('CodeGen: "try" without "catch" and "finally"');const j=new te;if(this._blockNode(j),this.code(s),m){const V=this.name("e");this._currNode=j.catch=new pe(V),m(V)}return C&&(this._currNode=j.finally=new oe,this.code(C)),this._endBlockNode(pe,oe)}throw(s){return this._leafNode(new v(s))}block(s,m){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(m),this}endBlock(s){const m=this._blockStarts.pop();if(m===void 0)throw new Error("CodeGen: not in self-balancing block");const C=this._nodes.length-m;if(C<0||s!==void 0&&C!==s)throw new Error(`CodeGen: wrong number of nodes: ${C} vs ${s} expected`);return this._nodes.length=m,this}func(s,m=t.nil,C,j){return this._blockNode(new Z(s,m,C)),j&&this.code(j).endFunc(),this}endFunc(){return this._endBlockNode(Z)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,m){const C=this._currNode;if(C instanceof s||m&&C instanceof m)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${m?`${s.kind}/${m.kind}`:s.kind}"`)}_elseNode(s){const m=this._currNode;if(!(m instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=m.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const m=this._nodes;m[m.length-1]=s}}e.CodeGen=le;function ue(N,s){for(const m in s)N[m]=(N[m]||0)+(s[m]||0);return N}function be(N,s){return s instanceof t._CodeOrName?ue(N,s.names):N}function _e(N,s,m){if(N instanceof t.Name)return C(N);if(!j(N))return N;return new t._Code(N._items.reduce((V,Y)=>(Y instanceof t.Name&&(Y=C(Y)),Y instanceof t._Code?V.push(...Y._items):V.push(Y),V),[]));function C(V){const Y=m[V.str];return Y===void 0||s[V.str]!==1?V:(delete s[V.str],Y)}function j(V){return V instanceof t._Code&&V._items.some(Y=>Y instanceof t.Name&&s[Y.str]===1&&m[Y.str]!==void 0)}}function xe(N,s){for(const m in s)N[m]=(N[m]||0)-(s[m]||0)}function G(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${O(N)}`}e.not=G;const B=$(e.operators.AND);function me(...N){return N.reduce(B)}e.and=me;const ve=$(e.operators.OR);function T(...N){return N.reduce(ve)}e.or=T;function $(N){return(s,m)=>s===t.nil?m:m===t.nil?s:(0,t._)`${O(s)} ${N} ${O(m)}`}function O(N){return N instanceof t.Name?N:(0,t._)`(${N})`}})(ce);var z={};Object.defineProperty(z,"__esModule",{value:!0});z.checkStrictMode=z.getErrorPath=z.Type=z.useFunc=z.setEvaluated=z.evaluatedPropsToName=z.mergeEvaluated=z.eachItem=z.unescapeJsonPointer=z.escapeJsonPointer=z.escapeFragment=z.unescapeFragment=z.schemaRefOrVal=z.schemaHasRulesButRef=z.schemaHasRules=z.checkUnknownRules=z.alwaysValidSchema=z.toHash=void 0;const ye=ce,Wc=Pr;function Xc(e){const t={};for(const r of e)t[r]=!0;return t}z.toHash=Xc;function Zc(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Mo(e,t),!Fo(t,e.self.RULES.all))}z.alwaysValidSchema=Zc;function Mo(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const a=n.RULES.keywords;for(const i in t)a[i]||Lo(e,`unknown keyword: "${i}"`)}z.checkUnknownRules=Mo;function Fo(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}z.schemaHasRules=Fo;function Yc(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}z.schemaHasRulesButRef=Yc;function Qc({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ye._)`${r}`}return(0,ye._)`${e}${t}${(0,ye.getProperty)(n)}`}z.schemaRefOrVal=Qc;function eu(e){return zo(decodeURIComponent(e))}z.unescapeFragment=eu;function tu(e){return encodeURIComponent(fa(e))}z.escapeFragment=tu;function fa(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}z.escapeJsonPointer=fa;function zo(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}z.unescapeJsonPointer=zo;function ru(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}z.eachItem=ru;function Oi({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,i,o,u)=>{const f=o===void 0?i:o instanceof ye.Name?(i instanceof ye.Name?e(a,i,o):t(a,i,o),o):i instanceof ye.Name?(t(a,o,i),i):r(i,o);return u===ye.Name&&!(f instanceof ye.Name)?n(a,f):f}}z.mergeEvaluated={props:Oi({mergeNames:(e,t,r)=>e.if((0,ye._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ye._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ye._)`${r} || {}`).code((0,ye._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ye._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ye._)`${r} || {}`),ha(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Uo}),items:Oi({mergeNames:(e,t,r)=>e.if((0,ye._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ye._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ye._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ye._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Uo(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ye._)`{}`);return t!==void 0&&ha(e,r,t),r}z.evaluatedPropsToName=Uo;function ha(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ye._)`${t}${(0,ye.getProperty)(n)}`,!0))}z.setEvaluated=ha;const Ii={};function nu(e,t){return e.scopeValue("func",{ref:t,code:Ii[t.code]||(Ii[t.code]=new Wc._Code(t.code))})}z.useFunc=nu;var Wn;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Wn||(z.Type=Wn={}));function au(e,t,r){if(e instanceof ye.Name){const n=t===Wn.Num;return r?n?(0,ye._)`"[" + ${e} + "]"`:(0,ye._)`"['" + ${e} + "']"`:n?(0,ye._)`"/" + ${e}`:(0,ye._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ye.getProperty)(e).toString():"/"+fa(e)}z.getErrorPath=au;function Lo(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}z.checkStrictMode=Lo;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});const qe=ce,iu={data:new qe.Name("data"),valCxt:new qe.Name("valCxt"),instancePath:new qe.Name("instancePath"),parentData:new qe.Name("parentData"),parentDataProperty:new qe.Name("parentDataProperty"),rootData:new qe.Name("rootData"),dynamicAnchors:new qe.Name("dynamicAnchors"),vErrors:new qe.Name("vErrors"),errors:new qe.Name("errors"),this:new qe.Name("this"),self:new qe.Name("self"),scope:new qe.Name("scope"),json:new qe.Name("json"),jsonPos:new qe.Name("jsonPos"),jsonLen:new qe.Name("jsonLen"),jsonPart:new qe.Name("jsonPart")};gt.default=iu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ce,r=z,n=gt;e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:h})=>h?(0,t.str)`"${_}" keyword must be ${h} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function a(_,h=e.keywordError,E,R){const{it:k}=_,{gen:D,compositeRule:Z,allErrors:ie}=k,te=v(_,h,E);R??(Z||ie)?f(D,te):c(k,(0,t._)`[${te}]`)}e.reportError=a;function i(_,h=e.keywordError,E){const{it:R}=_,{gen:k,compositeRule:D,allErrors:Z}=R,ie=v(_,h,E);f(k,ie),D||Z||c(R,n.default.vErrors)}e.reportExtraError=i;function o(_,h){_.assign(n.default.errors,h),_.if((0,t._)`${n.default.vErrors} !== null`,()=>_.if(h,()=>_.assign((0,t._)`${n.default.vErrors}.length`,h),()=>_.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function u({gen:_,keyword:h,schemaValue:E,data:R,errsCount:k,it:D}){if(k===void 0)throw new Error("ajv implementation error");const Z=_.name("err");_.forRange("i",k,n.default.errors,ie=>{_.const(Z,(0,t._)`${n.default.vErrors}[${ie}]`),_.if((0,t._)`${Z}.instancePath === undefined`,()=>_.assign((0,t._)`${Z}.instancePath`,(0,t.strConcat)(n.default.instancePath,D.errorPath))),_.assign((0,t._)`${Z}.schemaPath`,(0,t.str)`${D.errSchemaPath}/${h}`),D.opts.verbose&&(_.assign((0,t._)`${Z}.schema`,E),_.assign((0,t._)`${Z}.data`,R))})}e.extendErrors=u;function f(_,h){const E=_.const("err",h);_.if((0,t._)`${n.default.vErrors} === null`,()=>_.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),_.code((0,t._)`${n.default.errors}++`)}function c(_,h){const{gen:E,validateName:R,schemaEnv:k}=_;k.$async?E.throw((0,t._)`new ${_.ValidationError}(${h})`):(E.assign((0,t._)`${R}.errors`,h),E.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function v(_,h,E){const{createErrors:R}=_.it;return R===!1?(0,t._)`{}`:w(_,h,E)}function w(_,h,E={}){const{gen:R,it:k}=_,D=[b(k,E),y(_,E)];return S(_,h,D),R.object(...D)}function b({errorPath:_},{instancePath:h}){const E=h?(0,t.str)`${_}${(0,r.getErrorPath)(h,r.Type.Str)}`:_;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function y({keyword:_,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:R}){let k=R?h:(0,t.str)`${h}/${_}`;return E&&(k=(0,t.str)`${k}${(0,r.getErrorPath)(E,r.Type.Str)}`),[d.schemaPath,k]}function S(_,{params:h,message:E},R){const{keyword:k,data:D,schemaValue:Z,it:ie}=_,{opts:te,propertyName:pe,topSchemaRef:oe,schemaPath:le}=ie;R.push([d.keyword,k],[d.params,typeof h=="function"?h(_):h||(0,t._)`{}`]),te.messages&&R.push([d.message,typeof E=="function"?E(_):E]),te.verbose&&R.push([d.schema,Z],[d.parentSchema,(0,t._)`${oe}${le}`],[n.default.data,D]),pe&&R.push([d.propertyName,pe])}})(Tr);Object.defineProperty(ir,"__esModule",{value:!0});ir.boolOrEmptySchema=ir.topBoolOrEmptySchema=void 0;const ou=Tr,su=ce,cu=gt,uu={message:"boolean schema is false"};function lu(e){const{gen:t,schema:r,validateName:n}=e;r===!1?qo(e,!1):typeof r=="object"&&r.$async===!0?t.return(cu.default.data):(t.assign((0,su._)`${n}.errors`,null),t.return(!0))}ir.topBoolOrEmptySchema=lu;function du(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),qo(e)):r.var(t,!0)}ir.boolOrEmptySchema=du;function qo(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,ou.reportError)(a,uu,void 0,t)}var je={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.getRules=Kt.isJSONType=void 0;const fu=["string","number","integer","boolean","null","object","array"],hu=new Set(fu);function mu(e){return typeof e=="string"&&hu.has(e)}Kt.isJSONType=mu;function pu(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Kt.getRules=pu;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.shouldUseRule=_t.shouldUseGroup=_t.schemaHasRulesForType=void 0;function vu({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&xo(e,n)}_t.schemaHasRulesForType=vu;function xo(e,t){return t.rules.some(r=>Ko(e,r))}_t.shouldUseGroup=xo;function Ko(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}_t.shouldUseRule=Ko;Object.defineProperty(je,"__esModule",{value:!0});je.reportTypeError=je.checkDataTypes=je.checkDataType=je.coerceAndCheckDataType=je.getJSONTypes=je.getSchemaTypes=je.DataType=void 0;const gu=Kt,yu=_t,_u=Tr,ne=ce,Go=z;var er;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(er||(je.DataType=er={}));function $u(e){const t=Bo(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}je.getSchemaTypes=$u;function Bo(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(gu.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}je.getJSONTypes=Bo;function Su(e,t){const{gen:r,data:n,opts:a}=e,i=bu(t,a.coerceTypes),o=t.length>0&&!(i.length===0&&t.length===1&&(0,yu.schemaHasRulesForType)(e,t[0]));if(o){const u=ma(t,n,a.strictNumbers,er.Wrong);r.if(u,()=>{i.length?wu(e,t,i):pa(e)})}return o}je.coerceAndCheckDataType=Su;const Jo=new Set(["string","number","integer","boolean","null"]);function bu(e,t){return t?e.filter(r=>Jo.has(r)||t==="array"&&r==="array"):[]}function wu(e,t,r){const{gen:n,data:a,opts:i}=e,o=n.let("dataType",(0,ne._)`typeof ${a}`),u=n.let("coerced",(0,ne._)`undefined`);i.coerceTypes==="array"&&n.if((0,ne._)`${o} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,ne._)`${a}[0]`).assign(o,(0,ne._)`typeof ${a}`).if(ma(t,a,i.strictNumbers),()=>n.assign(u,a))),n.if((0,ne._)`${u} !== undefined`);for(const c of r)(Jo.has(c)||c==="array"&&i.coerceTypes==="array")&&f(c);n.else(),pa(e),n.endIf(),n.if((0,ne._)`${u} !== undefined`,()=>{n.assign(a,u),Eu(e,u)});function f(c){switch(c){case"string":n.elseIf((0,ne._)`${o} == "number" || ${o} == "boolean"`).assign(u,(0,ne._)`"" + ${a}`).elseIf((0,ne._)`${a} === null`).assign(u,(0,ne._)`""`);return;case"number":n.elseIf((0,ne._)`${o} == "boolean" || ${a} === null
              || (${o} == "string" && ${a} && ${a} == +${a})`).assign(u,(0,ne._)`+${a}`);return;case"integer":n.elseIf((0,ne._)`${o} === "boolean" || ${a} === null
              || (${o} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(u,(0,ne._)`+${a}`);return;case"boolean":n.elseIf((0,ne._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(u,!1).elseIf((0,ne._)`${a} === "true" || ${a} === 1`).assign(u,!0);return;case"null":n.elseIf((0,ne._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(u,null);return;case"array":n.elseIf((0,ne._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${a} === null`).assign(u,(0,ne._)`[${a}]`)}}}function Eu({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,ne._)`${t} !== undefined`,()=>e.assign((0,ne._)`${t}[${r}]`,n))}function Xn(e,t,r,n=er.Correct){const a=n===er.Correct?ne.operators.EQ:ne.operators.NEQ;let i;switch(e){case"null":return(0,ne._)`${t} ${a} null`;case"array":i=(0,ne._)`Array.isArray(${t})`;break;case"object":i=(0,ne._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=o((0,ne._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=o();break;default:return(0,ne._)`typeof ${t} ${a} ${e}`}return n===er.Correct?i:(0,ne.not)(i);function o(u=ne.nil){return(0,ne.and)((0,ne._)`typeof ${t} == "number"`,u,r?(0,ne._)`isFinite(${t})`:ne.nil)}}je.checkDataType=Xn;function ma(e,t,r,n){if(e.length===1)return Xn(e[0],t,r,n);let a;const i=(0,Go.toHash)(e);if(i.array&&i.object){const o=(0,ne._)`typeof ${t} != "object"`;a=i.null?o:(0,ne._)`!${t} || ${o}`,delete i.null,delete i.array,delete i.object}else a=ne.nil;i.number&&delete i.integer;for(const o in i)a=(0,ne.and)(a,Xn(o,t,r,n));return a}je.checkDataTypes=ma;const Nu={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,ne._)`{type: ${e}}`:(0,ne._)`{type: ${t}}`};function pa(e){const t=Pu(e);(0,_u.reportError)(t,Nu)}je.reportTypeError=pa;function Pu(e){const{gen:t,data:r,schema:n}=e,a=(0,Go.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.assignDefaults=void 0;const Wt=ce,Au=z;function Cu(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)Ri(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,i)=>Ri(e,i,a.default))}_n.assignDefaults=Cu;function Ri(e,t,r){const{gen:n,compositeRule:a,data:i,opts:o}=e;if(r===void 0)return;const u=(0,Wt._)`${i}${(0,Wt.getProperty)(t)}`;if(a){(0,Au.checkStrictMode)(e,`default is ignored for: ${u}`);return}let f=(0,Wt._)`${u} === undefined`;o.useDefaults==="empty"&&(f=(0,Wt._)`${f} || ${u} === null || ${u} === ""`),n.if(f,(0,Wt._)`${u} = ${(0,Wt.stringify)(r)}`)}var vt={},se={};Object.defineProperty(se,"__esModule",{value:!0});se.validateUnion=se.validateArray=se.usePattern=se.callValidateCode=se.schemaProperties=se.allSchemaProperties=se.noPropertyInData=se.propertyInData=se.isOwnProperty=se.hasPropFunc=se.reportMissingProp=se.checkMissingProp=se.checkReportMissingProp=void 0;const Ne=ce,va=z,wt=gt,Ou=z;function Iu(e,t){const{gen:r,data:n,it:a}=e;r.if(ya(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ne._)`${t}`},!0),e.error()})}se.checkReportMissingProp=Iu;function Ru({gen:e,data:t,it:{opts:r}},n,a){return(0,Ne.or)(...n.map(i=>(0,Ne.and)(ya(e,t,i,r.ownProperties),(0,Ne._)`${a} = ${i}`)))}se.checkMissingProp=Ru;function Tu(e,t){e.setParams({missingProperty:t},!0),e.error()}se.reportMissingProp=Tu;function Ho(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ne._)`Object.prototype.hasOwnProperty`})}se.hasPropFunc=Ho;function ga(e,t,r){return(0,Ne._)`${Ho(e)}.call(${t}, ${r})`}se.isOwnProperty=ga;function Du(e,t,r,n){const a=(0,Ne._)`${t}${(0,Ne.getProperty)(r)} !== undefined`;return n?(0,Ne._)`${a} && ${ga(e,t,r)}`:a}se.propertyInData=Du;function ya(e,t,r,n){const a=(0,Ne._)`${t}${(0,Ne.getProperty)(r)} === undefined`;return n?(0,Ne.or)(a,(0,Ne.not)(ga(e,t,r))):a}se.noPropertyInData=ya;function Wo(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}se.allSchemaProperties=Wo;function ku(e,t){return Wo(t).filter(r=>!(0,va.alwaysValidSchema)(e,t[r]))}se.schemaProperties=ku;function ju({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:i},it:o},u,f,c){const d=c?(0,Ne._)`${e}, ${t}, ${n}${a}`:t,v=[[wt.default.instancePath,(0,Ne.strConcat)(wt.default.instancePath,i)],[wt.default.parentData,o.parentData],[wt.default.parentDataProperty,o.parentDataProperty],[wt.default.rootData,wt.default.rootData]];o.opts.dynamicRef&&v.push([wt.default.dynamicAnchors,wt.default.dynamicAnchors]);const w=(0,Ne._)`${d}, ${r.object(...v)}`;return f!==Ne.nil?(0,Ne._)`${u}.call(${f}, ${w})`:(0,Ne._)`${u}(${w})`}se.callValidateCode=ju;const Vu=(0,Ne._)`new RegExp`;function Mu({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,i=a(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Ne._)`${a.code==="new RegExp"?Vu:(0,Ou.useFunc)(e,a)}(${r}, ${n})`})}se.usePattern=Mu;function Fu(e){const{gen:t,data:r,keyword:n,it:a}=e,i=t.name("valid");if(a.allErrors){const u=t.let("valid",!0);return o(()=>t.assign(u,!1)),u}return t.var(i,!0),o(()=>t.break()),i;function o(u){const f=t.const("len",(0,Ne._)`${r}.length`);t.forRange("i",0,f,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:va.Type.Num},i),t.if((0,Ne.not)(i),u)})}}se.validateArray=Fu;function zu(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(f=>(0,va.alwaysValidSchema)(a,f))&&!a.opts.unevaluated)return;const o=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((f,c)=>{const d=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},u);t.assign(o,(0,Ne._)`${o} || ${u}`),e.mergeValidEvaluated(d,u)||t.if((0,Ne.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}se.validateUnion=zu;Object.defineProperty(vt,"__esModule",{value:!0});vt.validateKeywordUsage=vt.validSchemaType=vt.funcKeywordCode=vt.macroKeywordCode=void 0;const Ke=ce,Vt=gt,Uu=se,Lu=Tr;function qu(e,t){const{gen:r,keyword:n,schema:a,parentSchema:i,it:o}=e,u=t.macro.call(o.self,a,i,o),f=Xo(r,n,u);o.opts.validateSchema!==!1&&o.self.validateSchema(u,!0);const c=r.name("valid");e.subschema({schema:u,schemaPath:Ke.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:f,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}vt.macroKeywordCode=qu;function xu(e,t){var r;const{gen:n,keyword:a,schema:i,parentSchema:o,$data:u,it:f}=e;Gu(f,t);const c=!u&&t.compile?t.compile.call(f.self,i,o,f):t.validate,d=Xo(n,a,c),v=n.let("valid");e.block$data(v,w),e.ok((r=t.valid)!==null&&r!==void 0?r:v);function w(){if(t.errors===!1)S(),t.modifying&&Ti(e),_(()=>e.error());else{const h=t.async?b():y();t.modifying&&Ti(e),_(()=>Ku(e,h))}}function b(){const h=n.let("ruleErrs",null);return n.try(()=>S((0,Ke._)`await `),E=>n.assign(v,!1).if((0,Ke._)`${E} instanceof ${f.ValidationError}`,()=>n.assign(h,(0,Ke._)`${E}.errors`),()=>n.throw(E))),h}function y(){const h=(0,Ke._)`${d}.errors`;return n.assign(h,null),S(Ke.nil),h}function S(h=t.async?(0,Ke._)`await `:Ke.nil){const E=f.opts.passContext?Vt.default.this:Vt.default.self,R=!("compile"in t&&!u||t.schema===!1);n.assign(v,(0,Ke._)`${h}${(0,Uu.callValidateCode)(e,d,E,R)}`,t.modifying)}function _(h){var E;n.if((0,Ke.not)((E=t.valid)!==null&&E!==void 0?E:v),h)}}vt.funcKeywordCode=xu;function Ti(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ke._)`${n.parentData}[${n.parentDataProperty}]`))}function Ku(e,t){const{gen:r}=e;r.if((0,Ke._)`Array.isArray(${t})`,()=>{r.assign(Vt.default.vErrors,(0,Ke._)`${Vt.default.vErrors} === null ? ${t} : ${Vt.default.vErrors}.concat(${t})`).assign(Vt.default.errors,(0,Ke._)`${Vt.default.vErrors}.length`),(0,Lu.extendErrors)(e)},()=>e.error())}function Gu({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Xo(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ke.stringify)(r)})}function Bu(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}vt.validSchemaType=Bu;function Ju({schema:e,opts:t,self:r,errSchemaPath:n},a,i){if(Array.isArray(a.keyword)?!a.keyword.includes(i):a.keyword!==i)throw new Error("ajv implementation error");const o=a.dependencies;if(o!=null&&o.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[i])){const f=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(f);else throw new Error(f)}}vt.validateKeywordUsage=Ju;var At={};Object.defineProperty(At,"__esModule",{value:!0});At.extendSubschemaMode=At.extendSubschemaData=At.getSubschema=void 0;const mt=ce,Zo=z;function Hu(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,mt._)`${e.schemaPath}${(0,mt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,mt._)`${e.schemaPath}${(0,mt.getProperty)(t)}${(0,mt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Zo.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}At.getSubschema=Hu;function Wu(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:i,propertyName:o}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:c,dataPathArr:d,opts:v}=t,w=u.let("data",(0,mt._)`${t.data}${(0,mt.getProperty)(r)}`,!0);f(w),e.errorPath=(0,mt.str)`${c}${(0,Zo.getErrorPath)(r,n,v.jsPropertySyntax)}`,e.parentDataProperty=(0,mt._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(a!==void 0){const c=a instanceof mt.Name?a:u.let("data",a,!0);f(c),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function f(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}At.extendSubschemaData=Wu;function Xu(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:i}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}At.extendSubschemaMode=Xu;var Le={},Yo={exports:{}},Pt=Yo.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};Hr(t,n,a,e,"",e)};Pt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Pt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Pt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Pt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Hr(e,t,r,n,a,i,o,u,f,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,i,o,u,f,c);for(var d in n){var v=n[d];if(Array.isArray(v)){if(d in Pt.arrayKeywords)for(var w=0;w<v.length;w++)Hr(e,t,r,v[w],a+"/"+d+"/"+w,i,a,d,n,w)}else if(d in Pt.propsKeywords){if(v&&typeof v=="object")for(var b in v)Hr(e,t,r,v[b],a+"/"+d+"/"+Zu(b),i,a,d,n,b)}else(d in Pt.keywords||e.allKeys&&!(d in Pt.skipKeywords))&&Hr(e,t,r,v,a+"/"+d,i,a,d,n)}r(n,a,i,o,u,f,c)}}function Zu(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Yu=Yo.exports;Object.defineProperty(Le,"__esModule",{value:!0});Le.getSchemaRefs=Le.resolveUrl=Le.normalizeId=Le._getFullPath=Le.getFullPath=Le.inlineRef=void 0;const Qu=z,el=ho,tl=Yu,rl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function nl(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Zn(e):t?Qo(e)<=t:!1}Le.inlineRef=nl;const al=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Zn(e){for(const t in e){if(al.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Zn)||typeof r=="object"&&Zn(r))return!0}return!1}function Qo(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!rl.has(r)&&(typeof e[r]=="object"&&(0,Qu.eachItem)(e[r],n=>t+=Qo(n)),t===1/0))return 1/0}return t}function es(e,t="",r){r!==!1&&(t=tr(t));const n=e.parse(t);return ts(e,n)}Le.getFullPath=es;function ts(e,t){return e.serialize(t).split("#")[0]+"#"}Le._getFullPath=ts;const il=/#\/?$/;function tr(e){return e?e.replace(il,""):""}Le.normalizeId=tr;function ol(e,t,r){return r=tr(r),e.resolve(t,r)}Le.resolveUrl=ol;const sl=/^[a-z_][-a-z0-9._]*$/i;function cl(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=tr(e[r]||t),i={"":a},o=es(n,a,!1),u={},f=new Set;return tl(e,{allKeys:!0},(v,w,b,y)=>{if(y===void 0)return;const S=o+w;let _=i[y];typeof v[r]=="string"&&(_=h.call(this,v[r])),E.call(this,v.$anchor),E.call(this,v.$dynamicAnchor),i[w]=_;function h(R){const k=this.opts.uriResolver.resolve;if(R=tr(_?k(_,R):R),f.has(R))throw d(R);f.add(R);let D=this.refs[R];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?c(v,D.schema,R):R!==tr(S)&&(R[0]==="#"?(c(v,u[R],R),u[R]=v):this.refs[R]=S),R}function E(R){if(typeof R=="string"){if(!sl.test(R))throw new Error(`invalid anchor "${R}"`);h.call(this,`#${R}`)}}}),u;function c(v,w,b){if(w!==void 0&&!el(v,w))throw d(b)}function d(v){return new Error(`reference "${v}" resolves to more than one schema`)}}Le.getSchemaRefs=cl;Object.defineProperty(st,"__esModule",{value:!0});st.getData=st.KeywordCxt=st.validateFunctionCode=void 0;const rs=ir,Di=je,_a=_t,an=je,ul=_n,vr=vt,Rn=At,q=ce,W=gt,ll=Le,$t=z,hr=Tr;function dl(e){if(is(e)&&(os(e),as(e))){ml(e);return}ns(e,()=>(0,rs.topBoolOrEmptySchema)(e))}st.validateFunctionCode=dl;function ns({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},i){a.code.es5?e.func(t,(0,q._)`${W.default.data}, ${W.default.valCxt}`,n.$async,()=>{e.code((0,q._)`"use strict"; ${ki(r,a)}`),hl(e,a),e.code(i)}):e.func(t,(0,q._)`${W.default.data}, ${fl(a)}`,n.$async,()=>e.code(ki(r,a)).code(i))}function fl(e){return(0,q._)`{${W.default.instancePath}="", ${W.default.parentData}, ${W.default.parentDataProperty}, ${W.default.rootData}=${W.default.data}${e.dynamicRef?(0,q._)`, ${W.default.dynamicAnchors}={}`:q.nil}}={}`}function hl(e,t){e.if(W.default.valCxt,()=>{e.var(W.default.instancePath,(0,q._)`${W.default.valCxt}.${W.default.instancePath}`),e.var(W.default.parentData,(0,q._)`${W.default.valCxt}.${W.default.parentData}`),e.var(W.default.parentDataProperty,(0,q._)`${W.default.valCxt}.${W.default.parentDataProperty}`),e.var(W.default.rootData,(0,q._)`${W.default.valCxt}.${W.default.rootData}`),t.dynamicRef&&e.var(W.default.dynamicAnchors,(0,q._)`${W.default.valCxt}.${W.default.dynamicAnchors}`)},()=>{e.var(W.default.instancePath,(0,q._)`""`),e.var(W.default.parentData,(0,q._)`undefined`),e.var(W.default.parentDataProperty,(0,q._)`undefined`),e.var(W.default.rootData,W.default.data),t.dynamicRef&&e.var(W.default.dynamicAnchors,(0,q._)`{}`)})}function ml(e){const{schema:t,opts:r,gen:n}=e;ns(e,()=>{r.$comment&&t.$comment&&cs(e),_l(e),n.let(W.default.vErrors,null),n.let(W.default.errors,0),r.unevaluated&&pl(e),ss(e),bl(e)})}function pl(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,q._)`${r}.evaluated`),t.if((0,q._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,q._)`${e.evaluated}.props`,(0,q._)`undefined`)),t.if((0,q._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,q._)`${e.evaluated}.items`,(0,q._)`undefined`))}function ki(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,q._)`/*# sourceURL=${r} */`:q.nil}function vl(e,t){if(is(e)&&(os(e),as(e))){gl(e,t);return}(0,rs.boolOrEmptySchema)(e,t)}function as({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function is(e){return typeof e.schema!="boolean"}function gl(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&cs(e),$l(e),Sl(e);const i=n.const("_errs",W.default.errors);ss(e,i),n.var(t,(0,q._)`${i} === ${W.default.errors}`)}function os(e){(0,$t.checkUnknownRules)(e),yl(e)}function ss(e,t){if(e.opts.jtd)return ji(e,[],!1,t);const r=(0,Di.getSchemaTypes)(e.schema),n=(0,Di.coerceAndCheckDataType)(e,r);ji(e,r,!n,t)}function yl(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,$t.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function _l(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,$t.checkStrictMode)(e,"default is ignored in the schema root")}function $l(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,ll.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Sl(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function cs({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const i=r.$comment;if(a.$comment===!0)e.code((0,q._)`${W.default.self}.logger.log(${i})`);else if(typeof a.$comment=="function"){const o=(0,q.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,q._)`${W.default.self}.opts.$comment(${i}, ${o}, ${u}.schema)`)}}function bl(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:i}=e;r.$async?t.if((0,q._)`${W.default.errors} === 0`,()=>t.return(W.default.data),()=>t.throw((0,q._)`new ${a}(${W.default.vErrors})`)):(t.assign((0,q._)`${n}.errors`,W.default.vErrors),i.unevaluated&&wl(e),t.return((0,q._)`${W.default.errors} === 0`))}function wl({gen:e,evaluated:t,props:r,items:n}){r instanceof q.Name&&e.assign((0,q._)`${t}.props`,r),n instanceof q.Name&&e.assign((0,q._)`${t}.items`,n)}function ji(e,t,r,n){const{gen:a,schema:i,data:o,allErrors:u,opts:f,self:c}=e,{RULES:d}=c;if(i.$ref&&(f.ignoreKeywordsWithRef||!(0,$t.schemaHasRulesButRef)(i,d))){a.block(()=>ds(e,"$ref",d.all.$ref.definition));return}f.jtd||El(e,t),a.block(()=>{for(const w of d.rules)v(w);v(d.post)});function v(w){(0,_a.shouldUseGroup)(i,w)&&(w.type?(a.if((0,an.checkDataType)(w.type,o,f.strictNumbers)),Vi(e,w),t.length===1&&t[0]===w.type&&r&&(a.else(),(0,an.reportTypeError)(e)),a.endIf()):Vi(e,w),u||a.if((0,q._)`${W.default.errors} === ${n||0}`))}}function Vi(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,ul.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,_a.shouldUseRule)(n,i)&&ds(e,i.keyword,i.definition,t.type)})}function El(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Nl(e,t),e.opts.allowUnionTypes||Pl(e,t),Al(e,e.dataTypes))}function Nl(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{us(e.dataTypes,r)||$a(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Ol(e,t)}}function Pl(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&$a(e,"use allowUnionTypes to allow union type keyword")}function Al(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,_a.shouldUseRule)(e.schema,a)){const{type:i}=a.definition;i.length&&!i.some(o=>Cl(t,o))&&$a(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function Cl(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function us(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Ol(e,t){const r=[];for(const n of e.dataTypes)us(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function $a(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,$t.checkStrictMode)(e,t,e.opts.strictTypes)}class ls{constructor(t,r,n){if((0,vr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,$t.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",fs(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,vr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",W.default.errors))}result(t,r,n){this.failResult((0,q.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,q.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,q._)`${r} !== undefined && (${(0,q.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?hr.reportExtraError:hr.reportError)(this,this.def.error,r)}$dataError(){(0,hr.reportError)(this,this.def.$dataError||hr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,hr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=q.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=q.nil,r=q.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:i,def:o}=this;n.if((0,q.or)((0,q._)`${a} === undefined`,r)),t!==q.nil&&n.assign(t,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==q.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:i}=this;return(0,q.or)(o(),u());function o(){if(n.length){if(!(r instanceof q.Name))throw new Error("ajv implementation error");const f=Array.isArray(n)?n:[n];return(0,q._)`${(0,an.checkDataTypes)(f,r,i.opts.strictNumbers,an.DataType.Wrong)}`}return q.nil}function u(){if(a.validateSchema){const f=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,q._)`!${f}(${r})`}return q.nil}}subschema(t,r){const n=(0,Rn.getSubschema)(this.it,t);(0,Rn.extendSubschemaData)(n,this.it,t),(0,Rn.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return vl(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=$t.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=$t.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,q.Name)),!0}}st.KeywordCxt=ls;function ds(e,t,r,n){const a=new ls(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,vr.funcKeywordCode)(a,r):"macro"in r?(0,vr.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,vr.funcKeywordCode)(a,r)}const Il=/^\/(?:[^~]|~0|~1)*$/,Rl=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function fs(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,i;if(e==="")return W.default.rootData;if(e[0]==="/"){if(!Il.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,i=W.default.rootData}else{const c=Rl.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+c[1];if(a=c[2],a==="#"){if(d>=t)throw new Error(f("property/index",d));return n[t-d]}if(d>t)throw new Error(f("data",d));if(i=r[t-d],!a)return i}let o=i;const u=a.split("/");for(const c of u)c&&(i=(0,q._)`${i}${(0,q.getProperty)((0,$t.unescapeJsonPointer)(c))}`,o=(0,q._)`${o} && ${i}`);return o;function f(c,d){return`Cannot access ${c} ${d} levels up, current level is ${t}`}}st.getData=fs;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});class Tl extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Dr.default=Tl;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});const Tn=Le;class Dl extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Tn.resolveUrl)(t,r,n),this.missingSchema=(0,Tn.normalizeId)((0,Tn.getFullPath)(t,this.missingRef))}}sr.default=Dl;var He={};Object.defineProperty(He,"__esModule",{value:!0});He.resolveSchema=He.getCompilingSchema=He.resolveRef=He.compileSchema=He.SchemaEnv=void 0;const nt=ce,kl=Dr,Tt=gt,ot=Le,Mi=z,jl=st;class $n{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ot.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}He.SchemaEnv=$n;function Sa(e){const t=hs.call(this,e);if(t)return t;const r=(0,ot.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:i}=this.opts,o=new nt.CodeGen(this.scope,{es5:n,lines:a,ownProperties:i});let u;e.$async&&(u=o.scopeValue("Error",{ref:kl.default,code:(0,nt._)`require("ajv/dist/runtime/validation_error").default`}));const f=o.scopeName("validate");e.validateName=f;const c={gen:o,allErrors:this.opts.allErrors,data:Tt.default.data,parentData:Tt.default.parentData,parentDataProperty:Tt.default.parentDataProperty,dataNames:[Tt.default.data],dataPathArr:[nt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,nt.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:nt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,nt._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,jl.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);const v=o.toString();d=`${o.scopeRefs(Tt.default.scope)}return ${v}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const b=new Function(`${Tt.default.self}`,`${Tt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(f,{ref:b}),b.errors=null,b.schema=e.schema,b.schemaEnv=e,e.$async&&(b.$async=!0),this.opts.code.source===!0&&(b.source={validateName:f,validateCode:v,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:S}=c;b.evaluated={props:y instanceof nt.Name?void 0:y,items:S instanceof nt.Name?void 0:S,dynamicProps:y instanceof nt.Name,dynamicItems:S instanceof nt.Name},b.source&&(b.source.evaluated=(0,nt.stringify)(b.evaluated))}return e.validate=b,e}catch(v){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),v}finally{this._compilations.delete(e)}}He.compileSchema=Sa;function Vl(e,t,r){var n;r=(0,ot.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let i=zl.call(this,e,r);if(i===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;o&&(i=new $n({schema:o,schemaId:u,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=Ml.call(this,i)}He.resolveRef=Vl;function Ml(e){return(0,ot.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Sa.call(this,e)}function hs(e){for(const t of this._compilations)if(Fl(t,e))return t}He.getCompilingSchema=hs;function Fl(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function zl(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Sn.call(this,e,t)}function Sn(e,t){const r=this.opts.uriResolver.parse(t),n=(0,ot._getFullPath)(this.opts.uriResolver,r);let a=(0,ot.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return Dn.call(this,r,e);const i=(0,ot.normalizeId)(n),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){const u=Sn.call(this,e,o);return typeof(u==null?void 0:u.schema)!="object"?void 0:Dn.call(this,r,u)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Sa.call(this,o),i===(0,ot.normalizeId)(t)){const{schema:u}=o,{schemaId:f}=this.opts,c=u[f];return c&&(a=(0,ot.resolveUrl)(this.opts.uriResolver,a,c)),new $n({schema:u,schemaId:f,root:e,baseId:a})}return Dn.call(this,r,o)}}He.resolveSchema=Sn;const Ul=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Dn(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const f=r[(0,Mi.unescapeFragment)(u)];if(f===void 0)return;r=f;const c=typeof r=="object"&&r[this.opts.schemaId];!Ul.has(u)&&c&&(t=(0,ot.resolveUrl)(this.opts.uriResolver,t,c))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Mi.schemaHasRulesButRef)(r,this.RULES)){const u=(0,ot.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=Sn.call(this,n,u)}const{schemaId:o}=this.opts;if(i=i||new $n({schema:r,schemaId:o,root:n,baseId:t}),i.schema!==i.root.schema)return i}const Ll="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ql="Meta-schema for $data reference (JSON AnySchema extension proposal)",xl="object",Kl=["$data"],Gl={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Bl=!1,Jl={$id:Ll,description:ql,type:xl,required:Kl,properties:Gl,additionalProperties:Bl};var ba={},Yn={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Fs,function(r){function n(){for(var p=arguments.length,l=Array(p),g=0;g<p;g++)l[g]=arguments[g];if(l.length>1){l[0]=l[0].slice(0,-1);for(var A=l.length-1,P=1;P<A;++P)l[P]=l[P].slice(1,-1);return l[A]=l[A].slice(1),l.join("")}else return l[0]}function a(p){return"(?:"+p+")"}function i(p){return p===void 0?"undefined":p===null?"null":Object.prototype.toString.call(p).split(" ").pop().split("]").shift().toLowerCase()}function o(p){return p.toUpperCase()}function u(p){return p!=null?p instanceof Array?p:typeof p.length!="number"||p.split||p.setInterval||p.call?[p]:Array.prototype.slice.call(p):[]}function f(p,l){var g=p;if(l)for(var A in l)g[A]=l[A];return g}function c(p){var l="[A-Za-z]",g="[0-9]",A=n(g,"[A-Fa-f]"),P=a(a("%[EFef]"+A+"%"+A+A+"%"+A+A)+"|"+a("%[89A-Fa-f]"+A+"%"+A+A)+"|"+a("%"+A+A)),x="[\\:\\/\\?\\#\\[\\]\\@]",K="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",he=n(x,K),we=p?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Re=p?"[\\uE000-\\uF8FF]":"[]",de=n(l,g,"[\\-\\.\\_\\~]",we);a(l+n(l,g,"[\\+\\-\\.]")+"*"),a(a(P+"|"+n(de,K,"[\\:]"))+"*");var Se=a(a("25[0-5]")+"|"+a("2[0-4]"+g)+"|"+a("1"+g+g)+"|"+a("0?[1-9]"+g)+"|0?0?"+g),Te=a(Se+"\\."+Se+"\\."+Se+"\\."+Se),ee=a(A+"{1,4}"),Pe=a(a(ee+"\\:"+ee)+"|"+Te),ke=a(a(ee+"\\:")+"{6}"+Pe),Ae=a("\\:\\:"+a(ee+"\\:")+"{5}"+Pe),bt=a(a(ee)+"?\\:\\:"+a(ee+"\\:")+"{4}"+Pe),ut=a(a(a(ee+"\\:")+"{0,1}"+ee)+"?\\:\\:"+a(ee+"\\:")+"{3}"+Pe),lt=a(a(a(ee+"\\:")+"{0,2}"+ee)+"?\\:\\:"+a(ee+"\\:")+"{2}"+Pe),Ht=a(a(a(ee+"\\:")+"{0,3}"+ee)+"?\\:\\:"+ee+"\\:"+Pe),It=a(a(a(ee+"\\:")+"{0,4}"+ee)+"?\\:\\:"+Pe),tt=a(a(a(ee+"\\:")+"{0,5}"+ee)+"?\\:\\:"+ee),dt=a(a(a(ee+"\\:")+"{0,6}"+ee)+"?\\:\\:"),Rt=a([ke,Ae,bt,ut,lt,Ht,It,tt,dt].join("|")),yt=a(a(de+"|"+P)+"+");a("[vV]"+A+"+\\."+n(de,K,"[\\:]")+"+"),a(a(P+"|"+n(de,K))+"*");var dr=a(P+"|"+n(de,K,"[\\:\\@]"));return a(a(P+"|"+n(de,K,"[\\@]"))+"+"),a(a(dr+"|"+n("[\\/\\?]",Re))+"*"),{NOT_SCHEME:new RegExp(n("[^]",l,g,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",de,K),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",de,K),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",de,K),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",de,K),"g"),NOT_QUERY:new RegExp(n("[^\\%]",de,K,"[\\:\\@\\/\\?]",Re),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",de,K,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",de,K),"g"),UNRESERVED:new RegExp(de,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",de,he),"g"),PCT_ENCODED:new RegExp(P,"g"),IPV4ADDRESS:new RegExp("^("+Te+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Rt+")"+a(a("\\%25|\\%(?!"+A+"{2})")+"("+yt+")")+"?\\]?$")}}var d=c(!1),v=c(!0),w=function(){function p(l,g){var A=[],P=!0,x=!1,K=void 0;try{for(var he=l[Symbol.iterator](),we;!(P=(we=he.next()).done)&&(A.push(we.value),!(g&&A.length===g));P=!0);}catch(Re){x=!0,K=Re}finally{try{!P&&he.return&&he.return()}finally{if(x)throw K}}return A}return function(l,g){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l))return p(l,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(p){if(Array.isArray(p)){for(var l=0,g=Array(p.length);l<p.length;l++)g[l]=p[l];return g}else return Array.from(p)},y=2147483647,S=36,_=1,h=26,E=38,R=700,k=72,D=128,Z="-",ie=/^xn--/,te=/[^\0-\x7E]/,pe=/[\x2E\u3002\uFF0E\uFF61]/g,oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},le=S-_,ue=Math.floor,be=String.fromCharCode;function _e(p){throw new RangeError(oe[p])}function xe(p,l){for(var g=[],A=p.length;A--;)g[A]=l(p[A]);return g}function G(p,l){var g=p.split("@"),A="";g.length>1&&(A=g[0]+"@",p=g[1]),p=p.replace(pe,".");var P=p.split("."),x=xe(P,l).join(".");return A+x}function B(p){for(var l=[],g=0,A=p.length;g<A;){var P=p.charCodeAt(g++);if(P>=55296&&P<=56319&&g<A){var x=p.charCodeAt(g++);(x&64512)==56320?l.push(((P&1023)<<10)+(x&1023)+65536):(l.push(P),g--)}else l.push(P)}return l}var me=function(l){return String.fromCodePoint.apply(String,b(l))},ve=function(l){return l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:S},T=function(l,g){return l+22+75*(l<26)-((g!=0)<<5)},$=function(l,g,A){var P=0;for(l=A?ue(l/R):l>>1,l+=ue(l/g);l>le*h>>1;P+=S)l=ue(l/le);return ue(P+(le+1)*l/(l+E))},O=function(l){var g=[],A=l.length,P=0,x=D,K=k,he=l.lastIndexOf(Z);he<0&&(he=0);for(var we=0;we<he;++we)l.charCodeAt(we)>=128&&_e("not-basic"),g.push(l.charCodeAt(we));for(var Re=he>0?he+1:0;Re<A;){for(var de=P,Se=1,Te=S;;Te+=S){Re>=A&&_e("invalid-input");var ee=ve(l.charCodeAt(Re++));(ee>=S||ee>ue((y-P)/Se))&&_e("overflow"),P+=ee*Se;var Pe=Te<=K?_:Te>=K+h?h:Te-K;if(ee<Pe)break;var ke=S-Pe;Se>ue(y/ke)&&_e("overflow"),Se*=ke}var Ae=g.length+1;K=$(P-de,Ae,de==0),ue(P/Ae)>y-x&&_e("overflow"),x+=ue(P/Ae),P%=Ae,g.splice(P++,0,x)}return String.fromCodePoint.apply(String,g)},N=function(l){var g=[];l=B(l);var A=l.length,P=D,x=0,K=k,he=!0,we=!1,Re=void 0;try{for(var de=l[Symbol.iterator](),Se;!(he=(Se=de.next()).done);he=!0){var Te=Se.value;Te<128&&g.push(be(Te))}}catch(fr){we=!0,Re=fr}finally{try{!he&&de.return&&de.return()}finally{if(we)throw Re}}var ee=g.length,Pe=ee;for(ee&&g.push(Z);Pe<A;){var ke=y,Ae=!0,bt=!1,ut=void 0;try{for(var lt=l[Symbol.iterator](),Ht;!(Ae=(Ht=lt.next()).done);Ae=!0){var It=Ht.value;It>=P&&It<ke&&(ke=It)}}catch(fr){bt=!0,ut=fr}finally{try{!Ae&&lt.return&&lt.return()}finally{if(bt)throw ut}}var tt=Pe+1;ke-P>ue((y-x)/tt)&&_e("overflow"),x+=(ke-P)*tt,P=ke;var dt=!0,Rt=!1,yt=void 0;try{for(var dr=l[Symbol.iterator](),li;!(dt=(li=dr.next()).done);dt=!0){var di=li.value;if(di<P&&++x>y&&_e("overflow"),di==P){for(var jr=x,Vr=S;;Vr+=S){var Mr=Vr<=K?_:Vr>=K+h?h:Vr-K;if(jr<Mr)break;var fi=jr-Mr,hi=S-Mr;g.push(be(T(Mr+fi%hi,0))),jr=ue(fi/hi)}g.push(be(T(jr,0))),K=$(x,tt,Pe==ee),x=0,++Pe}}}catch(fr){Rt=!0,yt=fr}finally{try{!dt&&dr.return&&dr.return()}finally{if(Rt)throw yt}}++x,++P}return g.join("")},s=function(l){return G(l,function(g){return ie.test(g)?O(g.slice(4).toLowerCase()):g})},m=function(l){return G(l,function(g){return te.test(g)?"xn--"+N(g):g})},C={version:"2.1.0",ucs2:{decode:B,encode:me},decode:O,encode:N,toASCII:m,toUnicode:s},j={};function V(p){var l=p.charCodeAt(0),g=void 0;return l<16?g="%0"+l.toString(16).toUpperCase():l<128?g="%"+l.toString(16).toUpperCase():l<2048?g="%"+(l>>6|192).toString(16).toUpperCase()+"%"+(l&63|128).toString(16).toUpperCase():g="%"+(l>>12|224).toString(16).toUpperCase()+"%"+(l>>6&63|128).toString(16).toUpperCase()+"%"+(l&63|128).toString(16).toUpperCase(),g}function Y(p){for(var l="",g=0,A=p.length;g<A;){var P=parseInt(p.substr(g+1,2),16);if(P<128)l+=String.fromCharCode(P),g+=3;else if(P>=194&&P<224){if(A-g>=6){var x=parseInt(p.substr(g+4,2),16);l+=String.fromCharCode((P&31)<<6|x&63)}else l+=p.substr(g,6);g+=6}else if(P>=224){if(A-g>=9){var K=parseInt(p.substr(g+4,2),16),he=parseInt(p.substr(g+7,2),16);l+=String.fromCharCode((P&15)<<12|(K&63)<<6|he&63)}else l+=p.substr(g,9);g+=9}else l+=p.substr(g,3),g+=3}return l}function re(p,l){function g(A){var P=Y(A);return P.match(l.UNRESERVED)?P:A}return p.scheme&&(p.scheme=String(p.scheme).replace(l.PCT_ENCODED,g).toLowerCase().replace(l.NOT_SCHEME,"")),p.userinfo!==void 0&&(p.userinfo=String(p.userinfo).replace(l.PCT_ENCODED,g).replace(l.NOT_USERINFO,V).replace(l.PCT_ENCODED,o)),p.host!==void 0&&(p.host=String(p.host).replace(l.PCT_ENCODED,g).toLowerCase().replace(l.NOT_HOST,V).replace(l.PCT_ENCODED,o)),p.path!==void 0&&(p.path=String(p.path).replace(l.PCT_ENCODED,g).replace(p.scheme?l.NOT_PATH:l.NOT_PATH_NOSCHEME,V).replace(l.PCT_ENCODED,o)),p.query!==void 0&&(p.query=String(p.query).replace(l.PCT_ENCODED,g).replace(l.NOT_QUERY,V).replace(l.PCT_ENCODED,o)),p.fragment!==void 0&&(p.fragment=String(p.fragment).replace(l.PCT_ENCODED,g).replace(l.NOT_FRAGMENT,V).replace(l.PCT_ENCODED,o)),p}function $e(p){return p.replace(/^0*(.*)/,"$1")||"0"}function Ve(p,l){var g=p.match(l.IPV4ADDRESS)||[],A=w(g,2),P=A[1];return P?P.split(".").map($e).join("."):p}function Qe(p,l){var g=p.match(l.IPV6ADDRESS)||[],A=w(g,3),P=A[1],x=A[2];if(P){for(var K=P.toLowerCase().split("::").reverse(),he=w(K,2),we=he[0],Re=he[1],de=Re?Re.split(":").map($e):[],Se=we.split(":").map($e),Te=l.IPV4ADDRESS.test(Se[Se.length-1]),ee=Te?7:8,Pe=Se.length-ee,ke=Array(ee),Ae=0;Ae<ee;++Ae)ke[Ae]=de[Ae]||Se[Pe+Ae]||"";Te&&(ke[ee-1]=Ve(ke[ee-1],l));var bt=ke.reduce(function(tt,dt,Rt){if(!dt||dt==="0"){var yt=tt[tt.length-1];yt&&yt.index+yt.length===Rt?yt.length++:tt.push({index:Rt,length:1})}return tt},[]),ut=bt.sort(function(tt,dt){return dt.length-tt.length})[0],lt=void 0;if(ut&&ut.length>1){var Ht=ke.slice(0,ut.index),It=ke.slice(ut.index+ut.length);lt=Ht.join(":")+"::"+It.join(":")}else lt=ke.join(":");return x&&(lt+="%"+x),lt}else return p}var et=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,We="".match(/(){0}/)[1]===void 0;function ze(p){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g={},A=l.iri!==!1?v:d;l.reference==="suffix"&&(p=(l.scheme?l.scheme+":":"")+"//"+p);var P=p.match(et);if(P){We?(g.scheme=P[1],g.userinfo=P[3],g.host=P[4],g.port=parseInt(P[5],10),g.path=P[6]||"",g.query=P[7],g.fragment=P[8],isNaN(g.port)&&(g.port=P[5])):(g.scheme=P[1]||void 0,g.userinfo=p.indexOf("@")!==-1?P[3]:void 0,g.host=p.indexOf("//")!==-1?P[4]:void 0,g.port=parseInt(P[5],10),g.path=P[6]||"",g.query=p.indexOf("?")!==-1?P[7]:void 0,g.fragment=p.indexOf("#")!==-1?P[8]:void 0,isNaN(g.port)&&(g.port=p.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?P[4]:void 0)),g.host&&(g.host=Qe(Ve(g.host,A),A)),g.scheme===void 0&&g.userinfo===void 0&&g.host===void 0&&g.port===void 0&&!g.path&&g.query===void 0?g.reference="same-document":g.scheme===void 0?g.reference="relative":g.fragment===void 0?g.reference="absolute":g.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==g.reference&&(g.error=g.error||"URI is not a "+l.reference+" reference.");var x=j[(l.scheme||g.scheme||"").toLowerCase()];if(!l.unicodeSupport&&(!x||!x.unicodeSupport)){if(g.host&&(l.domainHost||x&&x.domainHost))try{g.host=C.toASCII(g.host.replace(A.PCT_ENCODED,Y).toLowerCase())}catch(K){g.error=g.error||"Host's domain name can not be converted to ASCII via punycode: "+K}re(g,d)}else re(g,A);x&&x.parse&&x.parse(g,l)}else g.error=g.error||"URI can not be parsed.";return g}function F(p,l){var g=l.iri!==!1?v:d,A=[];return p.userinfo!==void 0&&(A.push(p.userinfo),A.push("@")),p.host!==void 0&&A.push(Qe(Ve(String(p.host),g),g).replace(g.IPV6ADDRESS,function(P,x,K){return"["+x+(K?"%25"+K:"")+"]"})),(typeof p.port=="number"||typeof p.port=="string")&&(A.push(":"),A.push(String(p.port))),A.length?A.join(""):void 0}var U=/^\.\.?\//,H=/^\/\.(\/|$)/,fe=/^\/\.\.(\/|$)/,Ce=/^\/?(?:.|\n)*?(?=\/|$)/;function ae(p){for(var l=[];p.length;)if(p.match(U))p=p.replace(U,"");else if(p.match(H))p=p.replace(H,"/");else if(p.match(fe))p=p.replace(fe,"/"),l.pop();else if(p==="."||p==="..")p="";else{var g=p.match(Ce);if(g){var A=g[0];p=p.slice(A.length),l.push(A)}else throw new Error("Unexpected dot segment condition")}return l.join("")}function Q(p){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=l.iri?v:d,A=[],P=j[(l.scheme||p.scheme||"").toLowerCase()];if(P&&P.serialize&&P.serialize(p,l),p.host&&!g.IPV6ADDRESS.test(p.host)){if(l.domainHost||P&&P.domainHost)try{p.host=l.iri?C.toUnicode(p.host):C.toASCII(p.host.replace(g.PCT_ENCODED,Y).toLowerCase())}catch(he){p.error=p.error||"Host's domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+he}}re(p,g),l.reference!=="suffix"&&p.scheme&&(A.push(p.scheme),A.push(":"));var x=F(p,l);if(x!==void 0&&(l.reference!=="suffix"&&A.push("//"),A.push(x),p.path&&p.path.charAt(0)!=="/"&&A.push("/")),p.path!==void 0){var K=p.path;!l.absolutePath&&(!P||!P.absolutePath)&&(K=ae(K)),x===void 0&&(K=K.replace(/^\/\//,"/%2F")),A.push(K)}return p.query!==void 0&&(A.push("?"),A.push(p.query)),p.fragment!==void 0&&(A.push("#"),A.push(p.fragment)),A.join("")}function M(p,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=arguments[3],P={};return A||(p=ze(Q(p,g),g),l=ze(Q(l,g),g)),g=g||{},!g.tolerant&&l.scheme?(P.scheme=l.scheme,P.userinfo=l.userinfo,P.host=l.host,P.port=l.port,P.path=ae(l.path||""),P.query=l.query):(l.userinfo!==void 0||l.host!==void 0||l.port!==void 0?(P.userinfo=l.userinfo,P.host=l.host,P.port=l.port,P.path=ae(l.path||""),P.query=l.query):(l.path?(l.path.charAt(0)==="/"?P.path=ae(l.path):((p.userinfo!==void 0||p.host!==void 0||p.port!==void 0)&&!p.path?P.path="/"+l.path:p.path?P.path=p.path.slice(0,p.path.lastIndexOf("/")+1)+l.path:P.path=l.path,P.path=ae(P.path)),P.query=l.query):(P.path=p.path,l.query!==void 0?P.query=l.query:P.query=p.query),P.userinfo=p.userinfo,P.host=p.host,P.port=p.port),P.scheme=p.scheme),P.fragment=l.fragment,P}function J(p,l,g){var A=f({scheme:"null"},g);return Q(M(ze(p,A),ze(l,A),A,!0),A)}function ge(p,l){return typeof p=="string"?p=Q(ze(p,l),l):i(p)==="object"&&(p=ze(Q(p,l),l)),p}function Me(p,l,g){return typeof p=="string"?p=Q(ze(p,g),g):i(p)==="object"&&(p=Q(p,g)),typeof l=="string"?l=Q(ze(l,g),g):i(l)==="object"&&(l=Q(l,g)),p===l}function Be(p,l){return p&&p.toString().replace(!l||!l.iri?d.ESCAPE:v.ESCAPE,V)}function Ie(p,l){return p&&p.toString().replace(!l||!l.iri?d.PCT_ENCODED:v.PCT_ENCODED,Y)}var Fe={scheme:"http",domainHost:!0,parse:function(l,g){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l},serialize:function(l,g){var A=String(l.scheme).toLowerCase()==="https";return(l.port===(A?443:80)||l.port==="")&&(l.port=void 0),l.path||(l.path="/"),l}},St={scheme:"https",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize};function ni(p){return typeof p.secure=="boolean"?p.secure:String(p.scheme).toLowerCase()==="wss"}var lr={scheme:"ws",domainHost:!0,parse:function(l,g){var A=l;return A.secure=ni(A),A.resourceName=(A.path||"/")+(A.query?"?"+A.query:""),A.path=void 0,A.query=void 0,A},serialize:function(l,g){if((l.port===(ni(l)?443:80)||l.port==="")&&(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){var A=l.resourceName.split("?"),P=w(A,2),x=P[0],K=P[1];l.path=x&&x!=="/"?x:void 0,l.query=K,l.resourceName=void 0}return l.fragment=void 0,l}},ai={scheme:"wss",domainHost:lr.domainHost,parse:lr.parse,serialize:lr.serialize},As={},ii="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ct="[0-9A-Fa-f]",Cs=a(a("%[EFef]"+ct+"%"+ct+ct+"%"+ct+ct)+"|"+a("%[89A-Fa-f]"+ct+"%"+ct+ct)+"|"+a("%"+ct+ct)),Os="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Is="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Rs=n(Is,'[\\"\\\\]'),Ts="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ds=new RegExp(ii,"g"),Jt=new RegExp(Cs,"g"),ks=new RegExp(n("[^]",Os,"[\\.]",'[\\"]',Rs),"g"),oi=new RegExp(n("[^]",ii,Ts),"g"),js=oi;function En(p){var l=Y(p);return l.match(Ds)?l:p}var si={scheme:"mailto",parse:function(l,g){var A=l,P=A.to=A.path?A.path.split(","):[];if(A.path=void 0,A.query){for(var x=!1,K={},he=A.query.split("&"),we=0,Re=he.length;we<Re;++we){var de=he[we].split("=");switch(de[0]){case"to":for(var Se=de[1].split(","),Te=0,ee=Se.length;Te<ee;++Te)P.push(Se[Te]);break;case"subject":A.subject=Ie(de[1],g);break;case"body":A.body=Ie(de[1],g);break;default:x=!0,K[Ie(de[0],g)]=Ie(de[1],g);break}}x&&(A.headers=K)}A.query=void 0;for(var Pe=0,ke=P.length;Pe<ke;++Pe){var Ae=P[Pe].split("@");if(Ae[0]=Ie(Ae[0]),g.unicodeSupport)Ae[1]=Ie(Ae[1],g).toLowerCase();else try{Ae[1]=C.toASCII(Ie(Ae[1],g).toLowerCase())}catch(bt){A.error=A.error||"Email address's domain name can not be converted to ASCII via punycode: "+bt}P[Pe]=Ae.join("@")}return A},serialize:function(l,g){var A=l,P=u(l.to);if(P){for(var x=0,K=P.length;x<K;++x){var he=String(P[x]),we=he.lastIndexOf("@"),Re=he.slice(0,we).replace(Jt,En).replace(Jt,o).replace(ks,V),de=he.slice(we+1);try{de=g.iri?C.toUnicode(de):C.toASCII(Ie(de,g).toLowerCase())}catch(Pe){A.error=A.error||"Email address's domain name can not be converted to "+(g.iri?"Unicode":"ASCII")+" via punycode: "+Pe}P[x]=Re+"@"+de}A.path=P.join(",")}var Se=l.headers=l.headers||{};l.subject&&(Se.subject=l.subject),l.body&&(Se.body=l.body);var Te=[];for(var ee in Se)Se[ee]!==As[ee]&&Te.push(ee.replace(Jt,En).replace(Jt,o).replace(oi,V)+"="+Se[ee].replace(Jt,En).replace(Jt,o).replace(js,V));return Te.length&&(A.query=Te.join("&")),A}},Vs=/^([^\:]+)\:(.*)/,ci={scheme:"urn",parse:function(l,g){var A=l.path&&l.path.match(Vs),P=l;if(A){var x=g.scheme||P.scheme||"urn",K=A[1].toLowerCase(),he=A[2],we=x+":"+(g.nid||K),Re=j[we];P.nid=K,P.nss=he,P.path=void 0,Re&&(P=Re.parse(P,g))}else P.error=P.error||"URN can not be parsed.";return P},serialize:function(l,g){var A=g.scheme||l.scheme||"urn",P=l.nid,x=A+":"+(g.nid||P),K=j[x];K&&(l=K.serialize(l,g));var he=l,we=l.nss;return he.path=(P||g.nid)+":"+we,he}},Ms=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ui={scheme:"urn:uuid",parse:function(l,g){var A=l;return A.uuid=A.nss,A.nss=void 0,!g.tolerant&&(!A.uuid||!A.uuid.match(Ms))&&(A.error=A.error||"UUID is not valid."),A},serialize:function(l,g){var A=l;return A.nss=(l.uuid||"").toLowerCase(),A}};j[Fe.scheme]=Fe,j[St.scheme]=St,j[lr.scheme]=lr,j[ai.scheme]=ai,j[si.scheme]=si,j[ci.scheme]=ci,j[ui.scheme]=ui,r.SCHEMES=j,r.pctEncChar=V,r.pctDecChars=Y,r.parse=ze,r.removeDotSegments=ae,r.serialize=Q,r.resolveComponents=M,r.resolve=J,r.normalize=ge,r.equal=Me,r.escapeComponent=Be,r.unescapeComponent=Ie,Object.defineProperty(r,"__esModule",{value:!0})})})(Yn,Yn.exports);var Hl=Yn.exports;Object.defineProperty(ba,"__esModule",{value:!0});const ms=Hl;ms.code='require("ajv/dist/runtime/uri").default';ba.default=ms;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=st;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ce;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Dr,a=sr,i=Kt,o=He,u=ce,f=Le,c=je,d=z,v=Jl,w=ba,b=(T,$)=>new RegExp(T,$);b.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function R(T){var $,O,N,s,m,C,j,V,Y,re,$e,Ve,Qe,et,We,ze,F,U,H,fe,Ce,ae,Q,M,J;const ge=T.strict,Me=($=T.code)===null||$===void 0?void 0:$.optimize,Be=Me===!0||Me===void 0?1:Me||0,Ie=(N=(O=T.code)===null||O===void 0?void 0:O.regExp)!==null&&N!==void 0?N:b,Fe=(s=T.uriResolver)!==null&&s!==void 0?s:w.default;return{strictSchema:(C=(m=T.strictSchema)!==null&&m!==void 0?m:ge)!==null&&C!==void 0?C:!0,strictNumbers:(V=(j=T.strictNumbers)!==null&&j!==void 0?j:ge)!==null&&V!==void 0?V:!0,strictTypes:(re=(Y=T.strictTypes)!==null&&Y!==void 0?Y:ge)!==null&&re!==void 0?re:"log",strictTuples:(Ve=($e=T.strictTuples)!==null&&$e!==void 0?$e:ge)!==null&&Ve!==void 0?Ve:"log",strictRequired:(et=(Qe=T.strictRequired)!==null&&Qe!==void 0?Qe:ge)!==null&&et!==void 0?et:!1,code:T.code?{...T.code,optimize:Be,regExp:Ie}:{optimize:Be,regExp:Ie},loopRequired:(We=T.loopRequired)!==null&&We!==void 0?We:E,loopEnum:(ze=T.loopEnum)!==null&&ze!==void 0?ze:E,meta:(F=T.meta)!==null&&F!==void 0?F:!0,messages:(U=T.messages)!==null&&U!==void 0?U:!0,inlineRefs:(H=T.inlineRefs)!==null&&H!==void 0?H:!0,schemaId:(fe=T.schemaId)!==null&&fe!==void 0?fe:"$id",addUsedSchema:(Ce=T.addUsedSchema)!==null&&Ce!==void 0?Ce:!0,validateSchema:(ae=T.validateSchema)!==null&&ae!==void 0?ae:!0,validateFormats:(Q=T.validateFormats)!==null&&Q!==void 0?Q:!0,unicodeRegExp:(M=T.unicodeRegExp)!==null&&M!==void 0?M:!0,int32range:(J=T.int32range)!==null&&J!==void 0?J:!0,uriResolver:Fe}}class k{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts={...$,...R($)};const{es5:O,lines:N}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:S,es5:O,lines:N}),this.logger=ue($.logger);const s=$.validateFormats;$.validateFormats=!1,this.RULES=(0,i.getRules)(),D.call(this,_,$,"NOT SUPPORTED"),D.call(this,h,$,"DEPRECATED","warn"),this._metaOpts=oe.call(this),$.formats&&te.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&pe.call(this,$.keywords),typeof $.meta=="object"&&this.addMetaSchema($.meta),ie.call(this),$.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:O,schemaId:N}=this.opts;let s=v;N==="id"&&(s={...v},s.id=s.$id,delete s.$id),O&&$&&this.addMetaSchema(s,s[N],!1)}defaultMeta(){const{meta:$,schemaId:O}=this.opts;return this.opts.defaultMeta=typeof $=="object"?$[O]||$:void 0}validate($,O){let N;if(typeof $=="string"){if(N=this.getSchema($),!N)throw new Error(`no schema with key or ref "${$}"`)}else N=this.compile($);const s=N(O);return"$async"in N||(this.errors=N.errors),s}compile($,O){const N=this._addSchema($,O);return N.validate||this._compileSchemaEnv(N)}compileAsync($,O){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return s.call(this,$,O);async function s(re,$e){await m.call(this,re.$schema);const Ve=this._addSchema(re,$e);return Ve.validate||C.call(this,Ve)}async function m(re){re&&!this.getSchema(re)&&await s.call(this,{$ref:re},!0)}async function C(re){try{return this._compileSchemaEnv(re)}catch($e){if(!($e instanceof a.default))throw $e;return j.call(this,$e),await V.call(this,$e.missingSchema),C.call(this,re)}}function j({missingSchema:re,missingRef:$e}){if(this.refs[re])throw new Error(`AnySchema ${re} is loaded but ${$e} cannot be resolved`)}async function V(re){const $e=await Y.call(this,re);this.refs[re]||await m.call(this,$e.$schema),this.refs[re]||this.addSchema($e,re,O)}async function Y(re){const $e=this._loading[re];if($e)return $e;try{return await(this._loading[re]=N(re))}finally{delete this._loading[re]}}}addSchema($,O,N,s=this.opts.validateSchema){if(Array.isArray($)){for(const C of $)this.addSchema(C,void 0,N,s);return this}let m;if(typeof $=="object"){const{schemaId:C}=this.opts;if(m=$[C],m!==void 0&&typeof m!="string")throw new Error(`schema ${C} must be string`)}return O=(0,f.normalizeId)(O||m),this._checkUnique(O),this.schemas[O]=this._addSchema($,N,O,s,!0),this}addMetaSchema($,O,N=this.opts.validateSchema){return this.addSchema($,O,!0,N),this}validateSchema($,O){if(typeof $=="boolean")return!0;let N;if(N=$.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(N,$);if(!s&&O){const m="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(m);else throw new Error(m)}return s}getSchema($){let O;for(;typeof(O=Z.call(this,$))=="string";)$=O;if(O===void 0){const{schemaId:N}=this.opts,s=new o.SchemaEnv({schema:{},schemaId:N});if(O=o.resolveSchema.call(this,s,$),!O)return;this.refs[$]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=Z.call(this,$);return typeof O=="object"&&this._cache.delete(O.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{const O=$;this._cache.delete(O);let N=$[this.opts.schemaId];return N&&(N=(0,f.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const O of $)this.addKeyword(O);return this}addKeyword($,O){let N;if(typeof $=="string")N=$,typeof O=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=N);else if(typeof $=="object"&&O===void 0){if(O=$,N=O.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(_e.call(this,N,O),!O)return(0,d.eachItem)(N,m=>xe.call(this,m)),this;B.call(this,O);const s={...O,type:(0,c.getJSONTypes)(O.type),schemaType:(0,c.getJSONTypes)(O.schemaType)};return(0,d.eachItem)(N,s.type.length===0?m=>xe.call(this,m,s):m=>s.type.forEach(C=>xe.call(this,m,s,C))),this}getKeyword($){const O=this.RULES.all[$];return typeof O=="object"?O.definition:!!O}removeKeyword($){const{RULES:O}=this;delete O.keywords[$],delete O.all[$];for(const N of O.rules){const s=N.rules.findIndex(m=>m.keyword===$);s>=0&&N.rules.splice(s,1)}return this}addFormat($,O){return typeof O=="string"&&(O=new RegExp(O)),this.formats[$]=O,this}errorsText($=this.errors,{separator:O=", ",dataVar:N="data"}={}){return!$||$.length===0?"No errors":$.map(s=>`${N}${s.instancePath} ${s.message}`).reduce((s,m)=>s+O+m)}$dataMetaSchema($,O){const N=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const s of O){const m=s.split("/").slice(1);let C=$;for(const j of m)C=C[j];for(const j in N){const V=N[j];if(typeof V!="object")continue;const{$data:Y}=V.definition,re=C[j];Y&&re&&(C[j]=ve(re))}}return $}_removeAllSchemas($,O){for(const N in $){const s=$[N];(!O||O.test(N))&&(typeof s=="string"?delete $[N]:s&&!s.meta&&(this._cache.delete(s.schema),delete $[N]))}}_addSchema($,O,N,s=this.opts.validateSchema,m=this.opts.addUsedSchema){let C;const{schemaId:j}=this.opts;if(typeof $=="object")C=$[j];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof $!="boolean")throw new Error("schema must be object or boolean")}let V=this._cache.get($);if(V!==void 0)return V;N=(0,f.normalizeId)(C||N);const Y=f.getSchemaRefs.call(this,$,N);return V=new o.SchemaEnv({schema:$,schemaId:j,meta:O,baseId:N,localRefs:Y}),this._cache.set(V.schema,V),m&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=V),s&&this.validateSchema($,!0),V}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):o.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const O=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,$)}finally{this.opts=O}}}k.ValidationError=n.default,k.MissingRefError=a.default,e.default=k;function D(T,$,O,N="error"){for(const s in T){const m=s;m in $&&this.logger[N](`${O}: option ${s}. ${T[m]}`)}}function Z(T){return T=(0,f.normalizeId)(T),this.schemas[T]||this.refs[T]}function ie(){const T=this.opts.schemas;if(T)if(Array.isArray(T))this.addSchema(T);else for(const $ in T)this.addSchema(T[$],$)}function te(){for(const T in this.opts.formats){const $=this.opts.formats[T];$&&this.addFormat(T,$)}}function pe(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in T){const O=T[$];O.keyword||(O.keyword=$),this.addKeyword(O)}}function oe(){const T={...this.opts};for(const $ of y)delete T[$];return T}const le={log(){},warn(){},error(){}};function ue(T){if(T===!1)return le;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}const be=/^[a-z_$][a-z0-9_$:-]*$/i;function _e(T,$){const{RULES:O}=this;if((0,d.eachItem)(T,N=>{if(O.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!be.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!$&&$.$data&&!("code"in $||"validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function xe(T,$,O){var N;const s=$==null?void 0:$.post;if(O&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:m}=this;let C=s?m.post:m.rules.find(({type:V})=>V===O);if(C||(C={type:O,rules:[]},m.rules.push(C)),m.keywords[T]=!0,!$)return;const j={keyword:T,definition:{...$,type:(0,c.getJSONTypes)($.type),schemaType:(0,c.getJSONTypes)($.schemaType)}};$.before?G.call(this,C,j,$.before):C.rules.push(j),m.all[T]=j,(N=$.implements)===null||N===void 0||N.forEach(V=>this.addKeyword(V))}function G(T,$,O){const N=T.rules.findIndex(s=>s.keyword===O);N>=0?T.rules.splice(N,0,$):(T.rules.push($),this.logger.warn(`rule ${O} is not defined`))}function B(T){let{metaSchema:$}=T;$!==void 0&&(T.$data&&this.opts.$data&&($=ve($)),T.validateSchema=this.compile($,!0))}const me={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ve(T){return{anyOf:[T,me]}}})(Vo);var wa={},Ea={},Na={};Object.defineProperty(Na,"__esModule",{value:!0});const Wl={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Na.default=Wl;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.callRef=Gt.getValidate=void 0;const Xl=sr,Fi=se,Je=ce,Xt=gt,zi=He,Ur=z,Zl={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:i,validateName:o,opts:u,self:f}=n,{root:c}=i;if((r==="#"||r==="#/")&&a===c.baseId)return v();const d=zi.resolveRef.call(f,c,a,r);if(d===void 0)throw new Xl.default(n.opts.uriResolver,a,r);if(d instanceof zi.SchemaEnv)return w(d);return b(d);function v(){if(i===c)return Wr(e,o,i,i.$async);const y=t.scopeValue("root",{ref:c});return Wr(e,(0,Je._)`${y}.validate`,c,c.$async)}function w(y){const S=ps(e,y);Wr(e,S,y,y.$async)}function b(y){const S=t.scopeValue("schema",u.code.source===!0?{ref:y,code:(0,Je.stringify)(y)}:{ref:y}),_=t.name("valid"),h=e.subschema({schema:y,dataTypes:[],schemaPath:Je.nil,topSchemaRef:S,errSchemaPath:r},_);e.mergeEvaluated(h),e.ok(_)}}};function ps(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Je._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Gt.getValidate=ps;function Wr(e,t,r,n){const{gen:a,it:i}=e,{allErrors:o,schemaEnv:u,opts:f}=i,c=f.passContext?Xt.default.this:Je.nil;n?d():v();function d(){if(!u.$async)throw new Error("async schema referenced by sync schema");const y=a.let("valid");a.try(()=>{a.code((0,Je._)`await ${(0,Fi.callValidateCode)(e,t,c)}`),b(t),o||a.assign(y,!0)},S=>{a.if((0,Je._)`!(${S} instanceof ${i.ValidationError})`,()=>a.throw(S)),w(S),o||a.assign(y,!1)}),e.ok(y)}function v(){e.result((0,Fi.callValidateCode)(e,t,c),()=>b(t),()=>w(t))}function w(y){const S=(0,Je._)`${y}.errors`;a.assign(Xt.default.vErrors,(0,Je._)`${Xt.default.vErrors} === null ? ${S} : ${Xt.default.vErrors}.concat(${S})`),a.assign(Xt.default.errors,(0,Je._)`${Xt.default.vErrors}.length`)}function b(y){var S;if(!i.opts.unevaluated)return;const _=(S=r==null?void 0:r.validate)===null||S===void 0?void 0:S.evaluated;if(i.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(i.props=Ur.mergeEvaluated.props(a,_.props,i.props));else{const h=a.var("props",(0,Je._)`${y}.evaluated.props`);i.props=Ur.mergeEvaluated.props(a,h,i.props,Je.Name)}if(i.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(i.items=Ur.mergeEvaluated.items(a,_.items,i.items));else{const h=a.var("items",(0,Je._)`${y}.evaluated.items`);i.items=Ur.mergeEvaluated.items(a,h,i.items,Je.Name)}}}Gt.callRef=Wr;Gt.default=Zl;Object.defineProperty(Ea,"__esModule",{value:!0});const Yl=Na,Ql=Gt,ed=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Yl.default,Ql.default];Ea.default=ed;var Pa={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});const on=ce,Et=on.operators,sn={maximum:{okStr:"<=",ok:Et.LTE,fail:Et.GT},minimum:{okStr:">=",ok:Et.GTE,fail:Et.LT},exclusiveMaximum:{okStr:"<",ok:Et.LT,fail:Et.GTE},exclusiveMinimum:{okStr:">",ok:Et.GT,fail:Et.LTE}},td={message:({keyword:e,schemaCode:t})=>(0,on.str)`must be ${sn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,on._)`{comparison: ${sn[e].okStr}, limit: ${t}}`},rd={keyword:Object.keys(sn),type:"number",schemaType:"number",$data:!0,error:td,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,on._)`${r} ${sn[t].fail} ${n} || isNaN(${r})`)}};Aa.default=rd;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});const gr=ce,nd={message:({schemaCode:e})=>(0,gr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,gr._)`{multipleOf: ${e}}`},ad={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:nd,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,i=a.opts.multipleOfPrecision,o=t.let("res"),u=i?(0,gr._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,gr._)`${o} !== parseInt(${o})`;e.fail$data((0,gr._)`(${n} === 0 || (${o} = ${r}/${n}, ${u}))`)}};Ca.default=ad;var Oa={},Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});function vs(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}Ia.default=vs;vs.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Oa,"__esModule",{value:!0});const Mt=ce,id=z,od=Ia,sd={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Mt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Mt._)`{limit: ${e}}`},cd={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:sd,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,i=t==="maxLength"?Mt.operators.GT:Mt.operators.LT,o=a.opts.unicode===!1?(0,Mt._)`${r}.length`:(0,Mt._)`${(0,id.useFunc)(e.gen,od.default)}(${r})`;e.fail$data((0,Mt._)`${o} ${i} ${n}`)}};Oa.default=cd;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});const ud=se,cn=ce,ld={message:({schemaCode:e})=>(0,cn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,cn._)`{pattern: ${e}}`},dd={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:ld,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:i}=e,o=i.opts.unicodeRegExp?"u":"",u=r?(0,cn._)`(new RegExp(${a}, ${o}))`:(0,ud.usePattern)(e,n);e.fail$data((0,cn._)`!${u}.test(${t})`)}};Ra.default=dd;var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});const yr=ce,fd={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,yr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,yr._)`{limit: ${e}}`},hd={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:fd,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?yr.operators.GT:yr.operators.LT;e.fail$data((0,yr._)`Object.keys(${r}).length ${a} ${n}`)}};Ta.default=hd;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});const mr=se,_r=ce,md=z,pd={message:({params:{missingProperty:e}})=>(0,_r.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,_r._)`{missingProperty: ${e}}`},vd={keyword:"required",type:"object",schemaType:"array",$data:!0,error:pd,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:i,it:o}=e,{opts:u}=o;if(!i&&r.length===0)return;const f=r.length>=u.loopRequired;if(o.allErrors?c():d(),u.strictRequired){const b=e.parentSchema.properties,{definedProperties:y}=e.it;for(const S of r)if((b==null?void 0:b[S])===void 0&&!y.has(S)){const _=o.schemaEnv.baseId+o.errSchemaPath,h=`required property "${S}" is not defined at "${_}" (strictRequired)`;(0,md.checkStrictMode)(o,h,o.opts.strictRequired)}}function c(){if(f||i)e.block$data(_r.nil,v);else for(const b of r)(0,mr.checkReportMissingProp)(e,b)}function d(){const b=t.let("missing");if(f||i){const y=t.let("valid",!0);e.block$data(y,()=>w(b,y)),e.ok(y)}else t.if((0,mr.checkMissingProp)(e,r,b)),(0,mr.reportMissingProp)(e,b),t.else()}function v(){t.forOf("prop",n,b=>{e.setParams({missingProperty:b}),t.if((0,mr.noPropertyInData)(t,a,b,u.ownProperties),()=>e.error())})}function w(b,y){e.setParams({missingProperty:b}),t.forOf(b,n,()=>{t.assign(y,(0,mr.propertyInData)(t,a,b,u.ownProperties)),t.if((0,_r.not)(y),()=>{e.error(),t.break()})},_r.nil)}}};Da.default=vd;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});const $r=ce,gd={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,$r.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,$r._)`{limit: ${e}}`},yd={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:gd,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?$r.operators.GT:$r.operators.LT;e.fail$data((0,$r._)`${r}.length ${a} ${n}`)}};ka.default=yd;var ja={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});const gs=ho;gs.code='require("ajv/dist/runtime/equal").default';kr.default=gs;Object.defineProperty(ja,"__esModule",{value:!0});const kn=je,Ue=ce,_d=z,$d=kr,Sd={message:({params:{i:e,j:t}})=>(0,Ue.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ue._)`{i: ${e}, j: ${t}}`},bd={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Sd,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:i,schemaCode:o,it:u}=e;if(!n&&!a)return;const f=t.let("valid"),c=i.items?(0,kn.getSchemaTypes)(i.items):[];e.block$data(f,d,(0,Ue._)`${o} === false`),e.ok(f);function d(){const y=t.let("i",(0,Ue._)`${r}.length`),S=t.let("j");e.setParams({i:y,j:S}),t.assign(f,!0),t.if((0,Ue._)`${y} > 1`,()=>(v()?w:b)(y,S))}function v(){return c.length>0&&!c.some(y=>y==="object"||y==="array")}function w(y,S){const _=t.name("item"),h=(0,kn.checkDataTypes)(c,_,u.opts.strictNumbers,kn.DataType.Wrong),E=t.const("indices",(0,Ue._)`{}`);t.for((0,Ue._)`;${y}--;`,()=>{t.let(_,(0,Ue._)`${r}[${y}]`),t.if(h,(0,Ue._)`continue`),c.length>1&&t.if((0,Ue._)`typeof ${_} == "string"`,(0,Ue._)`${_} += "_"`),t.if((0,Ue._)`typeof ${E}[${_}] == "number"`,()=>{t.assign(S,(0,Ue._)`${E}[${_}]`),e.error(),t.assign(f,!1).break()}).code((0,Ue._)`${E}[${_}] = ${y}`)})}function b(y,S){const _=(0,_d.useFunc)(t,$d.default),h=t.name("outer");t.label(h).for((0,Ue._)`;${y}--;`,()=>t.for((0,Ue._)`${S} = ${y}; ${S}--;`,()=>t.if((0,Ue._)`${_}(${r}[${y}], ${r}[${S}])`,()=>{e.error(),t.assign(f,!1).break(h)})))}}};ja.default=bd;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});const Qn=ce,wd=z,Ed=kr,Nd={message:"must be equal to constant",params:({schemaCode:e})=>(0,Qn._)`{allowedValue: ${e}}`},Pd={keyword:"const",$data:!0,error:Nd,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Qn._)`!${(0,wd.useFunc)(t,Ed.default)}(${r}, ${a})`):e.fail((0,Qn._)`${i} !== ${r}`)}};Va.default=Pd;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});const pr=ce,Ad=z,Cd=kr,Od={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,pr._)`{allowedValues: ${e}}`},Id={keyword:"enum",schemaType:"array",$data:!0,error:Od,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:i,it:o}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const u=a.length>=o.opts.loopEnum;let f;const c=()=>f??(f=(0,Ad.useFunc)(t,Cd.default));let d;if(u||n)d=t.let("valid"),e.block$data(d,v);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const b=t.const("vSchema",i);d=(0,pr.or)(...a.map((y,S)=>w(b,S)))}e.pass(d);function v(){t.assign(d,!1),t.forOf("v",i,b=>t.if((0,pr._)`${c()}(${r}, ${b})`,()=>t.assign(d,!0).break()))}function w(b,y){const S=a[y];return typeof S=="object"&&S!==null?(0,pr._)`${c()}(${r}, ${b}[${y}])`:(0,pr._)`${r} === ${S}`}}};Ma.default=Id;Object.defineProperty(Pa,"__esModule",{value:!0});const Rd=Aa,Td=Ca,Dd=Oa,kd=Ra,jd=Ta,Vd=Da,Md=ka,Fd=ja,zd=Va,Ud=Ma,Ld=[Rd.default,Td.default,Dd.default,kd.default,jd.default,Vd.default,Md.default,Fd.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},zd.default,Ud.default];Pa.default=Ld;var Fa={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.validateAdditionalItems=void 0;const Ft=ce,ea=z,qd={message:({params:{len:e}})=>(0,Ft.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ft._)`{limit: ${e}}`},xd={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:qd,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,ea.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}ys(e,n)}};function ys(e,t){const{gen:r,schema:n,data:a,keyword:i,it:o}=e;o.items=!0;const u=r.const("len",(0,Ft._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Ft._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,ea.alwaysValidSchema)(o,n)){const c=r.var("valid",(0,Ft._)`${u} <= ${t.length}`);r.if((0,Ft.not)(c),()=>f(c)),e.ok(c)}function f(c){r.forRange("i",t.length,u,d=>{e.subschema({keyword:i,dataProp:d,dataPropType:ea.Type.Num},c),o.allErrors||r.if((0,Ft.not)(c),()=>r.break())})}}cr.validateAdditionalItems=ys;cr.default=xd;var za={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.validateTuple=void 0;const Ui=ce,Xr=z,Kd=se,Gd={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return _s(e,"additionalItems",t);r.items=!0,!(0,Xr.alwaysValidSchema)(r,t)&&e.ok((0,Kd.validateArray)(e))}};function _s(e,t,r=e.schema){const{gen:n,parentSchema:a,data:i,keyword:o,it:u}=e;d(a),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Xr.mergeEvaluated.items(n,r.length,u.items));const f=n.name("valid"),c=n.const("len",(0,Ui._)`${i}.length`);r.forEach((v,w)=>{(0,Xr.alwaysValidSchema)(u,v)||(n.if((0,Ui._)`${c} > ${w}`,()=>e.subschema({keyword:o,schemaProp:w,dataProp:w},f)),e.ok(f))});function d(v){const{opts:w,errSchemaPath:b}=u,y=r.length,S=y===v.minItems&&(y===v.maxItems||v[t]===!1);if(w.strictTuples&&!S){const _=`"${o}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${b}"`;(0,Xr.checkStrictMode)(u,_,w.strictTuples)}}}ur.validateTuple=_s;ur.default=Gd;Object.defineProperty(za,"__esModule",{value:!0});const Bd=ur,Jd={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Bd.validateTuple)(e,"items")};za.default=Jd;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});const Li=ce,Hd=z,Wd=se,Xd=cr,Zd={message:({params:{len:e}})=>(0,Li.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Li._)`{limit: ${e}}`},Yd={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Zd,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,Hd.alwaysValidSchema)(n,t)&&(a?(0,Xd.validateAdditionalItems)(e,a):e.ok((0,Wd.validateArray)(e)))}};Ua.default=Yd;var La={};Object.defineProperty(La,"__esModule",{value:!0});const rt=ce,Lr=z,Qd={message:({params:{min:e,max:t}})=>t===void 0?(0,rt.str)`must contain at least ${e} valid item(s)`:(0,rt.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,rt._)`{minContains: ${e}}`:(0,rt._)`{minContains: ${e}, maxContains: ${t}}`},ef={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Qd,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:i}=e;let o,u;const{minContains:f,maxContains:c}=n;i.opts.next?(o=f===void 0?1:f,u=c):o=1;const d=t.const("len",(0,rt._)`${a}.length`);if(e.setParams({min:o,max:u}),u===void 0&&o===0){(0,Lr.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&o>u){(0,Lr.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Lr.alwaysValidSchema)(i,r)){let S=(0,rt._)`${d} >= ${o}`;u!==void 0&&(S=(0,rt._)`${S} && ${d} <= ${u}`),e.pass(S);return}i.items=!0;const v=t.name("valid");u===void 0&&o===1?b(v,()=>t.if(v,()=>t.break())):o===0?(t.let(v,!0),u!==void 0&&t.if((0,rt._)`${a}.length > 0`,w)):(t.let(v,!1),w()),e.result(v,()=>e.reset());function w(){const S=t.name("_valid"),_=t.let("count",0);b(S,()=>t.if(S,()=>y(_)))}function b(S,_){t.forRange("i",0,d,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:Lr.Type.Num,compositeRule:!0},S),_()})}function y(S){t.code((0,rt._)`${S}++`),u===void 0?t.if((0,rt._)`${S} >= ${o}`,()=>t.assign(v,!0).break()):(t.if((0,rt._)`${S} > ${u}`,()=>t.assign(v,!1).break()),o===1?t.assign(v,!0):t.if((0,rt._)`${S} >= ${o}`,()=>t.assign(v,!0)))}}};La.default=ef;var $s={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ce,r=z,n=se;e.error={message:({params:{property:f,depsCount:c,deps:d}})=>{const v=c===1?"property":"properties";return(0,t.str)`must have ${v} ${d} when property ${f} is present`},params:({params:{property:f,depsCount:c,deps:d,missingProperty:v}})=>(0,t._)`{property: ${f},
    missingProperty: ${v},
    depsCount: ${c},
    deps: ${d}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(f){const[c,d]=i(f);o(f,c),u(f,d)}};function i({schema:f}){const c={},d={};for(const v in f){if(v==="__proto__")continue;const w=Array.isArray(f[v])?c:d;w[v]=f[v]}return[c,d]}function o(f,c=f.schema){const{gen:d,data:v,it:w}=f;if(Object.keys(c).length===0)return;const b=d.let("missing");for(const y in c){const S=c[y];if(S.length===0)continue;const _=(0,n.propertyInData)(d,v,y,w.opts.ownProperties);f.setParams({property:y,depsCount:S.length,deps:S.join(", ")}),w.allErrors?d.if(_,()=>{for(const h of S)(0,n.checkReportMissingProp)(f,h)}):(d.if((0,t._)`${_} && (${(0,n.checkMissingProp)(f,S,b)})`),(0,n.reportMissingProp)(f,b),d.else())}}e.validatePropertyDeps=o;function u(f,c=f.schema){const{gen:d,data:v,keyword:w,it:b}=f,y=d.name("valid");for(const S in c)(0,r.alwaysValidSchema)(b,c[S])||(d.if((0,n.propertyInData)(d,v,S,b.opts.ownProperties),()=>{const _=f.subschema({keyword:w,schemaProp:S},y);f.mergeValidEvaluated(_,y)},()=>d.var(y,!0)),f.ok(y))}e.validateSchemaDeps=u,e.default=a})($s);var qa={};Object.defineProperty(qa,"__esModule",{value:!0});const Ss=ce,tf=z,rf={message:"property name must be valid",params:({params:e})=>(0,Ss._)`{propertyName: ${e.propertyName}}`},nf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:rf,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,tf.alwaysValidSchema)(a,r))return;const i=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,Ss.not)(i),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(i)}};qa.default=nf;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});const qr=se,at=ce,af=gt,xr=z,of={message:"must NOT have additional properties",params:({params:e})=>(0,at._)`{additionalProperty: ${e.additionalProperty}}`},sf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:of,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:u,opts:f}=o;if(o.props=!0,f.removeAdditional!=="all"&&(0,xr.alwaysValidSchema)(o,r))return;const c=(0,qr.allSchemaProperties)(n.properties),d=(0,qr.allSchemaProperties)(n.patternProperties);v(),e.ok((0,at._)`${i} === ${af.default.errors}`);function v(){t.forIn("key",a,_=>{!c.length&&!d.length?y(_):t.if(w(_),()=>y(_))})}function w(_){let h;if(c.length>8){const E=(0,xr.schemaRefOrVal)(o,n.properties,"properties");h=(0,qr.isOwnProperty)(t,E,_)}else c.length?h=(0,at.or)(...c.map(E=>(0,at._)`${_} === ${E}`)):h=at.nil;return d.length&&(h=(0,at.or)(h,...d.map(E=>(0,at._)`${(0,qr.usePattern)(e,E)}.test(${_})`))),(0,at.not)(h)}function b(_){t.code((0,at._)`delete ${a}[${_}]`)}function y(_){if(f.removeAdditional==="all"||f.removeAdditional&&r===!1){b(_);return}if(r===!1){e.setParams({additionalProperty:_}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,xr.alwaysValidSchema)(o,r)){const h=t.name("valid");f.removeAdditional==="failing"?(S(_,h,!1),t.if((0,at.not)(h),()=>{e.reset(),b(_)})):(S(_,h),u||t.if((0,at.not)(h),()=>t.break()))}}function S(_,h,E){const R={keyword:"additionalProperties",dataProp:_,dataPropType:xr.Type.Str};E===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(R,h)}}};bn.default=sf;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});const cf=st,qi=se,jn=z,xi=bn,uf={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&xi.default.code(new cf.KeywordCxt(i,xi.default,"additionalProperties"));const o=(0,qi.allSchemaProperties)(r);for(const v of o)i.definedProperties.add(v);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=jn.mergeEvaluated.props(t,(0,jn.toHash)(o),i.props));const u=o.filter(v=>!(0,jn.alwaysValidSchema)(i,r[v]));if(u.length===0)return;const f=t.name("valid");for(const v of u)c(v)?d(v):(t.if((0,qi.propertyInData)(t,a,v,i.opts.ownProperties)),d(v),i.allErrors||t.else().var(f,!0),t.endIf()),e.it.definedProperties.add(v),e.ok(f);function c(v){return i.opts.useDefaults&&!i.compositeRule&&r[v].default!==void 0}function d(v){e.subschema({keyword:"properties",schemaProp:v,dataProp:v},f)}}};xa.default=uf;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});const Ki=se,Kr=ce,Gi=z,Bi=z,lf={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:i}=e,{opts:o}=i,u=(0,Ki.allSchemaProperties)(r),f=u.filter(S=>(0,Gi.alwaysValidSchema)(i,r[S]));if(u.length===0||f.length===u.length&&(!i.opts.unevaluated||i.props===!0))return;const c=o.strictSchema&&!o.allowMatchingProperties&&a.properties,d=t.name("valid");i.props!==!0&&!(i.props instanceof Kr.Name)&&(i.props=(0,Bi.evaluatedPropsToName)(t,i.props));const{props:v}=i;w();function w(){for(const S of u)c&&b(S),i.allErrors?y(S):(t.var(d,!0),y(S),t.if(d))}function b(S){for(const _ in c)new RegExp(S).test(_)&&(0,Gi.checkStrictMode)(i,`property ${_} matches pattern ${S} (use allowMatchingProperties)`)}function y(S){t.forIn("key",n,_=>{t.if((0,Kr._)`${(0,Ki.usePattern)(e,S)}.test(${_})`,()=>{const h=f.includes(S);h||e.subschema({keyword:"patternProperties",schemaProp:S,dataProp:_,dataPropType:Bi.Type.Str},d),i.opts.unevaluated&&v!==!0?t.assign((0,Kr._)`${v}[${_}]`,!0):!h&&!i.allErrors&&t.if((0,Kr.not)(d),()=>t.break())})})}}};Ka.default=lf;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});const df=z,ff={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,df.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ga.default=ff;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});const hf=se,mf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:hf.validateUnion,error:{message:"must match a schema in anyOf"}};Ba.default=mf;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});const Zr=ce,pf=z,vf={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Zr._)`{passingSchemas: ${e.passing}}`},gf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:vf,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const i=r,o=t.let("valid",!1),u=t.let("passing",null),f=t.name("_valid");e.setParams({passing:u}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){i.forEach((d,v)=>{let w;(0,pf.alwaysValidSchema)(a,d)?t.var(f,!0):w=e.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},f),v>0&&t.if((0,Zr._)`${f} && ${o}`).assign(o,!1).assign(u,(0,Zr._)`[${u}, ${v}]`).else(),t.if(f,()=>{t.assign(o,!0),t.assign(u,v),w&&e.mergeEvaluated(w,Zr.Name)})})}}};Ja.default=gf;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const yf=z,_f={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((i,o)=>{if((0,yf.alwaysValidSchema)(n,i))return;const u=e.subschema({keyword:"allOf",schemaProp:o},a);e.ok(a),e.mergeEvaluated(u)})}};Ha.default=_f;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});const un=ce,bs=z,$f={message:({params:e})=>(0,un.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,un._)`{failingKeyword: ${e.ifClause}}`},Sf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:$f,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,bs.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Ji(n,"then"),i=Ji(n,"else");if(!a&&!i)return;const o=t.let("valid",!0),u=t.name("_valid");if(f(),e.reset(),a&&i){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(u,c("then",d),c("else",d))}else a?t.if(u,c("then")):t.if((0,un.not)(u),c("else"));e.pass(o,()=>e.error(!0));function f(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(d)}function c(d,v){return()=>{const w=e.subschema({keyword:d},u);t.assign(o,u),e.mergeValidEvaluated(w,o),v?t.assign(v,(0,un._)`${d}`):e.setParams({ifClause:d})}}}};function Ji(e,t){const r=e.schema[t];return r!==void 0&&!(0,bs.alwaysValidSchema)(e,r)}Wa.default=Sf;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});const bf=z,wf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,bf.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Xa.default=wf;Object.defineProperty(Fa,"__esModule",{value:!0});const Ef=cr,Nf=za,Pf=ur,Af=Ua,Cf=La,Of=$s,If=qa,Rf=bn,Tf=xa,Df=Ka,kf=Ga,jf=Ba,Vf=Ja,Mf=Ha,Ff=Wa,zf=Xa;function Uf(e=!1){const t=[kf.default,jf.default,Vf.default,Mf.default,Ff.default,zf.default,If.default,Rf.default,Of.default,Tf.default,Df.default];return e?t.push(Nf.default,Af.default):t.push(Ef.default,Pf.default),t.push(Cf.default),t}Fa.default=Uf;var Za={},Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});const De=ce,Lf={message:({schemaCode:e})=>(0,De.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,De._)`{format: ${e}}`},qf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Lf,code(e,t){const{gen:r,data:n,$data:a,schema:i,schemaCode:o,it:u}=e,{opts:f,errSchemaPath:c,schemaEnv:d,self:v}=u;if(!f.validateFormats)return;a?w():b();function w(){const y=r.scopeValue("formats",{ref:v.formats,code:f.code.formats}),S=r.const("fDef",(0,De._)`${y}[${o}]`),_=r.let("fType"),h=r.let("format");r.if((0,De._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>r.assign(_,(0,De._)`${S}.type || "string"`).assign(h,(0,De._)`${S}.validate`),()=>r.assign(_,(0,De._)`"string"`).assign(h,S)),e.fail$data((0,De.or)(E(),R()));function E(){return f.strictSchema===!1?De.nil:(0,De._)`${o} && !${h}`}function R(){const k=d.$async?(0,De._)`(${S}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,De._)`${h}(${n})`,D=(0,De._)`(typeof ${h} == "function" ? ${k} : ${h}.test(${n}))`;return(0,De._)`${h} && ${h} !== true && ${_} === ${t} && !${D}`}}function b(){const y=v.formats[i];if(!y){E();return}if(y===!0)return;const[S,_,h]=R(y);S===t&&e.pass(k());function E(){if(f.strictSchema===!1){v.logger.warn(D());return}throw new Error(D());function D(){return`unknown format "${i}" ignored in schema at path "${c}"`}}function R(D){const Z=D instanceof RegExp?(0,De.regexpCode)(D):f.code.formats?(0,De._)`${f.code.formats}${(0,De.getProperty)(i)}`:void 0,ie=r.scopeValue("formats",{key:i,ref:D,code:Z});return typeof D=="object"&&!(D instanceof RegExp)?[D.type||"string",D.validate,(0,De._)`${ie}.validate`]:["string",D,ie]}function k(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!d.$async)throw new Error("async format in sync schema");return(0,De._)`await ${h}(${n})`}return typeof _=="function"?(0,De._)`${h}(${n})`:(0,De._)`${h}.test(${n})`}}}};Ya.default=qf;Object.defineProperty(Za,"__esModule",{value:!0});const xf=Ya,Kf=[xf.default];Za.default=Kf;var or={};Object.defineProperty(or,"__esModule",{value:!0});or.contentVocabulary=or.metadataVocabulary=void 0;or.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];or.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(wa,"__esModule",{value:!0});const Gf=Ea,Bf=Pa,Jf=Fa,Hf=Za,Hi=or,Wf=[Gf.default,Bf.default,(0,Jf.default)(),Hf.default,Hi.metadataVocabulary,Hi.contentVocabulary];wa.default=Wf;var Qa={},wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.DiscrError=void 0;var Wi;(function(e){e.Tag="tag",e.Mapping="mapping"})(Wi||(wn.DiscrError=Wi={}));Object.defineProperty(Qa,"__esModule",{value:!0});const Yt=ce,ta=wn,Xi=He,Xf=sr,Zf=z,Yf={message:({params:{discrError:e,tagName:t}})=>e===ta.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Yt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Qf={keyword:"discriminator",type:"object",schemaType:"object",error:Yf,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:i}=e,{oneOf:o}=a;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const f=t.let("valid",!1),c=t.const("tag",(0,Yt._)`${r}${(0,Yt.getProperty)(u)}`);t.if((0,Yt._)`typeof ${c} == "string"`,()=>d(),()=>e.error(!1,{discrError:ta.DiscrError.Tag,tag:c,tagName:u})),e.ok(f);function d(){const b=w();t.if(!1);for(const y in b)t.elseIf((0,Yt._)`${c} === ${y}`),t.assign(f,v(b[y]));t.else(),e.error(!1,{discrError:ta.DiscrError.Mapping,tag:c,tagName:u}),t.endIf()}function v(b){const y=t.name("valid"),S=e.subschema({keyword:"oneOf",schemaProp:b},y);return e.mergeEvaluated(S,Yt.Name),y}function w(){var b;const y={},S=h(a);let _=!0;for(let k=0;k<o.length;k++){let D=o[k];if(D!=null&&D.$ref&&!(0,Zf.schemaHasRulesButRef)(D,i.self.RULES)){const ie=D.$ref;if(D=Xi.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,ie),D instanceof Xi.SchemaEnv&&(D=D.schema),D===void 0)throw new Xf.default(i.opts.uriResolver,i.baseId,ie)}const Z=(b=D==null?void 0:D.properties)===null||b===void 0?void 0:b[u];if(typeof Z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);_=_&&(S||h(D)),E(Z,k)}if(!_)throw new Error(`discriminator: "${u}" must be required`);return y;function h({required:k}){return Array.isArray(k)&&k.includes(u)}function E(k,D){if(k.const)R(k.const,D);else if(k.enum)for(const Z of k.enum)R(Z,D);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function R(k,D){if(typeof k!="string"||k in y)throw new Error(`discriminator: "${u}" values must be unique strings`);y[k]=D}}}};Qa.default=Qf;const eh="http://json-schema.org/draft-07/schema#",th="http://json-schema.org/draft-07/schema#",rh="Core schema meta-schema",nh={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ah=["object","boolean"],ih={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},oh={$schema:eh,$id:th,title:rh,definitions:nh,type:ah,properties:ih,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Vo,n=wa,a=Qa,i=oh,o=["/properties"],u="http://json-schema.org/draft-07/schema";class f extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(y,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=f,e.exports=t=f,e.exports.Ajv=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var c=st;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=ce;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var v=Dr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return v.default}});var w=sr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return w.default}})})(Jn,Jn.exports);var sh=Jn.exports;const ch=zs(sh);function Ee(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function Xe(e){return function t(r){return arguments.length===0||Ee(r)?t:e.apply(this,arguments)}}function ft(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return Ee(r)?t:Xe(function(a){return e(r,a)});default:return Ee(r)&&Ee(n)?t:Ee(r)?Xe(function(a){return e(a,n)}):Ee(n)?Xe(function(a){return e(r,a)}):e(r,n)}}}function ei(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(r){return t.apply(this,arguments)};case 2:return function(r,n){return t.apply(this,arguments)};case 3:return function(r,n,a){return t.apply(this,arguments)};case 4:return function(r,n,a,i){return t.apply(this,arguments)};case 5:return function(r,n,a,i,o){return t.apply(this,arguments)};case 6:return function(r,n,a,i,o,u){return t.apply(this,arguments)};case 7:return function(r,n,a,i,o,u,f){return t.apply(this,arguments)};case 8:return function(r,n,a,i,o,u,f,c){return t.apply(this,arguments)};case 9:return function(r,n,a,i,o,u,f,c,d){return t.apply(this,arguments)};case 10:return function(r,n,a,i,o,u,f,c,d,v){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function ws(e,t,r){return function(){for(var n=[],a=0,i=e,o=0,u=!1;o<t.length||a<arguments.length;){var f;o<t.length&&(!Ee(t[o])||a>=arguments.length)?f=t[o]:(f=arguments[a],a+=1),n[o]=f,Ee(f)?u=!0:i-=1,o+=1}return!u&&i<=0?r.apply(this,n):ei(Math.max(0,i),ws(e,n,r))}}var uh=ft(function(t,r){return t===1?Xe(r):ei(t,ws(t,[],r))});const lh=uh;function dh(e){return function t(r,n,a){switch(arguments.length){case 0:return t;case 1:return Ee(r)?t:ft(function(i,o){return e(r,i,o)});case 2:return Ee(r)&&Ee(n)?t:Ee(r)?ft(function(i,o){return e(i,n,o)}):Ee(n)?ft(function(i,o){return e(r,i,o)}):Xe(function(i){return e(r,n,i)});default:return Ee(r)&&Ee(n)&&Ee(a)?t:Ee(r)&&Ee(n)?ft(function(i,o){return e(i,o,a)}):Ee(r)&&Ee(a)?ft(function(i,o){return e(i,n,o)}):Ee(n)&&Ee(a)?ft(function(i,o){return e(r,i,o)}):Ee(r)?Xe(function(i){return e(i,n,a)}):Ee(n)?Xe(function(i){return e(r,i,a)}):Ee(a)?Xe(function(i){return e(r,n,i)}):e(r,n,a)}}}const fh=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function ln(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var Zi=Object.prototype.toString,hh=function(){return Zi.call(arguments)==="[object Arguments]"?function(t){return Zi.call(t)==="[object Arguments]"}:function(t){return ln("callee",t)}}();const mh=hh;var ph=!{toString:null}.propertyIsEnumerable("toString"),Yi=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Qi=function(){return arguments.propertyIsEnumerable("length")}(),vh=function(t,r){for(var n=0;n<t.length;){if(t[n]===r)return!0;n+=1}return!1},gh=Xe(typeof Object.keys=="function"&&!Qi?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var r,n,a=[],i=Qi&&mh(t);for(r in t)ln(r,t)&&(!i||r!=="length")&&(a[a.length]=r);if(ph)for(n=Yi.length-1;n>=0;)r=Yi[n],ln(r,t)&&!vh(a,r)&&(a[a.length]=r),n-=1;return a});const yh=gh;function _h(e){return Object.prototype.toString.call(e)==="[object String]"}var $h=Xe(function(t){return fh(t)?!0:!t||typeof t!="object"||_h(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1});const Sh=$h;var eo=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function bh(e,t,r){return function(a,i,o){if(Sh(o))return e(a,i,o);if(o==null)return i;if(typeof o["fantasy-land/reduce"]=="function")return t(a,i,o,"fantasy-land/reduce");if(o[eo]!=null)return r(a,i,o[eo]());if(typeof o.next=="function")return r(a,i,o);if(typeof o.reduce=="function")return t(a,i,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function wh(e,t,r){for(var n=0,a=r.length;n<a;){if(t=e["@@transducer/step"](t,r[n]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}var Eh=ft(function(t,r){return ei(t.length,function(){return t.apply(r,arguments)})});const Nh=Eh;function Ph(e,t,r){for(var n=r.next();!n.done;){if(t=e["@@transducer/step"](t,n.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function Ah(e,t,r,n){return e["@@transducer/result"](r[n](Nh(e["@@transducer/step"],e),t))}var Ch=bh(wh,Ah,Ph);const Oh=Ch;var Ih=function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,r){return this.f(t,r)},e}();function Rh(e){return new Ih(e)}var Th=dh(function(e,t,r){return Oh(typeof e=="function"?Rh(e):e,t,r)});const Dh=Th;var kh=Xe(function(t){return t==null});const to=kh;var jh=Xe(function(t){return lh(t.length,t)});const Vh=jh;var Mh=ft(function(t,r){if(t.length===0||to(r))return!1;for(var n=r,a=0;a<t.length;)if(!to(n)&&ln(t[a],n))n=n[t[a]],a+=1;else return!1;return!0});const Fh=Mh;var zh=ft(function(t,r){return Fh([t],r)});const Uh=zh,Zt="http://json-schema.org/draft-07/schema#",Lh=new ch,ro=e=>{let t;try{t=Lh.validateSchema(e)}catch(r){console.log(r)}return t},qh=[{name:"date-time"},{name:"date"},{name:"time"},{name:"email"},{name:"hostname"},{name:"ipv4"},{name:"ipv6"},{name:"uri"},{name:"regex"}],Es=["string","number","array","object","boolean","integer"];var Bt=(e=>(e.string="string",e.number="number",e.array="arrray",e.object="object",e.boolean="boolean",e.integer="integer",e))(Bt||{});const Ct=(e,t)=>{switch(e){case"number":return t?{$schema:Zt,type:"number",title:"",description:"",properties:{}}:{type:"number",title:"",description:"",properties:{}};case"boolean":return t?{$schema:Zt,type:"boolean",title:"",description:"",properties:{}}:{type:"boolean",title:"",description:"",properties:{}};case"integer":return t?{$schema:Zt,type:"integer",title:"",description:"",properties:{}}:{type:"integer",title:"",description:"",properties:{}};case"arrray":return t?{$schema:Zt,type:"array",title:"",description:"",items:{type:"string",title:"",description:""}}:{type:"array",title:"",description:"",items:{type:"string",title:"",description:""}};case"object":return t?{$schema:Zt,type:"object",title:"",description:"",properties:{},required:[]}:{type:"object",title:"",description:"",properties:{},required:[]};case"string":default:return t?{$schema:Zt,type:"string",title:"",description:"",properties:{}}:{type:"string",title:"",description:"",properties:{}}}},Ar=()=>Math.random().toString(36).substring(2,6),ti=(e,t)=>{switch(e){case"array":return Ct("arrray",t);case"object":return Ct("object",t);default:return Ct(Bt[e],t)}},xh=Vh((e,t)=>Dh((r,n)=>{const a=Uh(n,e)?e[n]:n;return r[a]=t[n],r},{},yh(t))),Kh=(e,t)=>(delete t[e],t),Ns=e=>!e||e.length===new Set(e).size,ra=({path:e,item:t})=>{const{handleChange:r}=X.useContext(Ot),[n,a]=X.useState(),i=c=>{const d=c.split(`
`);return d.length===0||d.length===1&&!d[0]?null:d},o=t.enum!==void 0,u=t.enum?t.enum:[],f=u==null?void 0:u.join(`
`);return Oe(Ge,{direction:"column",w:"100%",wrap:"nowrap",children:[I(ht,{align:"stretch",justify:"center",m:1,children:I(Lt,{label:`${L.t("archbase:Default value")}`,size:"sm",defaultValue:t.default!==void 0?Number(t.default):"",value:t.default!==void 0?Number(t.default):"",placeholder:`${L.t("archbase:Default value")}`,onChange:c=>{c!==""?r(`${e}.default`,Number(c),"ASSIGN_VALUE"):r(`${e}.default`,null,"REMOVE")}})}),I(ht,{align:"stretch",justify:"center",m:1,children:Oe(Ge,{justify:"space-between",children:[I(Lt,{label:`${L.t("archbase:Min Value")}`,size:"sm",defaultValue:t.minimum!==void 0?Number(t.minimum):"",value:t.minimum!==void 0?Number(t.minimum):"",onChange:c=>{c!==""?r(`${e}.minimum`,Number(c),"ASSIGN_VALUE"):r(`${e}.minimum`,null,"REMOVE")}}),I(Lt,{label:`${L.t("archbase:Max Value")}`,size:"sm",defaultValue:t.maximum!==void 0?Number(t.maximum):"",value:t.maximum!==void 0?Number(t.maximum):"",onChange:c=>{c!==""?r(`${e}.maximum`,Number(c),"ASSIGN_VALUE"):r(`${e}.maximum`,null,"REMOVE")}})]})}),I(ht,{align:"stretch",justify:"center",mt:8,children:Oe(Ge,{align:"center",justify:"space-between",children:[I(Yr,{children:`${L.t("archbase:Enum")}`}),I(Rr,{mx:16,checked:o,onChange:c=>{c.target.checked?r(`${e}.enum`,[""],"ASSIGN_VALUE"):r(`${e}.enum`,null,"REMOVE")}}),I(pt.Wrapper,{w:"100%",error:n,children:I(vo,{value:f,disabled:!o,placeholder:`${L.t("archbase:ENUM Values - One Entry Per Line")}`,datatype:"number",onChange:c=>{const d=/^[0-9\n]+$/;if(c.target.value===""||d.test(c.target.value)){const v=i(c.target.value);Ns(v)?v===null?r(`${e}.enum`,null,"REMOVE"):r(`${e}.enum`,v,"ASSIGN_VALUE"):a(`${L.t("archbase:Enum must not have duplicate values")}`)}}})})]})})]})};try{ra.displayName="AdvancedNumber",ra.__docgenInfo={description:"",displayName:"AdvancedNumber",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}}}}}catch{}const na=({path:e,item:t})=>{const{handleChange:r}=X.useContext(Ot),[n,a]=X.useState(),i=c=>{if(!c)return null;c=c.trim();const d=c.split(`
`);return d.length===0||d.length===1&&!d[0]?null:d},o=t.enum!==void 0,u=t.enum?t.enum:[];let f=u==null?void 0:u.join(`
`);return f.length>0&&(f=f.concat(`
`)),Oe(Ge,{direction:"column",w:"100%",wrap:"nowrap",children:[I(ht,{align:"stretch",justify:"center",m:1,children:I(Qr,{id:"default",label:`${L.t("archbase:Default value")}`,placeholder:`${L.t("archbase:Default value")}`,value:t.default??"",onChange:c=>{r(`${e}.default`,c.target.value,"ASSIGN_VALUE")}})}),I(ht,{align:"stretch",justify:"center",m:1,children:Oe(Ge,{justify:"space-between",children:[I(Lt,{label:`${L.t("archbase:Min Length")}`,size:"sm",defaultValue:t.minLength!==void 0?Number(t.minLength):"",value:t.minLength!==void 0?Number(t.minLength):"",onChange:c=>{c!==""?r(`${e}.minLength`,Number(c),"ASSIGN_VALUE"):r(`${e}.minLength`,null,"REMOVE")}}),I(Lt,{label:`${L.t("archbase:Max Length")}`,size:"sm",defaultValue:t.maxLength!==void 0?Number(t.maxLength):"",value:t.maxLength!==void 0?Number(t.maxLength):"",onChange:c=>{c!==""?r(`${e}.maxLength`,Number(c),"ASSIGN_VALUE"):r(`${e}.maxLength`,null,"REMOVE")}})]})}),I(ht,{align:"stretch",justify:"center",m:1,children:I(Qr,{id:"pattern",label:`${L.t("archbase:Pattern")}`,placeholder:`${L.t("archbase:Must be a valid regular expression")}`,value:t.pattern??"",onChange:c=>{r(`${e}.pattern`,c.target.value,"ASSIGN_VALUE")}})}),I(ht,{align:"stretch",justify:"center",mt:8,children:Oe(Ge,{align:"center",justify:"space-between",children:[I(Yr,{children:`${L.t("archbase:Enum")}`}),I(Rr,{mx:16,checked:o,onChange:c=>{c.target.checked?r(`${e}.enum`,[""],"ASSIGN_VALUE"):r(`${e}.enum`,null,"REMOVE")}}),I(pt.Wrapper,{w:"100%",error:n,children:I(vo,{value:f||"",disabled:!o,placeholder:`${L.t("archbase:ENUM Values - One Entry Per Line")}`,onChange:c=>{const d=i(c.target.value);Ns(d)?(a(""),d===null?r(`${e}.enum`,null,"REMOVE"):r(`${e}.enum`,d,"ASSIGN_VALUE")):a(`${L.t("archbase:Enum must not have duplicate values")}`)}})})]})}),I(ht,{align:"stretch",justify:"center",m:1,children:I(Ir,{label:`${L.t("archbase:Format1")}`,value:t.format??"",size:"sm",m:2,placeholder:`${L.t("archbase:Choose data type")}`,onChange:c=>{c===""?r(`${e}.format`,null,"REMOVE"):r(`${e}.format`,c,"ASSIGN_VALUE")},data:qh.map(c=>({label:c.name,value:c.name}))})})]})};try{na.displayName="AdvancedString",na.__docgenInfo={description:"",displayName:"AdvancedString",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}}}}}catch{}const dn=({path:e,item:t})=>I(Ge,{children:(n=>{switch(t.type){case"string":return I(na,{path:n,item:t});case"number":case"integer":return I(ra,{path:n,item:t});case"boolean":return I(Bn,{path:n,item:t});default:return}})(e)});try{dn.displayName="AdvancedSettings",dn.__docgenInfo={description:"",displayName:"AdvancedSettings",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}}}}}catch{}function Gh(e,t,r){var n=this,a=X.useRef(null),i=X.useRef(0),o=X.useRef(null),u=X.useRef([]),f=X.useRef(),c=X.useRef(),d=X.useRef(e),v=X.useRef(!0);d.current=e;var w=typeof window<"u",b=!t&&t!==0&&w;if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var y=!!(r=r||{}).leading,S=!("trailing"in r)||!!r.trailing,_="maxWait"in r,h="debounceOnServer"in r&&!!r.debounceOnServer,E=_?Math.max(+r.maxWait||0,t):null;X.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var R=X.useMemo(function(){var k=function(oe){var le=u.current,ue=f.current;return u.current=f.current=null,i.current=oe,c.current=d.current.apply(ue,le)},D=function(oe,le){b&&cancelAnimationFrame(o.current),o.current=b?requestAnimationFrame(oe):setTimeout(oe,le)},Z=function(oe){if(!v.current)return!1;var le=oe-a.current;return!a.current||le>=t||le<0||_&&oe-i.current>=E},ie=function(oe){return o.current=null,S&&u.current?k(oe):(u.current=f.current=null,c.current)},te=function oe(){var le=Date.now();if(Z(le))return ie(le);if(v.current){var ue=t-(le-a.current),be=_?Math.min(ue,E-(le-i.current)):ue;D(oe,be)}},pe=function(){if(w||h){var oe=Date.now(),le=Z(oe);if(u.current=[].slice.call(arguments),f.current=n,a.current=oe,le){if(!o.current&&v.current)return i.current=a.current,D(te,t),y?k(a.current):c.current;if(_)return D(te,t),k(a.current)}return o.current||D(te,t),c.current}};return pe.cancel=function(){o.current&&(b?cancelAnimationFrame(o.current):clearTimeout(o.current)),i.current=0,u.current=a.current=f.current=o.current=null},pe.isPending=function(){return!!o.current},pe.flush=function(){return o.current?ie(Date.now()):c.current},pe},[y,_,t,E,S,b,w,h]);return R}const aa=({itemPath:e,parentPath:t,parent:r,item:n,isReadOnly:a})=>{const{handleChange:i}=X.useContext(Ot);return a?I("div",{}):r?Oe(Nn,{position:"bottom",withArrow:!0,shadow:"md",withinPortal:!0,children:[I(Nn.Target,{children:I(zt,{size:"sm",mt:2,mb:2,mr:2,variant:"subtle",color:"green","aria-label":`${L.t("archbase:Add Child Node")}`,children:I(mn,{})})}),I(Nn.Dropdown,{w:"120px",color:"white",children:Oe(ht,{children:[I(en,{color:"blue",variant:"outline",size:"xs",onClick:()=>{const o=`field_${Ar()}`;i(`${t}.properties.${o}`,Ct(Bt.string),"ASSIGN_VALUE")},children:`${L.t("archbase:Sibling Node")}`}),I(en,{size:"xs",color:"orange",variant:"outline",onClick:()=>{if(n.properties){const o=`field_${Ar()}`;i(`${e}.properties.${o}`,Ct(Bt.string),"ASSIGN_VALUE")}},children:`${L.t("archbase:Child Node")}`})]})})]}):I(rr,{})};try{aa.displayName="DropPlus",aa.__docgenInfo={description:"",displayName:"DropPlus",props:{itemPath:{defaultValue:null,description:"",name:"itemPath",required:!0,type:{name:"string"}},parentPath:{defaultValue:null,description:"",name:"parentPath",required:!0,type:{name:"string"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"JSONSchema7"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"JSONSchema7"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Bh=Es.map(e=>({value:e,label:e})),ia=({name:e,showadvanced:t,jsonSchema:r,itemPath:n,parentPath:a,isReadOnly:i})=>{const{handleChange:o}=X.useContext(Ot),[u,f]=X.useState(),c=r.required,d=r.properties[e],w={paddingLeft:`${20*(Oo(a)-(a.match(/(properties)/g)?a.match(/(properties)/g).length:0)+1)}px`},b=Gh(y=>{if(r.properties&&r.properties[y])f(`${L.t("archbase:Duplicate Properties, the property already exists")}`);else{const S=e,_=y,h=xh({[S]:_},r.properties);o(`${a}.properties`,JSON.parse(JSON.stringify(h)),"ASSIGN_VALUE"),f("")}},1e3);return d?Oe("div",{children:[Oe(Ge,{align:"center",direction:"row",wrap:"nowrap",className:"schema-item",style:w,children:[I(pt.Wrapper,{error:u,children:I(pt,{readOnly:i,defaultValue:e,size:"sm",m:2,placeholder:`${L.t("archbase:Enter property name")}`,onChange:y=>{b(y.target.value)}})}),I(Rr,{disabled:i,checked:c?c.length>0&&c.includes(e):!1,m:2,color:"blue",onChange:y=>{y.target.checked?o(`${a}.required`,e,"PUSH_ITEM_TO_ARRAY"):o(`${a}.required`,e,"REMOVE_ITEM_FROM_ARRAY")}}),I(Ir,{readOnly:i,value:d.type.toString(),size:"sm",m:2,placeholder:`${L.t("archbase:Choose data type")}`,onChange:y=>{const S=ti(y,!1);o(`${n}`,S,"ASSIGN_VALUE")},data:Bh}),I(pt,{readOnly:i,value:d.title||"",size:"sm",m:2,placeholder:`${L.t("archbase:Add Title")}`,onChange:y=>{o(`${n}.title`,y.target.value,"ASSIGN_VALUE")}}),I(pt,{readOnly:i,value:d.description||"",size:"sm",m:2,placeholder:`${L.t("archbase:Add Description")}`,onChange:y=>{o(`${n}.description`,y.target.value,"ASSIGN_VALUE")}}),d.type!=="object"&&d.type!=="array"&&I(Ut,{"aria-label":`${L.t("archbase:Advanced Settings")}`,label:`${L.t("archbase:Advanced Settings")}`,position:"top",children:I(zt,{disabled:i,size:"sm",mt:2,mb:2,ml:1,"aria-label":`${L.t("archbase:Advanced Settings")}`,onClick:()=>{t(e)},children:I(go,{})})}),I(Ut,{"aria-label":`${L.t("archbase:Remove Node")}`,label:`${L.t("archbase:Remove Node")}`,position:"top",children:I(zt,{disabled:i,size:"sm",mt:2,mb:2,ml:1,color:"red","aria-label":`${L.t("archbase:Remove Node")}`,onClick:()=>{const y=Kh(e,JSON.parse(JSON.stringify(r.properties)));o(`${a}.properties`,y,"ASSIGN_VALUE")},children:I(Xs,{})})}),d.type==="object"?I(aa,{parentPath:a,itemPath:n,item:d,parent:r,isReadOnly:i}):I(Ut,{"aria-label":`${L.t("archbase:Add Sibling Node")}`,label:`${L.t("archbase:Add Sibling Node")}`,position:"top",children:I(zt,{disabled:i,size:"sm",mt:2,mb:2,mr:2,variant:"subtle",color:"green","aria-label":`${L.t("archbase:Add Sibling Node")}`,onClick:()=>{if(r.properties){const y=`field_${Ar()}`;o(`${a}.properties.${y}`,Ct(Bt.string),"ASSIGN_VALUE")}},children:I(mn,{})})})]}),d.type==="object"&&I(Cr,{path:n,jsonSchema:d,isReadOnly:i}),d.type==="array"&&I(Or,{path:n,jsonSchema:d,isReadOnly:i})]}):I(rr,{})};try{ia.displayName="SchemaItem",ia.__docgenInfo={description:"",displayName:"SchemaItem",props:{jsonSchema:{defaultValue:null,description:"",name:"jsonSchema",required:!0,type:{name:"JSONSchema7"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},itemPath:{defaultValue:null,description:"",name:"itemPath",required:!0,type:{name:"string"}},parentPath:{defaultValue:null,description:"",name:"parentPath",required:!0,type:{name:"string"}},showadvanced:{defaultValue:null,description:"",name:"showadvanced",required:!0,type:{name:"(item: string) => void"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Cr=({path:e,jsonSchema:t,isReadOnly:r})=>{const[n,a]=X.useState(!1),[i,o]=X.useState(""),u=()=>{a(!1)},f=d=>{a(!0),o(d)},c=X.useRef(null);return t.properties?Oe("div",{className:"object-style",children:[Object.keys(t.properties).map(d=>I(ia,{parentPath:e,itemPath:`${e}.properties.${d}`,name:d,showadvanced:f,jsonSchema:t,isReadOnly:r},String(d))),I("div",{ref:c,children:Oe(yo,{opened:n,size:"lg",onClose:u,title:`${L.t("archbase:Advanced Schema Settings")}`,children:[I(dn,{path:`${e}.properties.${i}`,item:t.properties[i]}),I(Ge,{justify:"flex-end",children:I(en,{mr:3,onClick:u,children:`${L.t("archbase:Close")}`})})]})})]}):I(rr,{})};try{Cr.displayName="SchemaObject",Cr.__docgenInfo={description:"",displayName:"SchemaObject",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},jsonSchema:{defaultValue:null,description:"",name:"jsonSchema",required:!0,type:{name:"JSONSchema7"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Jh=Es.map(e=>({value:e,label:e})),Or=({path:e,jsonSchema:t,isReadOnly:r})=>{const{handleChange:n}=X.useContext(Ot),[a,i]=X.useState(!1),o=t.items,f={paddingLeft:`${20*(Oo(e)-(e.match(/(properties)/g)?e.match(/(properties)/g).length:0)+1)}px`},c=()=>{i(!1)},d=()=>{i(!0)},v=X.useRef(null);return Oe(rr,{children:[Oe(Ge,{direction:"row",align:"center",wrap:"nowrap",className:"array-item",mt:2,mr:5,style:f,children:[I(pt,{style:{flexShrink:1},disabled:!0,value:`${L.t("archbase:Items")}`,size:"sm",m:2,variant:"outline"},"Items"),I(Rr,{disabled:!0,m:2,color:"blue"}),I(Ir,{readOnly:r,value:o.type,size:"sm",m:2,placeholder:`${L.t("archbase:Choose data type")}`,onChange:w=>{const b=ti(w,!1);n(`${e}.items`,b,"ASSIGN_VALUE")},data:Jh}),I(pt,{value:o.title,readOnly:r,size:"sm",m:2,placeholder:`${L.t("archbase:Add Title")}`,onChange:w=>{n(`${e}.items.title`,w.target.value,"ASSIGN_VALUE")}}),I(pt,{value:o.description,readOnly:r,size:"sm",m:2,placeholder:`${L.t("archbase:Add Description")}`,onChange:w=>{n(`${e}.items.description`,w.target.value,"ASSIGN_VALUE")}}),I(Ut,{"aria-label":`${L.t("archbase:Advanced Settings")}`,label:`${L.t("archbase:Advanced Settings")}`,position:"top",children:I(zt,{disabled:r,size:"sm",mt:2,mb:2,ml:1,color:"blue","aria-label":`${L.t("archbase:Advanced Settings")}`,onClick:()=>{d()},children:I(go,{})})}),o.type==="object"&&I(Ut,{"aria-label":`${L.t("archbase:Add Child Node")}`,label:`${L.t("archbase:Add Child Node")}`,position:"top",children:I(zt,{disabled:r,size:"sm",mt:2,mb:2,mr:2,color:"green","aria-label":`${L.t("archbase:Add Child Node")}`,onClick:()=>{const w=`field_${Ar()}`;n(`${e}.items.properties.${w}`,Ct(Bt.string),"ASSIGN_VALUE")},children:I(mn,{})})})]}),o.type==="object"&&I(Cr,{path:`${e}.items`,jsonSchema:o,isReadOnly:r}),o.type==="array"&&I(Or,{path:`${e}.items`,jsonSchema:o,isReadOnly:r}),I("div",{ref:v,children:Oe(yo,{opened:a,size:"lg",onClose:c,title:`${L.t("archbase:Advanced Schema Settings")}`,children:[I(dn,{path:`${e}.items`,item:o}),I(Ge,{justify:"flex-end",children:I(en,{mr:3,onClick:c,children:`${L.t("archbase:Close")}`})})]})})]})};try{Or.displayName="SchemaArray",Or.__docgenInfo={description:"",displayName:"SchemaArray",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},jsonSchema:{defaultValue:null,description:"",name:"jsonSchema",required:!0,type:{name:"JSONSchema7"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const oa=({path:e,jsonSchema:t,isReadOnly:r})=>{const{handleChange:n}=X.useContext(Ot);return I(rr,{children:Oe(Ge,{"data-testid":"jsonschema-editor",direction:"row",align:"center",wrap:"nowrap",mt:2,mr:5,children:[I(pt,{disabled:!0,placeholder:`${L.t("archbase:root")}`,m:2}),I(Ut,{"aria-label":`${L.t("archbase:All Required")}`,label:`${L.t("archbase:All Required")}`,position:"top",children:I(Rr,{disabled:r,m:2,width:20,color:"blue"})}),I(Ir,{readOnly:r,value:t.type.toString(),size:"sm",m:2,placeholder:`${L.t("archbase:Choose root data type")}`,onChange:a=>{const i=ti(a,!1);n(`${e}`,i,"ASSIGN_VALUE")},data:[{value:"object",label:"object"},{value:"array",label:"array"}]}),I(Qr,{value:t.title??"",readOnly:r,size:"sm",m:2,placeholder:`${L.t("archbase:Add Title")}`,onChange:a=>{n(`${e}.title`,a.currentTarget.value,"ASSIGN_VALUE")}}),I(Qr,{value:t.description??"",readOnly:r,size:"sm",m:2,placeholder:`${L.t("archbase:Add Description")}`,onChange:a=>{n(`${e}.description`,a.currentTarget.value,"ASSIGN_VALUE")}}),t.type==="object"&&I(rr,{children:I(Ut,{"aria-label":`${L.t("archbase:Add Child Node")}`,label:`${L.t("archbase:Add Child Node")}`,position:"top",children:I(zt,{disabled:r,size:"sm",mt:2,mb:2,mr:2,color:"green","aria-label":`${L.t("archbase:Add Child Node")}`,onClick:()=>{const a=`field_${Ar()}`;n(`${e}.properties.${a}`,Ct(Bt.string),"ASSIGN_VALUE")},children:I(mn,{})})})})]})})};try{oa.displayName="SchemaRoot",oa.__docgenInfo={description:"",displayName:"SchemaRoot",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},jsonSchema:{defaultValue:null,description:"",name:"jsonSchema",required:!0,type:{name:"JSONSchema7"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Vn={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"title",description:"",properties:{},required:[]},fn=({rootSchema:e,defaultRootSchema:t,onRootSchemaChange:r,readOnly:n=!1})=>{var f,c;const[a,i]=po({value:{jsonSchema:e??Vn,isReadOnly:n,fieldId:0},defaultValue:{jsonSchema:t??Vn,isReadOnly:n,fieldId:0},finalValue:Vn,onChange:d=>r(d.jsonSchema,ro(d.jsonSchema))}),{ready:o}=Zs(),u=(d,v,w)=>{const b=Hc(y=>{jc(y,d,v,w)},a);e===void 0&&i(b()),r&&r(b().jsonSchema,ro(a.jsonSchema))};if(o)return I(Gn,{value:{handleChange:u},children:Oe(Ge,{m:2,direction:"column",children:[I(oa,{path:"jsonSchema",jsonSchema:a.jsonSchema,isReadOnly:a.isReadOnly}),((f=a==null?void 0:a.jsonSchema)==null?void 0:f.type)==="object"&&I(Cr,{path:"jsonSchema",jsonSchema:a.jsonSchema,isReadOnly:a.isReadOnly}),((c=a==null?void 0:a.jsonSchema)==null?void 0:c.type)==="array"&&I(Or,{path:"jsonSchema",jsonSchema:a.jsonSchema,isReadOnly:a.isReadOnly})]})})};try{fn.displayName="ArchbaseJsonSchemaEditor",fn.__docgenInfo={description:"",displayName:"ArchbaseJsonSchemaEditor",props:{rootSchema:{defaultValue:null,description:"",name:"rootSchema",required:!1,type:{name:"JSONSchema7"}},defaultRootSchema:{defaultValue:null,description:"",name:"defaultRootSchema",required:!1,type:{name:"JSONSchema7"}},onRootSchemaChange:{defaultValue:null,description:"",name:"onRootSchemaChange",required:!1,type:{name:"(schema: JSONSchema7, isValid: boolean) => void"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}}}}}catch{}const ri=({data:e,readonly:t})=>{const[r,n]=X.useState(e||void 0),[a,i]=X.useState(!0);return Oe(Ge,{direction:"column",children:[Oe(zr,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,m:20,children:[I(zr.Section,{withBorder:!0,inheritPadding:!0,py:"xs",mb:"1rem",children:I(vi,{justify:"space-between",children:I(Yr,{fw:500,children:"JSON Schema Editor Component"})})}),Oe(gi,{h:300,children:[I(Ys,{color:a?"green":"red",children:a?"Schema Válido":"Schema Inválido"}),I(fn,{rootSchema:r,onRootSchemaChange:(o,u)=>{n(o),i(u),console.log(o,u)},defaultRootSchema:e,readOnly:t})]})]}),Oe(zr,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,m:20,mt:0,children:[I(zr.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:I(vi,{justify:"space-between",children:I(Yr,{fw:500,children:"Schema do JSON"})})}),I(gi,{h:300,children:I(Qs,{data:r})})]})]})},op={title:"Editores/JsonSchemaEditor",component:fn},Ps={$schema:"http://json-schema.org/draft-07/schema",$id:"#/io/knack/avro/item",type:"object",title:"Item",description:"The schema for item info.",required:["id","name"],properties:{id:{$id:"#/string",type:"string",title:"string",description:"The unique identifier of the item."},name:{$id:"#/string",type:"string",title:"string",description:"The display name of the item."},info:{$id:"#/io/knack/avro/info",type:"object",title:"info",description:"The info for the item.",required:["timestamp","active"],properties:{timestamp:{$id:"#/long",type:"number",title:"long",description:"The info timestamp."},active:{$id:"#/boolean",type:"boolean",title:"boolean",description:"The info active flag"},notes:{$id:"#/string",type:"string",title:"string",description:"The display name of the item."}}},tags:{$id:"#/array",type:"array",title:"array",description:"Tags for grouping and filtering items.",items:{$id:"#/string",type:"string",title:"string",description:""}},boxes:{$id:"#/array",type:"array",title:"array",description:"Boxes this item supports",items:{$id:"#/io/knack/avro/box/record",type:"object",title:"boxRecord",description:"",required:["height","width"],properties:{height:{$id:"#/int",type:"integer",title:"int",description:"The box height."},width:{$id:"#/int",type:"integer",title:"int",description:"The box width."},color:{$id:"#/string",type:"string",title:"string",description:"The box color."}}}}}},Gr={name:"Novo JsonSchema",render:()=>I(ri,{})},Br={name:"JsonSchema com dados",render:()=>I(ri,{data:Ps})},Jr={name:"JsonSchema com dados e somente leitura",render:()=>I(ri,{data:Ps,readonly:!0})};var no,ao,io;Gr.parameters={...Gr.parameters,docs:{...(no=Gr.parameters)==null?void 0:no.docs,source:{originalSource:`{
  name: 'Novo JsonSchema',
  render: () => <ArchbaseJsonSchemaEditorExample />
}`,...(io=(ao=Gr.parameters)==null?void 0:ao.docs)==null?void 0:io.source}}};var oo,so,co;Br.parameters={...Br.parameters,docs:{...(oo=Br.parameters)==null?void 0:oo.docs,source:{originalSource:`{
  name: 'JsonSchema com dados',
  render: () => <ArchbaseJsonSchemaEditorExample data={initialSchemaWithData} />
}`,...(co=(so=Br.parameters)==null?void 0:so.docs)==null?void 0:co.source}}};var uo,lo,fo;Jr.parameters={...Jr.parameters,docs:{...(uo=Jr.parameters)==null?void 0:uo.docs,source:{originalSource:`{
  name: 'JsonSchema com dados e somente leitura',
  render: () => <ArchbaseJsonSchemaEditorExample data={initialSchemaWithData} readonly={true} />
}`,...(fo=(lo=Jr.parameters)==null?void 0:lo.docs)==null?void 0:fo.source}}};const sp=["NewJsonSchema","WithData","WithDataAndReadOnly"];export{Gr as NewJsonSchema,Br as WithData,Jr as WithDataAndReadOnly,sp as __namedExportsOrder,op as default};
