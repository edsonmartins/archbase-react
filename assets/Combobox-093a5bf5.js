import{j as C,a as me}from"./jsx-runtime-c9381026.js";import{f as O,u as w,h as Q,B as T,i as W,q as _,j as J,r as fe}from"./polymorphic-factory-0a97ecf2.js";import{r as u}from"./index-8b3efc3f.js";import{P as $}from"./Popover-5fa62701.js";import{c as xe}from"./create-safe-context-941c9e18.js";import{C as he}from"./CloseButton-4d8718b4.js";import{i as L}from"./OptionalPortal-f36e0e00.js";import{a as Ce}from"./use-floating-auto-update-be0bf837.js";import{u as q}from"./use-merged-ref-add91123.js";import{u as ye}from"./use-id-f896cdc5.js";import{I as ge}from"./Input-fd05546d.js";import{u as ve}from"./use-uncontrolled-f56237fb.js";var A={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const we={error:null},Se=W((s,{size:e})=>({chevron:{"--combobox-chevron-size":_(e,"combobox-chevron-size")}})),F=O((s,e)=>{const t=w("ComboboxChevron",we,s),{size:o,error:c,style:l,className:r,classNames:d,styles:n,unstyled:a,vars:p,mod:i,...m}=t,y=Q({name:"ComboboxChevron",classes:A,props:t,style:l,className:r,classNames:d,styles:n,unstyled:a,vars:p,varsResolver:Se,rootSelector:"chevron"});return C(T,{component:"svg",...m,...y("chevron"),size:o,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:c},i],ref:e,children:C("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});F.classes=A;F.displayName="@mantine/core/ComboboxChevron";const[Oe,N]=xe("Combobox component was not found in tree"),X=u.forwardRef(({size:s,onMouseDown:e,onClick:t,onClear:o,...c},l)=>C(he,{ref:l,size:s||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...c,onMouseDown:r=>{r.preventDefault(),e==null||e(r)},onClick:r=>{o(),t==null||t(r)}}));X.displayName="@mantine/core/ComboboxClearButton";const Ae={},H=O((s,e)=>{const{classNames:t,styles:o,className:c,style:l,hidden:r,...d}=w("ComboboxDropdown",Ae,s),n=N();return C($.Dropdown,{...d,ref:e,role:"presentation","data-hidden":r||void 0,...n.getStyles("dropdown",{className:c,style:l,classNames:t,styles:o})})});H.classes=A;H.displayName="@mantine/core/ComboboxDropdown";const Ne={refProp:"ref"},Y=O((s,e)=>{const{children:t,refProp:o}=w("ComboboxDropdownTarget",Ne,s);if(N(),!L(t))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return C($.Target,{ref:e,refProp:o,children:t})});Y.displayName="@mantine/core/ComboboxDropdownTarget";const Ie={},z=O((s,e)=>{const{classNames:t,className:o,style:c,styles:l,vars:r,...d}=w("ComboboxEmpty",Ie,s),n=N();return C(T,{ref:e,...n.getStyles("empty",{className:o,classNames:t,styles:l,style:c}),...d})});z.classes=A;z.displayName="@mantine/core/ComboboxEmpty";function K({onKeyDown:s,withKeyboardNavigation:e,withAriaAttributes:t,withExpandedAttribute:o,targetType:c,autoComplete:l}){const r=N(),[d,n]=u.useState(null),a=i=>{if(s==null||s(i),!r.readOnly&&e){if(i.nativeEvent.isComposing)return;if(i.nativeEvent.code==="ArrowDown"&&(i.preventDefault(),r.store.dropdownOpened?n(r.store.selectNextOption()):(r.store.openDropdown("keyboard"),n(r.store.selectActiveOption()),r.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),i.nativeEvent.code==="ArrowUp"&&(i.preventDefault(),r.store.dropdownOpened?n(r.store.selectPreviousOption()):(r.store.openDropdown("keyboard"),n(r.store.selectActiveOption()),r.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),i.nativeEvent.code==="Enter"||i.nativeEvent.code==="NumpadEnter"){if(i.nativeEvent.keyCode===229)return;const m=r.store.getSelectedOptionIndex();r.store.dropdownOpened&&m!==-1?(i.preventDefault(),r.store.clickSelectedOption()):c==="button"&&(i.preventDefault(),r.store.openDropdown("keyboard"))}i.nativeEvent.code==="Escape"&&r.store.closeDropdown("keyboard"),i.nativeEvent.code==="Space"&&c==="button"&&(i.preventDefault(),r.store.toggleDropdown("keyboard"))}};return{...t?{"aria-haspopup":"listbox","aria-expanded":o&&!!(r.store.listId&&r.store.dropdownOpened)||void 0,"aria-controls":r.store.dropdownOpened?r.store.listId:void 0,"aria-activedescendant":r.store.dropdownOpened&&d||void 0,autoComplete:l,"data-expanded":r.store.dropdownOpened||void 0,"data-mantine-stop-propagation":r.store.dropdownOpened||void 0}:{},onKeyDown:a}}const Ee={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ee=O((s,e)=>{const{children:t,refProp:o,withKeyboardNavigation:c,withAriaAttributes:l,withExpandedAttribute:r,targetType:d,autoComplete:n,...a}=w("ComboboxEventsTarget",Ee,s);if(!L(t))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const p=N(),i=K({targetType:d,withAriaAttributes:l,withKeyboardNavigation:c,withExpandedAttribute:r,onKeyDown:t.props.onKeyDown,autoComplete:n});return u.cloneElement(t,{...i,...a,[o]:q(e,p.store.targetRef,Ce(t))})});ee.displayName="@mantine/core/ComboboxEventsTarget";const Pe={},V=O((s,e)=>{const{classNames:t,className:o,style:c,styles:l,vars:r,...d}=w("ComboboxFooter",Pe,s),n=N();return C(T,{ref:e,...n.getStyles("footer",{className:o,classNames:t,style:c,styles:l}),...d,onMouseDown:a=>{a.preventDefault()}})});V.classes=A;V.displayName="@mantine/core/ComboboxFooter";const Te={},B=O((s,e)=>{const{classNames:t,className:o,style:c,styles:l,vars:r,children:d,label:n,...a}=w("ComboboxGroup",Te,s),p=N();return me(T,{ref:e,...p.getStyles("group",{className:o,classNames:t,style:c,styles:l}),...a,children:[n&&C("div",{...p.getStyles("groupLabel",{classNames:t,styles:l}),children:n}),d]})});B.classes=A;B.displayName="@mantine/core/ComboboxGroup";const ke={},j=O((s,e)=>{const{classNames:t,className:o,style:c,styles:l,vars:r,...d}=w("ComboboxHeader",ke,s),n=N();return C(T,{ref:e,...n.getStyles("header",{className:o,classNames:t,style:c,styles:l}),...d,onMouseDown:a=>{a.preventDefault()}})});j.classes=A;j.displayName="@mantine/core/ComboboxHeader";function oe({value:s,valuesDivider:e=",",...t}){return C("input",{type:"hidden",value:Array.isArray(s)?s.join(e):s||"",...t})}oe.displayName="@mantine/core/ComboboxHiddenInput";const De={},G=O((s,e)=>{const t=w("ComboboxOption",De,s),{classNames:o,className:c,style:l,styles:r,vars:d,onClick:n,id:a,active:p,onMouseDown:i,onMouseOver:m,disabled:y,selected:I,mod:k,...P}=t,g=N(),D=u.useId(),E=a||D;return C(T,{...g.getStyles("option",{className:c,classNames:o,styles:r,style:l}),...P,ref:e,id:E,mod:["combobox-option",{"combobox-active":p,"combobox-disabled":y,"combobox-selected":I},k],role:"option",onClick:f=>{var R;y?f.preventDefault():((R=g.onOptionSubmit)==null||R.call(g,t.value,t),n==null||n(f))},onMouseDown:f=>{f.preventDefault(),i==null||i(f)},onMouseOver:f=>{g.resetSelectionOnOptionHover&&g.store.resetSelectedOption(),m==null||m(f)}})});G.classes=A;G.displayName="@mantine/core/ComboboxOption";const Re={},M=O((s,e)=>{const t=w("ComboboxOptions",Re,s),{classNames:o,className:c,style:l,styles:r,id:d,onMouseDown:n,labelledBy:a,...p}=t,i=N(),m=ye(d);return u.useEffect(()=>{i.store.setListId(m)},[m]),C(T,{ref:e,...i.getStyles("options",{className:c,style:l,classNames:o,styles:r}),...p,id:m,role:"listbox","aria-labelledby":a,onMouseDown:y=>{y.preventDefault(),n==null||n(y)}})});M.classes=A;M.displayName="@mantine/core/ComboboxOptions";const $e={withAriaAttributes:!0,withKeyboardNavigation:!0},U=O((s,e)=>{const t=w("ComboboxSearch",$e,s),{classNames:o,styles:c,unstyled:l,vars:r,withAriaAttributes:d,onKeyDown:n,withKeyboardNavigation:a,size:p,...i}=t,m=N(),y=m.getStyles("search"),I=K({targetType:"input",withAriaAttributes:d,withKeyboardNavigation:a,withExpandedAttribute:!1,onKeyDown:n,autoComplete:"off"});return C(ge,{ref:q(e,m.store.searchRef),classNames:[{input:y.className},o],styles:[{input:y.style},c],size:p||m.size,...I,...i,__staticSelector:"Combobox"})});U.classes=A;U.displayName="@mantine/core/ComboboxSearch";const _e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},te=O((s,e)=>{const{children:t,refProp:o,withKeyboardNavigation:c,withAriaAttributes:l,withExpandedAttribute:r,targetType:d,autoComplete:n,...a}=w("ComboboxTarget",_e,s);if(!L(t))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const p=N(),i=K({targetType:d,withAriaAttributes:l,withKeyboardNavigation:c,withExpandedAttribute:r,onKeyDown:t.props.onKeyDown,autoComplete:n}),m=u.cloneElement(t,{...i,...a});return C($.Target,{ref:q(e,p.store.targetRef),children:m})});te.displayName="@mantine/core/ComboboxTarget";function Le(s,e,t){for(let o=s-1;o>=0;o-=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o;if(t){for(let o=e.length-1;o>-1;o-=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o}return s}function qe(s,e,t){for(let o=s+1;o<e.length;o+=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o;if(t){for(let o=0;o<e.length;o+=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o}return s}function Fe(s){for(let e=0;e<s.length;e+=1)if(!s[e].hasAttribute("data-combobox-disabled"))return e;return-1}function He({defaultOpened:s,opened:e,onOpenedChange:t,onDropdownClose:o,onDropdownOpen:c,loop:l=!0,scrollBehavior:r="instant"}={}){const[d,n]=ve({value:e,defaultValue:s,finalValue:!1,onChange:t}),a=u.useRef(null),p=u.useRef(-1),i=u.useRef(null),m=u.useRef(null),y=u.useRef(-1),I=u.useRef(-1),k=u.useRef(-1),P=u.useCallback((b="unknown")=>{d||(n(!0),c==null||c(b))},[n,c,d]),g=u.useCallback((b="unknown")=>{d&&(n(!1),o==null||o(b))},[n,o,d]),D=u.useCallback((b="unknown")=>{d?g(b):P(b)},[g,P,d]),E=u.useCallback(()=>{const b=document.querySelector(`#${a.current} [data-combobox-selected]`);b==null||b.removeAttribute("data-combobox-selected"),b==null||b.removeAttribute("aria-selected")},[]),f=u.useCallback(b=>{const v=document.getElementById(a.current),h=v==null?void 0:v.querySelectorAll("[data-combobox-option]");if(!h)return null;const S=b>=h.length?0:b<0?h.length-1:b;return p.current=S,h!=null&&h[S]&&!h[S].hasAttribute("data-combobox-disabled")?(E(),h[S].setAttribute("data-combobox-selected","true"),h[S].setAttribute("aria-selected","true"),h[S].scrollIntoView({block:"nearest",behavior:r}),h[S].id):null},[r,E]),R=u.useCallback(()=>{const b=document.querySelector(`#${a.current} [data-combobox-active]`);if(b){const v=document.querySelectorAll(`#${a.current} [data-combobox-option]`),h=Array.from(v).findIndex(S=>S===b);return f(h)}return f(0)},[f]),re=u.useCallback(()=>f(qe(p.current,document.querySelectorAll(`#${a.current} [data-combobox-option]`),l)),[f,l]),se=u.useCallback(()=>f(Le(p.current,document.querySelectorAll(`#${a.current} [data-combobox-option]`),l)),[f,l]),ne=u.useCallback(()=>f(Fe(document.querySelectorAll(`#${a.current} [data-combobox-option]`))),[f]),ae=u.useCallback((b="selected",v)=>{k.current=window.setTimeout(()=>{var Z;const h=document.querySelectorAll(`#${a.current} [data-combobox-option]`),S=Array.from(h).findIndex(pe=>pe.hasAttribute(`data-combobox-${b}`));p.current=S,v!=null&&v.scrollIntoView&&((Z=h[S])==null||Z.scrollIntoView({block:"nearest",behavior:r}))},0)},[]),ce=u.useCallback(()=>{p.current=-1,E()},[E]),ie=u.useCallback(()=>{const b=document.querySelectorAll(`#${a.current} [data-combobox-option]`),v=b==null?void 0:b[p.current];v==null||v.click()},[]),le=u.useCallback(b=>{a.current=b},[]),de=u.useCallback(()=>{y.current=window.setTimeout(()=>i.current.focus(),0)},[]),ue=u.useCallback(()=>{I.current=window.setTimeout(()=>m.current.focus(),0)},[]),be=u.useCallback(()=>p.current,[]);return u.useEffect(()=>()=>{window.clearTimeout(y.current),window.clearTimeout(I.current),window.clearTimeout(k.current)},[]),{dropdownOpened:d,openDropdown:P,closeDropdown:g,toggleDropdown:D,selectedOptionIndex:p.current,getSelectedOptionIndex:be,selectOption:f,selectFirstOption:ne,selectActiveOption:R,selectNextOption:re,selectPreviousOption:se,resetSelectedOption:ce,updateSelectedOptionIndex:ae,listId:a.current,setListId:le,clickSelectedOption:ie,searchRef:i,focusSearchInput:de,targetRef:m,focusTarget:ue}}const ze={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Ke=W((s,{size:e,dropdownPadding:t})=>({options:{"--combobox-option-fz":J(e),"--combobox-option-padding":_(e,"combobox-option-padding")},dropdown:{"--combobox-padding":t===void 0?void 0:fe(t),"--combobox-option-fz":J(e),"--combobox-option-padding":_(e,"combobox-option-padding")}}));function x(s){const e=w("Combobox",ze,s),{classNames:t,styles:o,unstyled:c,children:l,store:r,vars:d,onOptionSubmit:n,onClose:a,size:p,dropdownPadding:i,resetSelectionOnOptionHover:m,__staticSelector:y,readOnly:I,...k}=e,P=He(),g=r||P,D=Q({name:y||"Combobox",classes:A,props:e,classNames:t,styles:o,unstyled:c,vars:d,varsResolver:Ke}),E=()=>{a==null||a(),g.closeDropdown()};return C(Oe,{value:{getStyles:D,store:g,onOptionSubmit:n,size:p,resetSelectionOnOptionHover:m,readOnly:I},children:C($,{opened:g.dropdownOpened,...k,onChange:f=>!f&&E(),withRoles:!1,unstyled:c,children:l})})}const Ve=s=>s;x.extend=Ve;x.classes=A;x.displayName="@mantine/core/Combobox";x.Target=te;x.Dropdown=H;x.Options=M;x.Option=G;x.Search=U;x.Empty=z;x.Chevron=F;x.Footer=V;x.Header=j;x.EventsTarget=ee;x.DropdownTarget=Y;x.Group=B;x.ClearButton=X;x.HiddenInput=oe;export{x as C,te as a,H as b,A as c,He as u};
