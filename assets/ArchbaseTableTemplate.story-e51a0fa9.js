import{j as u,a as N}from"./jsx-runtime-c9381026.js";import{A as xe,T as Ee,C as Re,a as A,b as Se}from"./masker-adf58849.js";import{t as S}from"./i18next-a4b2730f.js";import{B as qe}from"./polymorphic-factory-8fbd487e.js";import{B as Ae}from"./Badge-e66d9f74.js";import{u as Pe}from"./useArchbaseRemoteServiceApi-a894bff1.js";import{A as Ne}from"./DemoIOCTypes-d657846a.js";import{u as De,a as Ie}from"./useArchbaseDataSource-c5d317be.js";import{u as _e}from"./useArchbaseRemoteDataSource-5844b268.js";import{A as Ce,u as ke}from"./useArchbaseLocalFilterDataSource-d8968afd.js";import{u as G,D as $e}from"./useArchbaseDataSourceListener-92dd263c.js";import{c as Be}from"./index-673ae7f2.js";import{r as v}from"./index-8b3efc3f.js";import{P as M}from"./types-5decf4ed.js";import"./index-9e992aa6.js";import{u as Me}from"./useArchbaseTheme-7c3c2f27.js";/* empty css                 */import"./ArchbaseGlobalFilter-b35e5569.js";import{f as H}from"./index-7792ba32.js";import{b as f,e as je}from"./index-f91c0534.js";import{u as Le}from"./use-mantine-color-scheme-bbd48c20.js";import{P as Ue}from"./Paper-c978ba1b.js";import{A as We}from"./ArchbaseAlert-42065d5a.js";import{I as Oe}from"./IconBug-b91acd15.js";import{F as Ke}from"./Flex-fe68dc37.js";import{B as I}from"./Button-b17c03b7.js";import{I as Ge}from"./IconPlus-ae63da25.js";import{I as He,a as ze}from"./IconEye-cd265c03.js";import{I as Je}from"./IconTrash-6b16e91d.js";import{u as Qe}from"./ArchbaseAppContext-9f97b1d7.js";import{G as z}from"./Grid-7c641e6e.js";import{p as Ye}from"./pessoasData-6b8000da.js";import{A as Xe}from"./ArchbaseNotifications-3bf0a446.js";import"./_commonjsHelpers-de833af9.js";import"./iframe-3696fbbc.js";import"../sb-preview/runtime.js";import"./index-d0400ba7.js";import"./index-a38d0dca.js";import"./DirectionProvider-1e219af7.js";import"./create-safe-context-941c9e18.js";import"./Text-abd6ac62.js";import"./Menu-66fae8df.js";import"./create-scoped-keydown-handler-870d0701.js";import"./use-resolved-styles-api-24bd5fc4.js";import"./Popover-5ab04bc2.js";import"./OptionalPortal-9514e460.js";import"./use-isomorphic-effect-aa890e3d.js";import"./use-merged-ref-add91123.js";import"./use-floating-auto-update-3ec0cee2.js";import"./use-did-update-bccd292e.js";import"./FocusTrap-c39ce1bd.js";import"./use-id-3df0f1f4.js";import"./Transition-1b2bc7c1.js";import"./use-reduced-motion-98306cff.js";import"./use-media-query-78751440.js";import"./use-uncontrolled-f56237fb.js";import"./UnstyledButton-a7b3e9d9.js";import"./Tooltip-d8f846be.js";import"./get-style-object-71cabcb5.js";import"./createReactComponent-60e598cf.js";import"./index-9d475cdf.js";import"./IconChevronDown-98fe7a40.js";import"./IconChevronLeft-b0ea9c8b.js";import"./IconChevronRight-7b46ea5c.js";import"./IconDeviceFloppy-e64fda70.js";import"./IconDots-c503a9bc.js";import"./IconFilter-b6b2ffb4.js";import"./IconSearch-4ec0977e.js";import"./IconX-efebeb5f.js";import"./Select-448551a2.js";import"./OptionsDropdown-8794fc40.js";import"./CheckIcon-faa2ad1e.js";import"./ScrollArea-5c50f26d.js";import"./Combobox-b11f7ddd.js";import"./CloseButton-55dafc48.js";import"./Input-77c95749.js";import"./create-optional-context-86e78b6c.js";import"./InputBase-6a6c9da1.js";import"./use-input-props-0d35260a.js";import"./TextInput-1c7cbb5e.js";import"./Accordion-03ca2bcb.js";import"./AccordionChevron-bf2392a8.js";import"./LoadingOverlay-e693fcc3.js";import"./Loader-279e7115.js";import"./Modal-858d67c8.js";import"./use-window-event-860a85e7.js";import"./Switch-66cb06e0.js";import"./InputsGroupFieldset-bbd524dc.js";import"./ActionIcon-3fa09022.js";import"./Radio-d6a98267.js";import"./get-contrast-color-a195ce64.js";import"./get-auto-contrast-value-58024fc4.js";import"./Checkbox-6efa47f7.js";import"./Alert-eb479cda.js";import"./Stack-a757551d.js";import"./Progress-dd1cb380.js";import"./Group-085e5d86.js";import"./use-debounced-value-a36920eb.js";import"./MultiSelect-3f02d5bc.js";import"./dayjs.min-5b59225a.js";import"./pick-calendar-levels-props-e45f0ffb.js";import"./DatesProvider-b737956c.js";import"./clamp-73f6bef2.js";import"./use-move-ca41e3cc.js";import"./useTranslation-263f67a6.js";import"./context-3b2264a0.js";import"./px-90b8b31c.js";import"./Chip-96ca432a.js";import"./DatePickerInput-a25a6509.js";import"./IconRefresh-112158d7.js";import"./string-utils-046f5c60.js";import"./index-1905cc86.js";import"./index-07970463.js";import"./index-bd3702cd.js";import"./setPrototypeOf-375db7f1.js";import"./isNativeReflectConstruct-4e5fac16.js";import"./createClass-0cf05130.js";import"./Mantine.context-1df84d45.js";import"./ArchbaseIOCTypes-0b6d6545.js";import"./IsNotEmpty-d2b4946f.js";import"./v4-4a60fe23.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./___vite-browser-external_commonjs-proxy-698e55bb.js";import"./lodash-4d0be66a.js";import"./index-2e8af730.js";import"./Card-2d38024c.js";import"./Space-103726a6.js";import"./ArchbaseList-c18dd45d.js";import"./Image-531829f3.js";import"./ArchbaseDateTimePickerRange-d03b7ba8.js";import"./input-30511812.js";import"./IconCalendar-cbd6718a.js";import"./TimeInput-f6ad37be.js";import"./ArchbaseSwitch-65f98d84.js";import"./use-force-update-11fe72c1.js";import"./ArchbaseSelect-9f209dd4.js";import"./ArchbaseAsyncSelect.context-0429ae81.js";import"./ArchbaseSelectItem-d056b8eb.js";import"./ArchbaseEdit-8ccb0ae2.js";import"./ArchbaseDialog-2c99c3fa.js";import"./use-local-storage-ec4454b3.js";import"./get-sorted-breakpoints-91e0685a.js";import"./notifications.store-79c361f9.js";import"./store-704b6bc9.js";function Ze(t){const o=[];if(t.filter.rules){const n=re(t.filter.condition,t.filter.rules);return t.sort&&t.sort.sortFields&&t.sort.sortFields.forEach(r=>{r.selected&&o.push(r.name+":"+r.asc_desc)}),{expressionNode:n,sortStrings:o}}return null}function re(t,o){let n=f.and;t==="or"&&(n=f.or);const r=[];return o.forEach(a=>{if(a.field&&!a.disabled){let e=a.value,i=a.value2;e&&e!==""&&(typeof e=="number"||e instanceof Date)&&(a.dataType==="date"||a.dataType==="date_time")&&(e=J(a,e)),i&&i!==""&&(typeof i=="number"||i instanceof Date)&&(a.dataType==="date"||a.dataType==="date_time")&&(i=J(a,i)),a.operator==="null"?r.push(f.eq(a.field,"null")):a.operator==="notNull"?r.push(f.neq(a.field,"null")):a.operator==="contains"&&e&&e!==""?r.push(f.eq(a.field,`^*${e}*`)):a.operator==="startsWith"&&e&&e!==""?r.push(f.eq(a.field,`^${e}*`)):a.operator==="endsWith"&&e&&e!==""&&(typeof e=="string"||typeof e=="number")?r.push(f.eq(a.field,`^*${e}`)):a.operator==="="&&e&&e!==""&&(typeof e=="string"||typeof e=="number")?r.push(f.eq(a.field,e)):a.operator==="!="&&e&&e!==""&&(typeof e=="string"||typeof e=="number")?r.push(f.neq(a.field,e)):a.operator==="<"&&e&&e!==""&&(typeof e=="string"||typeof e=="number")?r.push(f.lt(a.field,e)):a.operator===">"&&e&&e!==""&&(typeof e=="string"||typeof e=="number")?r.push(f.gt(a.field,e)):a.operator==="<="&&e&&e!==""&&(typeof e=="string"||typeof e=="number")?r.push(f.le(a.field,e)):a.operator===">="&&e&&e!==""&&(typeof e=="string"||typeof e=="number")?r.push(f.ge(a.field,e)):a.operator==="between"&&e&&e!==""&&i&&i!==""&&(typeof e=="string"||typeof e=="number")&&(typeof i=="string"||typeof i=="number")?r.push(f.bt(a.field,e,i)):a.operator==="notBetween"&&e&&e!==""&&i&&i!==""&&(typeof e=="string"||typeof e=="number")&&(typeof i=="string"||typeof i=="number")?r.push(f.nb(a.field,e,i)):a.operator==="inList"&&e&&e!==""&&Array.isArray(e)?r.push(f.in(a.field,e)):a.operator==="notInList"&&e&&e!==""&&Array.isArray(e)&&r.push(f.out(a.field,e))}a.rules&&!a.disabled&&r.push(re(a.condition,a.rules))}),n(...r)}function J(t,o){if(t.dataType==="date")return H(o,{representation:"date"});if(t.dataType==="date_time")return H(o,{representation:"complete"})}function j({currentValue:t,values:o}){const n=o.findIndex(r=>r.value.toString()===t);return n!==-1?u(qe,{children:u(Ae,{color:o[n].color,children:S(o[n].label)})}):null}try{j.displayName="ArchbaseItemRender",j.__docgenInfo={description:"",displayName:"ArchbaseItemRender",props:{currentValue:{defaultValue:null,description:"",name:"currentValue",required:!0,type:{name:"string"}},values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"ArchbaseItemRenderType[]"}}}}}catch{}const et=(t,o,n)=>{var r;if(!t||!o||!o.existsValue(`${t.viewName}_${t.componentName}`)){let a=-1,e;return n&&n.getFilters().length>0&&(a=0,e=JSON.parse((r=n.getFirstFilter())==null?void 0:r.filter)),{activeFilterIndex:a,expandedFilter:!1,currentFilter:e}}return o.getValue(`${t.viewName}_${t.componentName}`)};function k({title:t,printTitle:o,dataSource:n,filterOptions:r,pageSize:a,columns:e,filterFields:i,logoPrint:p,userActions:l,userRowActions:s,innerRef:c,isLoading:d=!1,isLoadingFilter:w=!1,isError:q=!1,enableTopToolbar:y=!0,error:h="",clearError:F=()=>{},filterType:R="normal",width:ie="100%",height:le="100%",onSearchByFilter:W,withBorder:O=!0,filterPersistenceDelegator:K,variant:x,store:g,cellPadding:se,bottomToolbarMinHeight:pe,enableRowSelection:ue,tableHeadCellPadding:ce,renderDetailPanel:me}){const E=Qe(),de=v.useRef();v.useRef(),Me(),Le();const[b,D]=v.useState({activeFilterIndex:-1,currentFilter:void 0,expandedFilter:!1});v.useEffect(()=>{const m=et(r,g,K);D(m)},[w]);const fe=({row:m})=>{if(!s&&!s.actions)return;const V=s.actions;return u(V,{onEditRow:s.onEditRow,onRemoveRow:s.onRemoveRow,onViewRow:s.onViewRow,row:m,variant:x??E.variant})},he=(m,V)=>{const T={...b,currentFilter:m,activeFilterIndex:V};D(T),g&&r&&(g==null||g.setValue(`${r.viewName}_${r.componentName}`,T))},be=m=>{const V={...b,expandedFilter:m};D(V),g&&r&&(g==null||g.setValue(`${r.viewName}_${r.componentName}`,V))},ye=(m,V)=>{const T={...b,currentFilter:m,activeFilterIndex:V};D(T),g&&r&&(g==null||g.setValue(`${r.viewName}_${r.componentName}`,T))},ge=()=>{if(b.currentFilter)if(W)W();else if(b.currentFilter.filter.filterType==="quick"){const m=n.getOptions();b.currentFilter.filter.quickFilterText&&b.currentFilter.filter.quickFilterText!==""?(m.filter=JSON.stringify({search:b.currentFilter.filter.quickFilterText,fields:b.currentFilter.filter.quickFilterFieldsText}),m.sort=b.currentFilter.sort.quickFilterSort?b.currentFilter.sort.quickFilterSort.split(","):[]):(m.filter=void 0,m.sort=void 0),n.refreshData(m)}else{const m=Ze(b.currentFilter);if(m&&m.expressionNode){const V=je(m.expressionNode),T=n.getOptions();T.filter=V,T.sort=m==null?void 0:m.sortStrings,n.refreshData(T)}}};let $,B;const ve=m=>{$=m},we=m=>{B=m},Ve=()=>{B&&B()},Fe=()=>{$&&$()},Te=()=>u(Ce,{id:r==null?void 0:r.componentName,viewName:r==null?void 0:r.viewName,apiVersion:r==null?void 0:r.apiVersion,ref:de,variant:x??E.variant,expandedFilter:b.expandedFilter,persistenceDelegator:K,currentFilter:b.currentFilter,activeFilterIndex:b.activeFilterIndex,onSelectedFilter:ye,onFilterChanged:he,onSearchByFilter:ge,onToggleExpandedFilter:be,onExport:Ve,onPrint:Fe,showExportButton:!0,showPrintButton:!0,width:"560px",height:"170px",children:i});return N(Ue,{withBorder:O,ref:c,style:{overflow:"none",height:"calc(100% - 4px)"},children:[q?u(We,{autoClose:2e4,withCloseButton:!0,withBorder:!0,icon:u(Oe,{size:"1.4rem"}),title:S("archbase:WARNING"),titleColor:"rgb(250, 82, 82)",variant:x??E.variant,onClose:()=>F&&F(),children:u("span",{children:h})}):null,N(xe,{printTitle:o||t,logoPrint:p,width:ie,height:le,withBorder:O,dataSource:n,withColumnBorders:!0,variant:x??E.variant,striped:!0,isLoading:d,enableTopToolbar:y,pageSize:a,isError:q,enableGlobalFilter:R==="normal",renderToolbarInternalActions:R==="advanced"?Te:void 0,renderRowActions:fe,error:u("span",{children:h}),onExport:we,onPrint:ve,cellPadding:se,bottomToolbarMinHeight:pe,enableRowSelection:ue,tableHeadCellPadding:ce,renderDetailPanel:me,children:[e,l!=null&&l.visible?u(Ee,{children:N(v.Fragment,{children:[u("h3",{className:"only-print",children:o||t}),u("div",{className:"no-print",children:N(Ke,{gap:"8px",rowGap:"8px",children:[l.customUserActions&&l.customUserActionsPosition==="left"?l.customUserActions:null,l.onAddExecute?u(I,{color:"green",variant:x??E.variant,leftSection:u(Ge,{}),onClick:()=>l&&l.onAddExecute&&l.onAddExecute(),children:S("archbase:New")}):null,l.onEditExecute?u(I,{color:"blue",leftSection:u(He,{}),disabled:!n.isBrowsing()||n.isEmpty(),variant:x??E.variant,onClick:()=>l&&l.onEditExecute&&l.onEditExecute(),children:S("archbase:Edit")}):null,l.onRemoveExecute?u(I,{color:"red",leftSection:u(Je,{}),disabled:!(l!=null&&l.allowRemove)||!n.isBrowsing()||n.isEmpty(),variant:x??E.variant,onClick:()=>l&&l.onRemoveExecute&&l.onRemoveExecute(),children:S("archbase:Remove")}):null,l.onViewExecute?u(I,{color:"silver",leftSection:u(ze,{}),disabled:!n.isBrowsing()||n.isEmpty(),variant:x??E.variant,onClick:()=>l&&l.onViewExecute&&l.onViewExecute(),children:S("archbase:View")}):null,l.customUserActions&&l.customUserActionsPosition==="right"?l.customUserActions:null]})})]})}):null]})]})}try{k.displayName="ArchbaseTableTemplate",k.__docgenInfo={description:"",displayName:"ArchbaseTableTemplate",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},printTitle:{defaultValue:null,description:"",name:"printTitle",required:!1,type:{name:"string"}},logoPrint:{defaultValue:null,description:"",name:"logoPrint",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"filled"'},{value:'"outline"'},{value:'"default"'},{value:'"transparent"'},{value:'"white"'},{value:'"subtle"'},{value:'"gradient"'}]}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"ArchbaseDataSource<T, ID>"}},dataSourceEdition:{defaultValue:null,description:"",name:"dataSourceEdition",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"ArchbaseStateValues"}},filterType:{defaultValue:{value:"normal"},description:"",name:"filterType",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"normal"'},{value:'"advanced"'}]}},filterOptions:{defaultValue:null,description:"",name:"filterOptions",required:!1,type:{name:"FilterOptions"}},filterPersistenceDelegator:{defaultValue:null,description:"",name:"filterPersistenceDelegator",required:!1,type:{name:"ArchbaseQueryFilterDelegator"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!1,type:{name:"number"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ReactNode"}},filterFields:{defaultValue:null,description:"",name:"filterFields",required:!1,type:{name:"ReactNode"}},userActions:{defaultValue:null,description:"",name:"userActions",required:!1,type:{name:"UserActionsOptions"}},userRowActions:{defaultValue:null,description:"",name:"userRowActions",required:!1,type:{name:"UserRowActionsOptions<T>"}},innerRef:{defaultValue:null,description:"",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},isLoadingFilter:{defaultValue:{value:"false"},description:"",name:"isLoadingFilter",required:!1,type:{name:"boolean"}},isError:{defaultValue:{value:"false"},description:"",name:"isError",required:!1,type:{name:"boolean"}},error:{defaultValue:{value:""},description:"",name:"error",required:!1,type:{name:"string"}},clearError:{defaultValue:{value:"() => {}"},description:"",name:"clearError",required:!1,type:{name:"() => void"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"100%"},description:"",name:"height",required:!1,type:{name:"string | number"}},onSearchByFilter:{defaultValue:null,description:"",name:"onSearchByFilter",required:!1,type:{name:"() => void"}},withBorder:{defaultValue:{value:"true"},description:"",name:"withBorder",required:!1,type:{name:"boolean"}},enableTopToolbar:{defaultValue:{value:"true"},description:"",name:"enableTopToolbar",required:!1,type:{name:"boolean"}},cellPadding:{defaultValue:null,description:"",name:"cellPadding",required:!1,type:{name:"string | number"}},bottomToolbarMinHeight:{defaultValue:null,description:"",name:"bottomToolbarMinHeight",required:!1,type:{name:"string | number"}},enableRowSelection:{defaultValue:null,description:"",name:"enableRowSelection",required:!1,type:{name:"boolean"}},tableHeadCellPadding:{defaultValue:null,description:"",name:"tableHeadCellPadding",required:!1,type:{name:"string | number"}},renderDetailPanel:{defaultValue:null,description:"",name:"renderDetailPanel",required:!1,type:{name:"(props: { row: MRT_Row<T>; table: MRT_TableInstance<T>; }) => ReactNode"}}}}}catch{}const tt=Symbol(),ae=Symbol(),P="a",C="w";let rt=(t,o)=>new Proxy(t,o);const L=Object.getPrototypeOf,Q=new WeakMap,at=t=>t&&(Q.has(t)?Q.get(t):L(t)===Object.prototype||L(t)===Array.prototype),Y=t=>typeof t=="object"&&t!==null,ot=t=>{if(Array.isArray(t))return Array.from(t);const o=Object.getOwnPropertyDescriptors(t);return Object.values(o).forEach(n=>{n.configurable=!0}),Object.create(L(t),o)},oe=t=>t[ae]||t,ne=(t,o,n,r)=>{if(!at(t))return t;let a=r&&r.get(t);if(!a){const l=oe(t);a=(s=>Object.values(Object.getOwnPropertyDescriptors(s)).some(c=>!c.configurable&&!c.writable))(l)?[l,ot(l)]:[l],r==null||r.set(t,a)}const[e,i]=a;let p=n&&n.get(e);return p&&p[1].f===!!i||(p=((l,s)=>{const c={f:s};let d=!1;const w=(y,h)=>{if(!d){let F=c[P].get(l);if(F||(F={},c[P].set(l,F)),y===C)F[C]=!0;else{let R=F[y];R||(R=new Set,F[y]=R),R.add(h)}}},q={get:(y,h)=>h===ae?l:(w("k",h),ne(Reflect.get(y,h),c[P],c.c,c.t)),has:(y,h)=>h===tt?(d=!0,c[P].delete(l),!0):(w("h",h),Reflect.has(y,h)),getOwnPropertyDescriptor:(y,h)=>(w("o",h),Reflect.getOwnPropertyDescriptor(y,h)),ownKeys:y=>(w(C),Reflect.ownKeys(y))};return s&&(q.set=q.deleteProperty=()=>!1),[q,c]})(e,!!i),p[1].p=rt(i||e,p[0]),n&&n.set(e,p)),p[1][P]=o,p[1].c=n,p[1].t=r,p[1].p},U=(t,o,n,r,a=Object.is)=>{if(a(t,o))return!1;if(!Y(t)||!Y(o))return!0;const e=n.get(oe(t));if(!e)return!0;if(r){const p=r.get(t);if(p&&p.n===o)return p.g;r.set(t,{n:o,g:!1})}let i=null;try{for(const p of e.h||[])if(i=Reflect.has(t,p)!==Reflect.has(o,p),i)return i;if(e[C]===!0){if(i=((p,l)=>{const s=Reflect.ownKeys(p),c=Reflect.ownKeys(l);return s.length!==c.length||s.some((d,w)=>d!==c[w])})(t,o),i)return i}else for(const p of e.o||[])if(i=!!Reflect.getOwnPropertyDescriptor(t,p)!=!!Reflect.getOwnPropertyDescriptor(o,p),i)return i;for(const p of e.k||[])if(i=U(t[p],o[p],n,r,a),i)return i;return i===null&&(i=!0),i}finally{r&&r.set(t,{n:o,g:i})}};const nt=t=>()=>{const[,n]=v.useReducer(c=>c+1,0),r=new WeakMap,a=v.useRef(),e=v.useRef(),i=v.useRef();v.useEffect(()=>{a.current=r,e.current!==i.current&&U(e.current,i.current,r,new WeakMap)&&(e.current=i.current,n())});const p=v.useCallback(c=>(i.current=c,e.current&&e.current!==c&&a.current&&!U(e.current,c,a.current,new WeakMap)?e.current:(e.current=c,c)),[]),l=t(p),s=v.useMemo(()=>new WeakMap,[]);return ne(l,r,s)},it=Be((t,o)=>({values:new Map,setValue:(n,r)=>t(a=>{const e=new Map(a.values);return e.set(n,r),{values:e}}),getValue:n=>o().values.get(n),existsValue:n=>o().values.has(n),clearValue:n=>t(r=>{const a=new Map(r.values);return a.delete(n),{values:a}}),clearAllValues:()=>t(n=>({values:new Map})),reset:()=>t(n=>({values:new Map}))})),lt=nt(it),st=(t="default")=>{const o=lt();return{setValue:(s,c)=>{o.setValue(`${t}.${s}`,c)},getValue:s=>o.getValue(`${t}.${s}`),clearValue:s=>{o.clearValue(`${t}.${s}`)},existsValue:s=>o.existsValue(`${t}.${s}`),clearAllValues:()=>{for(const[s,c]of o.values.entries())s.startsWith(`${t}.`)&&o.clearValue(s)},reset:()=>{o.clearAllValues()},values:o.values}},pt=[],X=[{value:M.APROVADO.toString(),label:"Aprovado",color:"green"},{value:M.REJEITADO.toString(),label:"Rejeitado",color:"red"},{value:M.PENDENTE.toString(),label:"Pendente",color:"orange"}],ut=()=>{const t=De(),o=st("pessoaStore"),n=Pe(Ne.Pessoa),{dataSource:r,isLoading:a,error:e,isError:i,clearError:p}=_e({name:"dsPessoas",service:n,pageSize:15,loadOnStart:!0,store:o,onLoadComplete:d=>{console.log(d)},onDestroy:d=>{},onError:(d,w)=>{Xe.showError(S("WARNING"),d,w)}});G({dataSource:r,listener:d=>{}});const{dataSource:l}=ke({initialData:pt,name:"dsFilters"}),{dataSource:s}=Ie({initialData:ct,name:"dsPessoas"});s!=null&&s.isBrowsing()&&!(s!=null&&s.isEmpty())&&s.edit(),G({dataSource:s,listener:d=>{switch(d.type){case $e.fieldChanged:{t();break}}}});const c=v.useMemo(()=>N(Re,{children:[u(A,{dataField:"id",dataType:"uuid",header:"Id",enableClickToCopy:!0}),u(A,{dataField:"nome",dataType:"text",header:"Nome da pessoa"}),u(A,{dataField:"data_nasc",dataType:"date",header:"Data nascimento",inputFilterType:"date"}),u(A,{dataField:"creditoOK",dataType:"boolean",header:"Crédito OK?"}),u(A,{dataField:"status",dataType:"enum",inputFilterType:"select",enumValues:X,header:"Status",render:d=>u(j,{currentValue:`${d.getValue()}`,values:X})})]}),[]);return u(z,{children:u(z.Col,{span:12,h:"100vh",children:u(k,{title:"Pessoas",dataSource:r,pageSize:15,cellPadding:4,bottomToolbarMinHeight:48,isLoading:a,error:e,isError:i,clearError:p,filterOptions:{activeFilterIndex:0,enabledAdvancedFilter:!1,apiVersion:"1.01",componentName:"templateTableExemplo",viewName:"templateTableView"},columns:c,userRowActions:{actions:Se,onAddRow:()=>{},onEditRow:()=>{},onRemoveRow:()=>{},onViewRow:()=>{}},filterType:"advanced",filterPersistenceDelegator:l,renderDetailPanel:({row:d,table:w})=>u("div",{children:d.original.nome})})})})},ct=[Ye[0]],za={title:"Modelos/Table template",component:k},_={name:"Exemplo simples",render:()=>u(ut,{})};var Z,ee,te;_.parameters={..._.parameters,docs:{...(Z=_.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbaseTableTemplateExample />
}`,...(te=(ee=_.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};export{_ as Primary,za as default};
