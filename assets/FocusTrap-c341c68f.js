import{r as c}from"./index-8b3efc3f.js";import{u as k}from"./use-did-update-bccd292e.js";import{j as m}from"./jsx-runtime-c9381026.js";import{f as L,u as y,h as p,B as v,p as O,i as D,z as H,r as B,n as V}from"./polymorphic-factory-bf652503.js";import{g as _,i as j}from"./OptionalPortal-8c3f6fc2.js";import{u as C}from"./use-merged-ref-a374cf59.js";function ie({opened:e,shouldReturnFocus:n=!0}){const t=c.useRef(null),o=()=>{var r;t.current&&"focus"in t.current&&typeof t.current.focus=="function"&&((r=t.current)==null||r.focus({preventScroll:!0}))};return k(()=>{let r=-1;const s=a=>{a.key==="Tab"&&window.clearTimeout(r)};return document.addEventListener("keydown",s),e?t.current=document.activeElement:n&&(r=window.setTimeout(o,10)),()=>{window.clearTimeout(r),document.removeEventListener("keydown",s)}},[e,n]),o}const P=/input|select|textarea|button|object/,N="a, input, select, textarea, button, object, [tabindex]";function q(e){return e.style.display==="none"}function K(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let t=e;for(;t&&!(t===document.body||t.nodeType===11);){if(q(t))return!1;t=t.parentNode}return!0}function g(e){let n=e.getAttribute("tabindex");return n===null&&(n=void 0),parseInt(n,10)}function d(e){const n=e.nodeName.toLowerCase(),t=!Number.isNaN(g(e));return(P.test(n)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||t)&&K(e)}function T(e){const n=g(e);return(Number.isNaN(n)||n>=0)&&d(e)}function U(e){return Array.from(e.querySelectorAll(N)).filter(T)}function $(e,n){const t=U(e);if(!t.length){n.preventDefault();return}const o=t[n.shiftKey?0:t.length-1],r=e.getRootNode();let s=o===r.activeElement||e===r.activeElement;const a=r.activeElement;if(a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(s=t.filter(i=>i.getAttribute("type")==="radio"&&i.getAttribute("name")===a.getAttribute("name")).includes(o)),!s)return;n.preventDefault();const u=t[n.shiftKey?t.length-1:0];u&&u.focus()}function G(e=!0){const n=c.useRef(null),t=r=>{let s=r.querySelector("[data-autofocus]");if(!s){const a=Array.from(r.querySelectorAll(N));s=a.find(T)||a.find(d)||null,!s&&d(r)&&(s=r)}s&&s.focus({preventScroll:!0})},o=c.useCallback(r=>{e&&r!==null&&n.current!==r&&(r?(setTimeout(()=>{r.getRootNode()&&t(r)}),n.current=r):n.current=null)},[e]);return c.useEffect(()=>{if(!e)return;n.current&&setTimeout(()=>t(n.current));const r=s=>{s.key==="Tab"&&n.current&&$(n.current,s)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e]),o}var E={root:"m_515a97f8"};const M={},b=L((e,n)=>{const t=y("VisuallyHidden",M,e),{classNames:o,className:r,style:s,styles:a,unstyled:l,vars:u,...f}=t,i=p({name:"VisuallyHidden",classes:E,props:t,className:r,style:s,classNames:o,styles:a,unstyled:l});return m(v,{component:"span",ref:n,...i("root"),...f})});b.classes=E;b.displayName="@mantine/core/VisuallyHidden";var h={root:"m_9814e45f"};const Z={zIndex:_("modal")},z=D((e,{gradient:n,color:t,backgroundOpacity:o,blur:r,radius:s,zIndex:a})=>({root:{"--overlay-bg":n||(t!==void 0||o!==void 0)&&H(t||"#000",o??.6)||void 0,"--overlay-filter":r?`blur(${B(r)})`:void 0,"--overlay-radius":s===void 0?void 0:V(s),"--overlay-z-index":a==null?void 0:a.toString()}})),x=O((e,n)=>{const t=y("Overlay",Z,e),{classNames:o,className:r,style:s,styles:a,unstyled:l,vars:u,fixed:f,center:i,children:F,radius:J,zIndex:Q,gradient:W,blur:X,color:Y,backgroundOpacity:ee,mod:w,...I}=t,S=p({name:"Overlay",props:t,classes:h,className:r,style:s,classNames:o,styles:a,unstyled:l,vars:u,varsResolver:z});return m(v,{ref:n,...S("root"),mod:[{center:i,fixed:f},w],...I,children:F})});x.classes=h;x.displayName="@mantine/core/Overlay";function A({children:e,active:n=!0,refProp:t="ref",innerRef:o}){const r=G(n),s=C(r,o);return j(e)?c.cloneElement(e,{[t]:s}):e}function R(e){return m(b,{tabIndex:-1,"data-autofocus":!0,...e})}A.displayName="@mantine/core/FocusTrap";R.displayName="@mantine/core/FocusTrapInitialFocus";A.InitialFocus=R;export{A as F,x as O,ie as u};
