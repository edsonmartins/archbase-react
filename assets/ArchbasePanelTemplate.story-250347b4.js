import{j as t,a as h}from"./jsx-runtime-2ca98591.js";import{r as u}from"./index-402471b7.js";import"./ArchbaseAdvancedTabs-2e888216.js";import{L as Z,N as $,C as ee,u as te,D as ae,Q as re,F as a,O as s,G as p,M as ie,H as x,y as oe}from"./ArchbaseGlobalFilter-e508298c.js";import{c as le,f as m}from"./ArchbaseRemoteApiService-32c8b54f.js";import{u as ne}from"./useArchbaseDataSource-86b4bc22.js";import{u as se}from"./useArchbaseRemoteDataSource-0c2e1817.js";import{u as ue}from"./ArchbaseLocalFilterDataSource-dc5c2882.js";import{u as T}from"./useArchbaseDataSourceListener-d2a23bbf.js";import{u as ce}from"./useArchbaseRemoteServiceApi-9ac3e894.js";import{I as de}from"./useArchbasePassiveLayoutEffect-8e758e5c.js";import{A as pe,p as me}from"./DemoContainerIOC-f3770621.js";import{A as fe}from"./ArchbaseNotifications-af02f1d8.js";import{A as be}from"./ArchbaseActionButtons-4f5e866f.js";import{A as he}from"./ArchbaseSpaceTemplate-45ed04a4.js";import{I as ge,P as Ae}from"./IconEye-4ebefa30.js";import"./_commonjsHelpers-de833af9.js";import"./index-29301433.js";import"./index-9d475cdf.js";import"./ArchbaseFloatingWindow-cac83535.js";import"./use-isomorphic-effect-d441b347.js";import"./Box-603b1b1a.js";import"./MantineProvider-c53063b6.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-20a9f65a.js";import"./Button-86c3033b.js";import"./createReactComponent-b82b540a.js";import"./Text-6036efe5.js";import"./Paper-165ce658.js";import"./use-window-event-f88e3fb7.js";import"./Grid-10ef5cfd.js";import"./Group-d6868f5c.js";import"./extends-98964cd2.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./___vite-browser-external_commonjs-proxy-19bb288c.js";import"./ArchbaseDebugInspector-77ac69b1.js";import"./ArchbaseObjectInspector-4c2f545d.js";const Fe={visible:!0,allowAdd:!0,allowEdit:!0,allowView:!0,allowRemove:!0,positionCustomUserActions:"after"};function A({title:f,dataSource:r,filterOptions:c,filterFields:F,innerRef:d,isError:y=!1,error:q="",clearError:E=()=>{},width:v="100%",height:S="100%",withBorder:i=!0,filterPersistenceDelegator:w,withPagination:o=!0,children:b,radius:C,userActions:P,debug:R=!1,variant:N,actionsButtonsOptions:I,spaceOptions:_,style:B,debugOptions:U}){const L=le(),M=d||u.useRef(),j=u.useRef(),[n,V]=u.useState({activeFilterIndex:-1,expandedFilter:!1}),Q=u.useMemo(()=>{const e={...Fe,...P},l=[e.allowAdd?{id:"1",icon:t(Z,{}),color:"green",label:e.labelAdd?e.labelAdd:m("archbase:New"),executeAction:()=>e&&e.onAddExecute,enabled:!0,hint:"Clique para criar."}:void 0,e.allowEdit?{id:"2",icon:t($,{}),color:"blue",label:e.labelEdit?e.labelEdit:m("archbase:Edit"),executeAction:()=>e&&e.onEditExecute,enabled:!r.isEmpty()&&r.isBrowsing(),hint:"Clique para editar."}:void 0,e.allowRemove?{id:"3",icon:t(de,{}),color:"red",label:e.labelRemove?e.labelRemove:m("archbase:Remove"),executeAction:()=>e&&e.onRemoveExecute,enabled:!r.isEmpty()&&r.isBrowsing(),hint:"Clique para remover."}:void 0,e.allowView?{id:"4",icon:t(ge,{}),color:"green",label:e.labelView?e.labelView:m("archbase:View"),executeAction:()=>e&&e.onView,enabled:!r.isEmpty()&&r.isBrowsing(),hint:"Clique para visualizar."}:void 0];return e.customUserActions&&e.positionCustomUserActions==="before"?[...e.customUserActions,...l]:e.customUserActions&&e.positionCustomUserActions==="after"?[...l,...e.customUserActions]:l},[P,r]),z=(e,l)=>{V({...n,currentFilter:e,activeFilterIndex:l})},G=e=>{V({...n,expandedFilter:e})},H=(e,l)=>{V({...n,currentFilter:e,activeFilterIndex:l})},K=()=>{},J={menuButtonColor:"blue.5",menuPosition:"left"},W={headerFlexGrow:"left",footerFlexGrow:"right"},Y={...J,...I},X={...W,..._};return t(he,{innerRef:M,width:v,height:S,radius:C,withBorder:i,isError:y,error:q,clearError:E,title:f,defaultDebug:R,debugOptions:U,style:B,options:X,headerLeft:t(be,{actions:Q,options:Y}),headerRight:t(ee,{id:c.componentName,viewName:c.viewName,apiVersion:c.apiVersion,ref:j,variant:N??L.variant,expandedFilter:n.expandedFilter,persistenceDelegator:w,currentFilter:n.currentFilter,activeFilterIndex:n.activeFilterIndex,onSelectedFilter:H,onFilterChanged:z,onSearchByFilter:K,onToggleExpandedFilter:G,width:"660px",height:"170px",children:F}),footerRight:o&&t(Ae,{total:10}),children:b})}try{A.displayName="ArchbasePanelTemplate",A.__docgenInfo={description:"",displayName:"ArchbasePanelTemplate",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"ArchbaseDataSource<T, ID>"}},dataSourceEdition:{defaultValue:null,description:"",name:"dataSourceEdition",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'Variants<"white" | "default" | "filled" | "outline" | "light" | "subtle" | "gradient">'}},filterOptions:{defaultValue:null,description:"",name:"filterOptions",required:!0,type:{name:"FilterOptions"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!1,type:{name:"number"}},filterFields:{defaultValue:null,description:"",name:"filterFields",required:!0,type:{name:"ReactNode"}},filterPersistenceDelegator:{defaultValue:null,description:"",name:"filterPersistenceDelegator",required:!0,type:{name:"ArchbaseQueryFilterDelegator"}},userActions:{defaultValue:null,description:"",name:"userActions",required:!1,type:{name:"UserActionsOptions"}},innerRef:{defaultValue:null,description:"Referência para o componente interno",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},isError:{defaultValue:{value:"false"},description:"",name:"isError",required:!1,type:{name:"boolean"}},error:{defaultValue:{value:""},description:"",name:"error",required:!1,type:{name:"string"}},clearError:{defaultValue:{value:"() => {}"},description:"",name:"clearError",required:!1,type:{name:"() => void"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"100%"},description:"",name:"height",required:!1,type:{name:"string | number"}},withBorder:{defaultValue:{value:"true"},description:"",name:"withBorder",required:!1,type:{name:"boolean"}},withPagination:{defaultValue:{value:"true"},description:"",name:"withPagination",required:!1,type:{name:"boolean"}},radius:{defaultValue:null,description:"",name:"radius",required:!1,type:{name:"MantineNumberSize"}},debug:{defaultValue:{value:"false"},description:"",name:"debug",required:!1,type:{name:"boolean"}},actionsButtonsOptions:{defaultValue:null,description:"",name:"actionsButtonsOptions",required:!1,type:{name:"ArchbaseActionButtonsOptions"}},spaceOptions:{defaultValue:null,description:"",name:"spaceOptions",required:!1,type:{name:"ArchbaseSpaceTemplateOptions"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},debugOptions:{defaultValue:null,description:"",name:"debugOptions",required:!1,type:{name:"ArchbaseDebugOptions"}}}}}catch{}const ye=[],qe=()=>{const f=te(),[r,c]=u.useState(!0),F=ce(pe.Pessoa),{dataSource:d,isLoading:y,error:q,isError:E,clearError:v}=se({name:"dsPessoas",service:F,pageSize:10,loadOnStart:!0,currentPage:0,onLoadComplete:o=>{},onDestroy:o=>{},onError:(o,b)=>{fe.showError(m("WARNING"),o,b)}});T({dataSource:d,listener:o=>{}});const{dataSource:S}=ue({initialData:ye,name:"dsFilters"}),{dataSource:i}=ne({initialData:Ee,name:"dsPessoas"});i!=null&&i.isBrowsing()&&!(i!=null&&i.isEmpty())&&i.edit(),T({dataSource:i,listener:o=>{switch(o.type){case ae.fieldChanged:{f();break}}}});const w=u.useMemo(()=>h(re,{children:[t(a,{name:"id",label:"ID",dataType:"number",sortable:!0,quickFilter:!0,quickFilterSort:!0}),t(a,{name:"nome",label:"Nome da pessoa",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),h(a,{name:"sexo",label:"Sexo",dataType:"string",sortable:!0,quickFilter:!0,quickFilterSort:!0,children:[t(p,{label:"Masculino",value:"Masculino"}),t(p,{label:"Feminino",value:"Feminino"})]}),t(a,{name:"cpf",label:"CPF",dataType:"string",sortable:!0,quickFilter:!0,mask:ie.CPF}),t(a,{name:"pai",label:"Nome do pai",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(a,{name:"mae",label:"Nome do mãe",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(a,{name:"cidade",label:"Cidade",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(a,{name:"Estado",label:"Estado",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(a,{name:"email",label:"E-mail",dataType:"string",sortable:!0,quickFilter:!0,operator:s,quickFilterSort:!0}),t(a,{name:"data_nasc",label:"Data nascimento",dataType:"date",sortable:!0,quickFilter:!0,operator:x}),t(a,{name:"peso",label:"Peso KG",dataType:"number",sortable:!0,quickFilter:!0,operator:x,quickFilterSort:!0}),h(a,{name:"status",label:"Status da pessoa",dataType:"string",sortable:!0,quickFilter:!0,quickFilterSort:!0,children:[t(p,{label:"APROVADO",value:"0"}),t(p,{label:"REJEITADO",value:"1"}),t(p,{label:"PENDENTE",value:"2"})]})]}),[]);return h("div",{style:{width:"100%",height:"calc(100vh - 50px)"},children:[t(oe,{label:"Debug",isChecked:r,onChangeValue:(o,b)=>c(o===!0)}),t(A,{title:"Pessoas",dataSource:d,withPagination:!0,pageSize:10,isLoading:y,error:q,isError:E,clearError:v,width:"100%",height:"100%",debug:r,debugOptions:{debugLayoutHotKey:"ctrl+shift+S",debugObjectInspectorHotKey:"ctrl+shift+D",objectsToInspect:[{name:"Pessoa",object:d}]},filterOptions:{activeFilterIndex:0,enabledAdvancedFilter:!1,apiVersion:"1.01",componentName:"templatePanelExemplo",viewName:"templatePanelView"},userActions:{},filterFields:w,filterPersistenceDelegator:S})]})},Ee=[me[0]],ot={title:"Modelos/Panel template",component:A},g={name:"Exemplo simples",render:()=>t(qe,{})};var D,k,O;g.parameters={...g.parameters,docs:{...(D=g.parameters)==null?void 0:D.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbasePanelTemplateExample />
}`,...(O=(k=g.parameters)==null?void 0:k.docs)==null?void 0:O.source}}};export{g as Primary,ot as default};
//# sourceMappingURL=ArchbasePanelTemplate.story-250347b4.js.map
