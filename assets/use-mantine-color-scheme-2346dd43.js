import{r as c}from"./index-8b3efc3f.js";import{M as h}from"./Mantine.context-7e9479f9.js";import{u as f}from"./use-media-query-78751440.js";function w(t,e){return f("(prefers-color-scheme: dark)",t==="dark",e)?"dark":"light"}function m(){const t=document.createElement("style");return t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(o=>o.remove())}function g({keepTransitions:t}={}){const e=c.useRef(),o=c.useRef(),n=c.useContext(h);if(!n)throw new Error("[@mantine/core] MantineProvider was not found in tree");const i=r=>{n.setColorScheme(r),e.current=t?()=>{}:m(),window.clearTimeout(o.current),o.current=window.setTimeout(()=>{var a;(a=e.current)==null||a.call(e)},10)},s=()=>{n.clearColorScheme(),e.current=t?()=>{}:m(),window.clearTimeout(o.current),o.current=window.setTimeout(()=>{var r;(r=e.current)==null||r.call(e)},10)},l=w("light",{getInitialValueInEffect:!1}),u=n.colorScheme==="auto"?l:n.colorScheme,d=c.useCallback(()=>i(u==="light"?"dark":"light"),[i,u]);return c.useEffect(()=>()=>{var r;(r=e.current)==null||r.call(e),window.clearTimeout(o.current)},[]),{colorScheme:n.colorScheme,setColorScheme:i,clearColorScheme:s,toggleColorScheme:d}}export{g as u};
