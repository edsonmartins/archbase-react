import{j as s,a as G}from"./jsx-runtime-c9381026.js";import{b as Ce,c as ve,d as Ee,u as we,a as be}from"./useArchbaseDataSource-c5d317be.js";import{D as d,u as ge}from"./useArchbaseDataSourceListener-92dd263c.js";import"./index-9e992aa6.js";import{r as l}from"./index-8b3efc3f.js";import{f as Ve,u as qe,h as Ie,e as De,t as xe,i as Ae,q as ae,b as Pe}from"./polymorphic-factory-bf652503.js";import{u as Se}from"./use-force-update-11fe72c1.js";import{u as _e}from"./use-resolved-styles-api-07b5b463.js";import{A as Le}from"./ActionIcon-aabf0409.js";import{I as re}from"./Input-7a6e621e.js";import{I as Re}from"./InputBase-46c7ce5b.js";import{u as Fe}from"./use-id-f896cdc5.js";import{u as Me}from"./use-uncontrolled-f56237fb.js";import{G as H}from"./Grid-93307f43.js";import{C as S}from"./Card-171745c8.js";import{G as te}from"./Group-5b3c182b.js";import{T as se}from"./Text-70cb1fd9.js";import{A as Oe}from"./ArchbaseObjectInspector-191de42c.js";import{p as Ne}from"./pessoasData-6b8000da.js";import"./i18next-a4b2730f.js";import"./lodash-4d0be66a.js";import"./_commonjsHelpers-de833af9.js";import"./index-1905cc86.js";import"./index-d0400ba7.js";import"./Mantine.context-41afb47e.js";import"./Loader-a46c68a6.js";import"./Transition-e462ee3e.js";import"./index-a38d0dca.js";import"./use-reduced-motion-73d958ef.js";import"./use-media-query-91643880.js";import"./use-did-update-bccd292e.js";import"./UnstyledButton-5ea781f1.js";import"./create-optional-context-86e78b6c.js";import"./use-input-props-5361677b.js";import"./use-isomorphic-effect-aa890e3d.js";import"./create-safe-context-941c9e18.js";import"./get-sorted-breakpoints-e9679440.js";import"./px-90b8b31c.js";import"./Paper-e7399838.js";import"./use-mantine-color-scheme-12883fe8.js";import"./noop-1bad6ac0.js";import"./types-5decf4ed.js";const ze=({reveal:t})=>s("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:s("path",{d:t?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var J={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const Ue={visibilityToggleIcon:ze},je=Ae((t,{size:e})=>({root:{"--psi-icon-size":ae(e,"psi-icon-size"),"--psi-button-size":ae(e,"psi-button-size")}})),Q=Ve((t,e)=>{const o=qe("PasswordInput",Ue,t),{classNames:m,className:R,style:F,styles:E,unstyled:u,vars:p,required:w,error:f,leftSection:b,disabled:h,id:M,variant:g,inputContainer:O,description:V,label:q,size:y,errorProps:X,descriptionProps:C,labelProps:I,withAsterisk:N,inputWrapperOrder:D,wrapperProps:v,radius:x,rightSection:c,rightSectionWidth:A,rightSectionPointerEvents:P,leftSectionWidth:z,visible:U,defaultVisible:j,onVisibilityChange:Y,visibilityToggleIcon:a,visibilityToggleButtonProps:r,rightSectionProps:$,leftSectionProps:le,leftSectionPointerEvents:de,withErrorStyles:ue,mod:pe,...ce}=o,K=Fe(M),[T,me]=Me({value:U,defaultValue:j,finalValue:!1,onChange:Y}),Z=()=>me(!T),k=Ie({name:"PasswordInput",classes:J,props:o,className:R,style:F,classNames:m,styles:E,unstyled:u,vars:p,varsResolver:je}),{resolvedClassNames:W,resolvedStyles:B}=_e({classNames:m,styles:E,props:o}),{styleProps:fe,rest:ee}=De(ce),he=a,ye=s(Le,{...k("visibilityToggle"),disabled:h,radius:x,"aria-hidden":!r,tabIndex:-1,...r,variant:(r==null?void 0:r.variant)??"subtle",color:"gray",unstyled:u,onTouchEnd:n=>{var i;n.preventDefault(),(i=r==null?void 0:r.onTouchEnd)==null||i.call(r,n),Z()},onMouseDown:n=>{var i;n.preventDefault(),(i=r==null?void 0:r.onMouseDown)==null||i.call(r,n),Z()},onKeyDown:n=>{var i;(i=r==null?void 0:r.onKeyDown)==null||i.call(r,n),n.key===" "&&(n.preventDefault(),Z())},children:s(he,{reveal:T})});return s(re.Wrapper,{required:w,id:K,label:q,error:f,description:V,size:y,classNames:W,styles:B,__staticSelector:"PasswordInput",errorProps:X,descriptionProps:C,unstyled:u,withAsterisk:N,inputWrapperOrder:D,inputContainer:O,variant:g,labelProps:{...I,htmlFor:K},mod:pe,...k("root"),...fe,...v,children:s(re,{component:"div",error:f,leftSection:b,size:y,classNames:{...W,input:xe(J.input,W.input)},styles:B,radius:x,disabled:h,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:c??ye,variant:g,unstyled:u,leftSectionWidth:z,rightSectionPointerEvents:P||"all",rightSectionProps:$,leftSectionProps:le,leftSectionPointerEvents:de,withAria:!1,withErrorStyles:ue,children:s("input",{required:w,"data-invalid":!!f||void 0,"data-with-left-section":!!b||void 0,...k("innerInput"),disabled:h,id:K,ref:e,...ee,autoComplete:ee.autoComplete||"off",type:T?"text":"password"})})})});Q.classes={...Re.classes,...J};Q.displayName="@mantine/core/PasswordInput";function L({dataSource:t,dataField:e,disabled:o=!1,readOnly:m=!1,style:R,placeholder:F,label:E,description:u,error:p,required:w,size:f,width:b,innerRef:h,value:M,onKeyDown:g,onKeyUp:O,onFocusExit:V=()=>{},onFocusEnter:q=()=>{},onChangeValue:y=()=>{},variant:X}){const[C,I]=l.useState(M||""),N=l.useRef();Pe();const[D,v]=l.useState(p),x=Se();l.useEffect(()=>{v(void 0)},[C]),l.useEffect(()=>{p!==D&&v(p)},[p]);const c=()=>{let a=C;t&&e&&(a=t.getFieldValue(e),a||(a="")),I(a)},A=l.useCallback(()=>{c()},[]),P=l.useCallback(a=>{t&&e&&((a.type===d.dataChanged||a.type===d.recordChanged||a.type===d.afterScroll||a.type===d.afterCancel||a.type===d.afterEdit)&&(c(),x()),a.type===d.onFieldError&&a.fieldName===e&&v(a.error))},[]);Ce(()=>{c(),t&&e&&(t.addListener(P),t.addFieldChangeListener(e,A))}),ve(()=>{c()},[]);const z=a=>{a.preventDefault();const r=a.target.value;a.persist(),I($=>r),t&&!t.isBrowsing()&&e&&t.getFieldValue(e)!==r&&t.setFieldValue(e,r),y&&y(a,r)};Ee(()=>{t&&e&&(t.removeListener(P),t.removeFieldChangeListener(e,A))});const U=a=>{V&&V(a)},j=a=>{q&&q(a)};return s(Q,{disabled:o,readOnly:(()=>{let a=m;return t&&!m&&(a=t.isBrowsing()),a})(),size:f,style:{width:b,...R},value:C,ref:h||N,required:w,onChange:z,onBlur:U,onFocus:j,placeholder:F,description:u,onKeyDown:g,onKeyUp:O,label:E,error:D})}try{L.displayName="ArchbasePasswordEdit",L.__docgenInfo={description:"",displayName:"ArchbasePasswordEdit",props:{dataSource:{defaultValue:null,description:"Fonte de dados onde será atribuido o valor do edit",name:"dataSource",required:!1,type:{name:"ArchbaseDataSource<T, ID>"}},dataField:{defaultValue:null,description:"Campo onde deverá ser atribuido o valor do edit na fonte de dados",name:"dataField",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Indicador se o edit está desabilitado",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"Indicador se o edit é somente leitura. Obs: usado em conjunto com o status da fonte de dados",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"Indicador se o preenchimento do edit é obrigatório",name:"required",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"Valor inicial",name:"value",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Estilo do edit",name:"style",required:!1,type:{name:"CSSProperties"}},size:{defaultValue:null,description:"Tamanho do edit",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},width:{defaultValue:null,description:"Largura do edit",name:"width",required:!1,type:{name:"string | number"}},placeholder:{defaultValue:null,description:"Texto sugestão do edit",name:"placeholder",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Título do edit",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Descrição do edit",name:"description",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Último erro ocorrido no edit",name:"error",required:!1,type:{name:"string"}},onFocusExit:{defaultValue:{value:"() => {}"},description:"Evento quando o foco sai do edit",name:"onFocusExit",required:!1,type:{name:"FocusEventHandler<T>"}},onFocusEnter:{defaultValue:{value:"() => {}"},description:"Evento quando o edit recebe o foco",name:"onFocusEnter",required:!1,type:{name:"FocusEventHandler<T>"}},onChangeValue:{defaultValue:{value:"() => {}"},description:"Evento quando o valor do edit é alterado",name:"onChangeValue",required:!1,type:{name:"(value: any, event: any) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: any) => void"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"(event: any) => void"}},innerRef:{defaultValue:null,description:"Referência para o componente interno",name:"innerRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"filled"'},{value:'"unstyled"'},{value:'"default"'}]}}}}}catch{}const Ke=()=>{const t=we(),{dataSource:e}=be({initialData:Te,name:"dsPessoas"});return e!=null&&e.isBrowsing()&&!(e!=null&&e.isEmpty())&&e.edit(),ge({dataSource:e,listener:o=>{switch(o.type){case d.fieldChanged:{t();break}}}}),G(H,{children:[s(H.Col,{offset:1,span:4,children:G(S,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[s(S.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:s(te,{justify:"space-between",children:s(se,{fw:500,children:"PasswordEdit Component"})})}),s(L,{label:"Senha",dataSource:e,dataField:"senha"})]})}),s(H.Col,{span:4,children:G(S,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[s(S.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:s(te,{justify:"space-between",children:s(se,{fw:500,children:"DataSource dsPessoas"})})}),s(Oe,{data:e})]})})]})},Te=[Ne[0]],_a={title:"Editores/Password Edit",component:L},_={name:"Exemplo simples",render:()=>s(Ke,{})};var ne,ie,oe;_.parameters={..._.parameters,docs:{...(ne=_.parameters)==null?void 0:ne.docs,source:{originalSource:`{
  name: 'Exemplo simples',
  render: () => <ArchbasePasswordEditExample />
}`,...(oe=(ie=_.parameters)==null?void 0:ie.docs)==null?void 0:oe.source}}};export{_ as Primary,_a as default};
